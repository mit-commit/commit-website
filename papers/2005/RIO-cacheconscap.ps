%!PS-Adobe-2.0
%%Creator: dvips(k) 5.92b Copyright 2002 Radical Eye Software
%%Pages: 12
%%PageOrder: Ascend
%%BoundingBox: 0 0 612 792
%%DocumentFonts: Times-Bold Times-Roman CMSY10 Times-Italic
%%+ Helvetica-Bold Courier CMSY9
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips -Pcmz -t letter -f
%DVIPSParameters: dpi=600, compressed
%DVIPSSource:  TeX output 2004.12.10:1643
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc
% File  8r.enc as of 2002-03-12 for PSNFSS 9
%
% This is the encoding vector for Type1 and TrueType fonts to be used
% with TeX.  This file is part of the PSNFSS bundle, version 9
% 
% Authors: S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry, W. Schmidt
%
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida + Euro.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both ASCII and Windows.
%
% (6) /Euro is assigned to 128, as in Windows ANSI
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there down to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /Euro /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def

%%EndProcSet
%%BeginProcSet: texps.pro
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]FontType 0
ne{/Metrics exch def dict begin Encoding{exch dup type/integertype ne{
pop pop 1 sub dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get
div def}ifelse}forall Metrics/Metrics currentdict end def}{{1 index type
/nametype eq{exit}if exch pop}loop}ifelse[2 index currentdict end
definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{dup
sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1 roll
mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def dup[
exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}if}
forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}def
end

%%EndProcSet
%%BeginProcSet: special.pro
%!
TeXDict begin/SDict 200 dict N SDict begin/@SpecialDefaults{/hs 612 N
/vs 792 N/ho 0 N/vo 0 N/hsc 1 N/vsc 1 N/ang 0 N/CLIP 0 N/rwiSeen false N
/rhiSeen false N/letter{}N/note{}N/a4{}N/legal{}N}B/@scaleunit 100 N
/@hscale{@scaleunit div/hsc X}B/@vscale{@scaleunit div/vsc X}B/@hsize{
/hs X/CLIP 1 N}B/@vsize{/vs X/CLIP 1 N}B/@clip{/CLIP 2 N}B/@hoffset{/ho
X}B/@voffset{/vo X}B/@angle{/ang X}B/@rwi{10 div/rwi X/rwiSeen true N}B
/@rhi{10 div/rhi X/rhiSeen true N}B/@llx{/llx X}B/@lly{/lly X}B/@urx{
/urx X}B/@ury{/ury X}B/magscale true def end/@MacSetUp{userdict/md known
{userdict/md get type/dicttype eq{userdict begin md length 10 add md
maxlength ge{/md md dup length 20 add dict copy def}if end md begin
/letter{}N/note{}N/legal{}N/od{txpose 1 0 mtx defaultmatrix dtransform S
atan/pa X newpath clippath mark{transform{itransform moveto}}{transform{
itransform lineto}}{6 -2 roll transform 6 -2 roll transform 6 -2 roll
transform{itransform 6 2 roll itransform 6 2 roll itransform 6 2 roll
curveto}}{{closepath}}pathforall newpath counttomark array astore/gc xdf
pop ct 39 0 put 10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}
if}N/txpose{pxs pys scale ppr aload pop por{noflips{pop S neg S TR pop 1
-1 scale}if xflip yflip and{pop S neg S TR 180 rotate 1 -1 scale ppr 3
get ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip
yflip not and{pop S neg S TR pop 180 rotate ppr 3 get ppr 1 get neg sub
neg 0 TR}if yflip xflip not and{ppr 1 get neg ppr 0 get neg TR}if}{
noflips{TR pop pop 270 rotate 1 -1 scale}if xflip yflip and{TR pop pop
90 rotate 1 -1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0 get
neg sub neg TR}if xflip yflip not and{TR pop pop 90 rotate ppr 3 get ppr
1 get neg sub neg 0 TR}if yflip xflip not and{TR pop pop 270 rotate ppr
2 get ppr 0 get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4
-1 roll add 2 div 3 1 roll add 2 div 2 copy TR .96 dup scale neg S neg S
TR}if}N/cp{pop pop showpage pm restore}N end}if}if}N/normalscale{
Resolution 72 div VResolution 72 div neg scale magscale{DVImag dup scale
}if 0 setgray}N/psfts{S 65781.76 div N}N/startTexFig{/psf$SavedState
save N userdict maxlength dict begin/magscale true def normalscale
currentpoint TR/psf$ury psfts/psf$urx psfts/psf$lly psfts/psf$llx psfts
/psf$y psfts/psf$x psfts currentpoint/psf$cy X/psf$cx X/psf$sx psf$x
psf$urx psf$llx sub div N/psf$sy psf$y psf$ury psf$lly sub div N psf$sx
psf$sy scale psf$cx psf$sx div psf$llx sub psf$cy psf$sy div psf$ury sub
TR/showpage{}N/erasepage{}N/setpagedevice{pop}N/copypage{}N/p 3 def
@MacSetUp}N/doclip{psf$llx psf$lly psf$urx psf$ury currentpoint 6 2 roll
newpath 4 copy 4 2 roll moveto 6 -1 roll S lineto S lineto S lineto
closepath clip newpath moveto}N/endTexFig{end psf$SavedState restore}N
/@beginspecial{SDict begin/SpecialSave save N gsave normalscale
currentpoint TR @SpecialDefaults count/ocount X/dcount countdictstack N}
N/@setspecial{CLIP 1 eq{newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs
neg 0 rlineto closepath clip}if ho vo TR hsc vsc scale ang rotate
rwiSeen{rwi urx llx sub div rhiSeen{rhi ury lly sub div}{dup}ifelse
scale llx neg lly neg TR}{rhiSeen{rhi ury lly sub div dup scale llx neg
lly neg TR}if}ifelse CLIP 2 eq{newpath llx lly moveto urx lly lineto urx
ury lineto llx ury lineto closepath clip}if/showpage{}N/erasepage{}N
/setpagedevice{pop}N/copypage{}N newpath}N/@endspecial{count ocount sub{
pop}repeat countdictstack dcount sub{end}repeat grestore SpecialSave
restore end}N/@defspecial{SDict begin}N/@fedspecial{end}B/li{lineto}B
/rl{rlineto}B/rc{rcurveto}B/np{/SaveX currentpoint/SaveY X N 1
setlinecap newpath}N/st{stroke SaveX SaveY moveto}N/fil{fill SaveX SaveY
moveto}N/ellipse{/endangle X/startangle X/yrad X/xrad X/savematrix
matrix currentmatrix N TR xrad yrad scale 0 0 1 startangle endangle arc
savematrix setmatrix}N end

%%EndProcSet
%%BeginFont: CMSY9
%!PS-AdobeFont-1.1: CMSY9 1.0
%%CreationDate: 1991 Aug 15 07:22:27
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.0) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMSY9) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle -14.035 def
/isFixedPitch false def
end readonly def
/FontName /CMSY9 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 49 /infinity put
readonly def
/FontBBox{-30 -958 1146 777}readonly def
/UniqueID 5000819 def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052F09F9C8ADE9D907C058B87E9B6964
7D53359E51216774A4EAA1E2B58EC3176BD1184A633B951372B4198D4E8C5EF4
A213ACB58AA0A658908035BF2ED8531779838A960DFE2B27EA49C37156989C85
E21B3ABF72E39A89232CD9F4237FC80C9E64E8425AA3BEF7DED60B122A52922A
221A37D9A807DD01161779DDE7D31FF2B87F97C73D63EECDDA4C49501773468A
27D1663E0B62F461F6E40A5D6676D0037D33F24E2FAC2B0009AD3C8350CDF8CC
65BCA87979C36D14CB552E9A985E48BE4E88ECA16DF418749AF04FDD2B0E1380
D281BB2476BB45FF30946B247DFD7F57305FA87E50CA338121C71CDFDF927A9C
77FF14CB4A1D6D80356FB1171ED38C37702350497B44E42CE31DB2F493807DAA
15B887C671199A54C4C1294BC520F5538C15556BC43C9F62342B121C6DCD6C5F
491DA47FF360201EE21C08A781ED0589A6DF91B99FE118B9B29E4F068672E52F
1A06C514D91C4C937D4E642503392B1CD1BE8C2F499A1AD3753691F4D1DAB520
BDD769B0A0864498908FBCF858558000B8A07FDC843CCE8FBADB28D95C1DEFC4
E4A6A2BFC1BFF394456ED067E29CC359EE05A8FB88065036A0ACA53B120AC2DD
ABB2E59B62D2AA2C5C9CFC65D437B92F35CB8DEF5B2C30B110C9DDA920CC9513
F44584439B495945BC6C5AFE28F76D7C24A6D6D1733A3A4968786332541BB44C
13D72084E8C0E74D70EB90301881A8B0074B1232698C99F079ABEF15059DDE5D
9A430267AF42421A502309F84086F92302EBAEF9E1800F2E9E44F013D27362A6
926CBB03F149BBAB1089256FA37ACC3CF274E082581A9BC0368540CD9F028BCC
3F5E52CF95EFD0FC8B9FC55610629D1D5AB4E50D2A0FE19568F527184E7678E5
55182B359D42CB31C51CD0624FBA97D67446C7B6C6F5857428BB1737D672109B
5F65A3B455C4B7D7387EC45F879A6899E3A55EE8EC6B8EC626B80E431BE0506B
E709C483B96F335C969B8ACA77D20BD7CBC3D8993F86017B12
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
%%BeginFont: CMSY10
%!PS-AdobeFont-1.1: CMSY10 1.0
%%CreationDate: 1991 Aug 15 07:20:57
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.0) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMSY10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle -14.035 def
/isFixedPitch false def
end readonly def
/FontName /CMSY10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 102 /braceleft put
dup 103 /braceright put
readonly def
/FontBBox{-29 -960 1116 775}readonly def
/UniqueID 5000820 def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052F09F9C8ADE9D907C058B87E9B6964
7D53359E51216774A4EAA1E2B58EC3176BD1184A633B951372B4198D4E8C5EF4
A213ACB58AA0A658908035BF2ED8531779838A960DFE2B27EA49C37156989C85
E21B3ABF72E39A89232CD9F4237FC80C9E64E8425AA3BEF7DED60B122A52922A
221A37D9A807DD01161779DDE7D31FF2B87F97C73D63EECDDA4C49501773468A
27D1663E0B62F461F6E40A5D6676D1D12B51E641C1D4E8E2771864FC104F8CBF
5B78EC1D88228725F1C453A678F58A7E1B7BD7CA700717D288EB8DA1F57C4F09
0ABF1D42C5DDD0C384C7E22F8F8047BE1D4C1CC8E33368FB1AC82B4E96146730
DE3302B2E6B819CB6AE455B1AF3187FFE8071AA57EF8A6616B9CB7941D44EC7A
71A7BB3DF755178D7D2E4BB69859EFA4BBC30BD6BB1531133FD4D9438FF99F09
4ECC068A324D75B5F696B8688EEB2F17E5ED34CCD6D047A4E3806D000C199D7C
515DB70A8D4F6146FE068DC1E5DE8BC57036431151EC603C8BCFE359BBD953AD
5F3D998C69E42AA96AA212AD55B676FA2B4F6B519575404233C09AF99014AB95
767523D9E1F8806E766AC0DD6D81028C3AA9C7536D88D3C2DB6D9949F844935E
420963F40430452DEAAC1F500BFB1C2473C54B9987BE449F042633C7038D5AEB
7E1E11C50911EBCF0979F8192E056A2B2EE9785EB73B1AB874116AD5AA74F32C
BF57FC28FFED335DFD9261AC7A624EAA93BEBC2C0F8B3F898DDA1490D59C6C4B
A651746C8EAD41BDAA1AF4056AFE98D2D3AE3CCEB9C67FE3A63385470EA42968
34268684A674675AB9EDBB5BFCA81224B22D4ECF40D1F31A39481AC68A87F252
F4E7C1C340A26E0D514BACCAA51898758A7E7B63D2E7F34E91554151433F0FD2
4901D3DE9A5FB9306552DC57EAB729AA07780927E1ECCB5D1F59A09A1E3FFF2D
922B6C9B58CB20D687A72B9C22D4EC926771541EDA3B75559510DB21BA4461EA
960B8E5AF4D31D08E8F235D677A9F6EFDB01926967743942C23955678E438F51
E5E22E2FA2AA7894755053C32B39277B82C00B3D9BE9957CF3ED626852FFFC31
6E5F0F7489198136A3284B31CC94299EED05B8FA66B8D33F7C47367790D23CD5
303B0C8E58B0E51BEA9325282F19A3D361A3BEA6BB0CCD09BE735D810E7E0A79
D1A9C580CFC8CF9FF685D63ECDCCC024C235448BA632F00C3C5BC0E86F44B90A
293817CC93035E5E18548A7E157C2887309BF84C167D8DBED024BB
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
TeXDict begin 40258431 52099146 1000 600 600 () @start
/Fa 134[40 40 40 40 40 40 40 40 1[40 40 40 40 40 40 40
40 40 40 40 40 40 40 40 40 1[40 7[40 2[40 3[40 11[40
40 8[40 40 40 1[40 1[40 40 40 40 40 40 40 10[40 35[{
 TeXBase1Encoding ReEncodeFont }42 66.4176 /Courier rf
/Fb 133[29 33 1[50 33 37 21 29 29 1[37 37 37 54 21 33
1[21 37 37 21 33 37 33 37 37 9[62 46 1[42 37 46 1[46
54 50 62 42 2[25 1[54 46 46 54 50 46 46 7[37 37 37 37
37 37 37 37 37 37 21 1[25 19 2[25 25 25 36[37 2[{
 TeXBase1Encoding ReEncodeFont }58 74.7198 /Times-Italic
rf /Fc 137[37 1[25 3[42 2[62 3[21 3[33 1[33 1[37 39[37
37 37 37 37 37 37 37 4[25 7[75 37[{ TeXBase1Encoding ReEncodeFont }18
74.7198 /Times-Bold rf /Fd 206[77 49[{}1 74.7198 /CMSY9
rf /Fe 134[45 45 45 1[45 45 45 45 1[45 45 45 45 45 45
1[45 45 45 45 45 45 45 1[45 10[45 45 45 45 1[45 45 45
45 45 2[45 3[45 45 1[45 67[{ TeXBase1Encoding ReEncodeFont }34
74.7198 /Courier rf /Ff 82[30 50[41 46 2[46 51 30 36
41 1[51 46 51 76 25 51 1[25 51 46 30 41 51 41 1[46 9[91
66 66 61 51 66 1[56 1[66 86 6[56 61 66 66 1[66 10[46
46 46 46 46 46 2[23 43[51 2[{ TeXBase1Encoding ReEncodeFont }44
91.3242 /Times-Bold rf /Fg 104[75 37 27[33 37 37 54 37
37 21 29 25 37 37 37 37 58 21 37 21 21 37 37 25 33 37
33 37 33 3[25 1[25 46 54 54 71 54 54 46 42 50 1[42 54
54 66 46 54 29 25 54 54 42 46 54 50 50 54 69 33 4[21
37 37 37 37 37 37 37 37 37 37 1[19 25 19 2[25 25 1[58
62 33[42 42 2[{ TeXBase1Encoding ReEncodeFont }77 74.7198
/Times-Roman rf /Fh 82[28 50[42 46 46 65 46 51 28 46
32 51 51 51 51 74 23 46 1[23 51 51 28 46 51 46 51 46
12[51 55 60 1[55 65 5[23 2[51 1[60 60 1[60 5[28 28 2[46
46 46 46 46 46 46 46 23 23 1[23 2[28 28 23 35[51 51 2[{
 TeXBase1Encoding ReEncodeFont }54 83.022 /Helvetica-Bold
rf /Fi 104[83 42 27[37 42 42 60 42 42 23 32 28 42 42
42 42 65 23 42 23 23 42 42 28 37 42 37 42 37 3[28 1[28
3[78 60 60 51 46 55 1[46 60 60 74 51 1[32 28 60 1[46
51 60 55 55 60 5[23 23 42 42 42 42 42 42 42 42 42 42
1[21 28 21 2[28 28 28 1[69 33[46 46 2[{ TeXBase1Encoding ReEncodeFont }
71 83.022 /Times-Roman rf /Fj 133[32 37 37 55 37 42 23
32 32 42 42 42 42 60 23 37 1[23 42 42 23 37 42 37 42
42 12[46 42 51 2[60 5[28 60 3[60 55 1[51 13[42 42 3[21
28 21 40[42 42 2[{ TeXBase1Encoding ReEncodeFont }41
83.022 /Times-Italic rf /Fk 134[50 2[50 55 33 39 44 1[55
50 55 1[28 55 1[28 55 50 33 44 55 44 55 50 9[100 4[72
4[94 3[39 3[66 1[72 1[72 10[50 50 50 50 50 50 49[{
 TeXBase1Encoding ReEncodeFont }33 99.6264 /Times-Bold
rf /Fl 152[50 50 102[{}2 99.6264 /CMSY10 rf /Fm 134[50
3[50 28 39 33 1[50 50 50 78 28 50 1[28 50 50 1[44 50
44 50 44 12[61 55 5[89 61 2[33 4[72 66 66 72 92 17[25
1[25 41[55 2[{ TeXBase1Encoding ReEncodeFont }32 99.6264
/Times-Roman rf /Fn 134[60 1[86 1[66 40 47 53 1[66 60
66 4[33 66 60 40 53 66 53 1[60 13[66 5[113 9[86 80 66[{
 TeXBase1Encoding ReEncodeFont }21 119.552 /Times-Bold
rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%BeginPaperSize: Letter
letter
%%EndPaperSize
 end
%%EndSetup
%%Page: 1 1
TeXDict begin 1 0 bop 625 149 a Fn(Maintaining)31 b(Consistency)e(and)i
(Bounding)g(Capacity)1242 314 y(of)f(Softwar)n(e)f(Code)i(Caches)1038
589 y Fm(Derek)25 b(Bruening)g(and)f(Saman)h(Amarasinghe)652
807 y(MIT)f(Computer)h(Science)g(and)g(Arti\002cial)g(Intelligence)f
(Laboratory)1332 934 y(and)h(Determina)f(Corporation)1329
1062 y Fl(f)p Fm(iye,saman)p Fl(g)p Fm(@csail.mit.edu)617
1416 y Fk(Abstract)-83 1615 y Fj(Softwar)m(e)31 b(code)f(cac)o(hes)g
(ar)m(e)h(becoming)f(ubiquitous,)h(in)g(dy-)-182 1715
y(namic)20 b(optimizer)o(s,)i(runtime)f(tool)g(platforms,)g(dynamic)f
(tr)o(ansla-)-182 1815 y(tor)o(s,)32 b(fast)e(simulator)o(s)f(and)g
(emulator)o(s,)i(and)e(dynamic)f(compil-)-182 1914 y(er)o(s.)60
b(Cac)o(hing)31 b(fr)m(equently)g(e)n(xecuted)g(fr)o(a)o(gments)g(of)h
(code)f(pr)l(o-)-182 2014 y(vides)37 b(signi\002cant)e(performance)h
(boosts,)k(r)m(educing)c(the)h(o)o(ver)n(-)-182 2114
y(head)24 b(of)i(tr)o(anslation)f(and)f(emulation)h(and)f(meeting)h(or)
i(e)n(xceed-)-182 2213 y(ing)32 b(native)g(performance)f(in)i(dynamic)e
(optimizer)o(s.)62 b(One)33 b(dis-)-182 2313 y(advanta)o(g)o(e)28
b(of)i(cac)o(hing)o(,)h(memory)f(e)n(xpansion,)h(can)e(sometimes)-182
2412 y(be)c(ignor)m(ed)f(when)g(e)n(xecuting)h(a)g(single)g
(application.)37 b(Howe)o(ver)-9 b(,)-182 2512 y(as)30
b(optimizer)o(s)h(and)f(tr)o(anslator)o(s)g(ar)m(e)g(applied)f(mor)m(e)
h(and)g(mor)m(e)-182 2612 y(in)20 b(pr)l(oduction)f(systems,)j(the)f
(memory)g(e)n(xpansion)e(fr)l(om)i(running)-182 2711
y(multiple)f(applications)e(simultaneously)h(becomes)h(pr)l(oblematic.)
-182 2811 y(A)j(second)f(dr)o(awbac)n(k)g(to)i(cac)o(hing)d(is)j(the)f
(added)e(r)m(equir)m(ement)i(of)-182 2911 y(maintaining)31
b(consistency)h(between)h(the)g(code)g(cac)o(he)f(and)g(the)-182
3010 y(original)26 b(code)o(.)46 b(On)28 b(ar)m(c)o(hitectur)m(es)f
(lik)o(e)h(IA-32)e(that)h(do)g(not)h(r)m(e-)-182 3110
y(quir)m(e)20 b(e)n(xplicit)g(application)e(actions)i(when)g(modifying)
f(code)o(,)g(de-)-182 3209 y(tecting)d(code)g(c)o(hang)o(es)f(is)j(c)o
(hallenging)o(.)i(Again,)d(consistency)e(can)-182 3309
y(be)26 b(ignor)m(ed)f(for)i(certain)f(sets)h(of)f(applications,)g(b)n
(ut)g(as)h(cac)o(hing)-182 3409 y(systems)e(scale)f(up)g(to)h(e)n
(xecuting)e(lar)m(g)o(e)o(,)i(modern,)f(comple)n(x)g(pr)l(o-)-182
3508 y(gr)o(ams,)30 b(consistency)f(becomes)f(critical.)52
b(This)29 b(paper)g(pr)m(esents)-182 3608 y(ef)o(\002cient)19
b(sc)o(hemes)i(for)g(k)o(eeping)e(a)i(softwar)m(e)g(code)f(cac)o(he)f
(consis-)-182 3708 y(tent)e(and)g(for)h(dynamically)e(bounding)f(code)i
(cac)o(he)f(size)j(to)f(matc)o(h)-182 3807 y(the)25 b(curr)m(ent)h
(working)g(set)g(of)g(the)g(application.)40 b(These)26
b(sc)o(hemes)-182 3907 y(ar)m(e)h(e)o(valuated)f(in)i(the)g(DynamoRIO)e
(runtime)h(code)g(manipula-)-182 4006 y(tion)34 b(system,)k(and)c(oper)
o(ate)f(on)h(stoc)n(k)h(har)m(dwar)m(e)f(in)g(the)h(pr)m(es-)-182
4106 y(ence)28 b(of)h(multiple)g(thr)m(eads)f(and)g(dynamic)f(behavior)
-9 b(,)30 b(including)-182 4206 y(dynamically-loaded,)16
b(g)o(ener)o(ated,)i(and)h(e)o(ven)h(modi\002ed)f(code)o(.)-182
4525 y Fk(1)99 b(Intr)n(oduction)-83 4727 y Fi(Softw)o(are)27
b(code)f(caching)g(be)o(gan)f(as)j(a)f(technique)f(for)g(reduc-)-182
4827 y(ing)39 b(the)g(o)o(v)o(erhead)e(of)j(emulation)e(and)h(dynamic)f
(translation,)-182 4926 y(and)26 b(has)g(been)g(adapted)g(for)f
(runtime)h(tools)g(and)g(dynamic)g(opti-)-182 5026 y(mizers,)32
b(where)d(it)i(enables)e(meeting)g(and)h(e)n(v)o(en)e(e)o(xceeding)g
(na-)-182 5126 y(ti)n(v)o(e)33 b(performance.)62 b(Unfortunately)-5
b(,)33 b(the)h(bene\002ts)f(of)g(caching)-182 5225 y(come)24
b(at)h(the)g(cost)g(of)g(cache)f(consistenc)o(y)f(and)i(memory)e(e)o
(xpan-)-182 5325 y(sion.)68 b(F)o(or)34 b(running)f(a)i(single,)j
(static)d(application,)i(such)d(as)h(a)1974 1416 y(SPEC)g(CPU2000)e
([35)o(])h(benchmark,)h(neither)e(of)h(these)g(issues)1974
1516 y(is)28 b(a)g(concern,)f(as)h(application)d(code)i(is)h(\002x)o
(ed)f(at)h(load)e(time)i(and)1974 1615 y(has)j(a)g(small)g(footprint)e
(\(relati)n(v)o(e)h(to)h(data)g(size\).)57 b(Ho)n(we)n(v)o(er)m(,)31
b(as)1974 1715 y(code)15 b(caching)f(systems)i(become)e(more)h(pre)n(v)
n(alent)f(and)h(are)g(scaled)1974 1815 y(up)33 b(to)h(lar)o(ge,)i
(modern,)f(comple)o(x)d(programs,)j(consistenc)o(y)e(be-)1974
1914 y(comes)15 b(critical;)i(and,)f(as)g(optimizers)f(and)g
(translators)g(are)g(applied)1974 2014 y(more)23 b(and)g(more)g(in)h
(production)e(systems,)j(the)f(memory)e(e)o(xpan-)1974
2114 y(sion)e(from)f(running)f(multiple)h(applications)g
(simultaneously)g(be-)1974 2213 y(comes)h(problematic.)2073
2324 y(Ex)o(ecuting)h(application)f(code)i(from)f(a)i(cache)f(requires)
f(main-)1974 2424 y(taining)14 b(consistenc)o(y)h(between)f(the)i
(cache)f(and)f(the)i(original)e(code.)1974 2524 y(Pre)n(vious)25
b(systems)i(ha)n(v)o(e)f(handled)f(consistenc)o(y)g(by)i(monitoring)
1974 2623 y(requests)c(to)g(\003ush)g(the)h(hardw)o(are)d(instruction)h
(cache.)34 b(On)23 b(archi-)1974 2723 y(tectures)k(lik)o(e)h(IA-32)e
(that)h(do)g(not)g(require)f(e)o(xplicit)h(application)1974
2823 y(actions)34 b(when)f(modifying)f(code,)37 b(detecting)c(code)g
(changes)g(is)1974 2922 y(much)21 b(more)h(challenging.)29
b(While)23 b(consistenc)o(y)e(can)h(be)g(ignored)1974
3022 y(for)f(certain)h(sets)h(of)f(applications,)f(modern)f(programs)h
(with)h(plu-)1974 3122 y(gins)g(and)f(dynamically-generated)c(code)k
(require)f(cache)h(consis-)1974 3221 y(tenc)o(y)29 b(for)h(correct)g(e)
o(x)o(ecution,)g(as)h(consistenc)o(y)e(e)n(v)o(ents)h(are)g(not)1974
3321 y(limited)37 b(to)g(self-modifying)d(code)i(and)g(include)g
(common)f(ac-)1974 3420 y(tions)c(lik)o(e)g(library)f(unloading,)h
(rebasing,)h(and)f(rebinding,)g(and)1974 3520 y(re-use)39
b(of)g(memory)f(re)o(gions)h(for)g(generated)f(code.)83
b(Enforc-)1974 3620 y(ing)25 b(consistenc)o(y)e(in)j(softw)o(are)e(is)j
(e)o(xpensi)n(v)o(e,)d(both)g(in)h(detecting)1974 3719
y(changes)h(and)g(synchronizing)d(code)j(cache)h(vie)n(ws)g(among)e
(mul-)1974 3819 y(tiple)37 b(threads.)73 b(Existing)36
b(systems)h(that)g(support)e(consistenc)o(y)1974 3919
y(on)f(IA-32)f(ha)n(v)o(e)h(custom)g(hardw)o(are)g(and)g(e)o(x)o(ecute)
f(underneath)1974 4018 y(the)i(operating)f(system,)39
b(a)n(v)n(oiding)34 b(interactions)h(with)g(threads.)1974
4118 y(One)30 b(contrib)n(ution)f(of)h(this)h(paper)f(is)h(a)g(scheme)f
(for)g(ef)n(\002ciently)1974 4217 y(maintaining)15 b(consistenc)o(y)h
(in)h(the)g(presence)f(of)h(multiple)f(threads,)1974
4317 y(called)24 b Fj(non-pr)m(ecise)e(\003ushing)p Fi(,)h(that)h
(requires)f(no)g(hardw)o(are)g(sup-)1974 4417 y(port.)2073
4528 y(Nearly)17 b(all)h(code)e(caching)g(systems)h(size)h(the)f(code)f
(cache)h(with)1974 4628 y(a)f(generous)d(static)j(bound)e(and)h(assume)
g(it)h(will)g(rarely)e(be)i(reached,)1974 4727 y(and)22
b(when)g(it)i(is,)g(the)f(cache)g(is)g(typically)f(\003ushed)h(in)g
(its)h(entirety)-5 b(.)1974 4827 y(Prior)24 b(w)o(ork)g(on)h(managing)e
(code)h(caches)h(has)g(focused)e(on)i(e)n(vic-)1974 4926
y(tion)d(policies)g(and)g(not)g(on)f(ho)n(w)h(to)g(bound)f(the)h(cache)
g(size)h(in)f(the)1974 5026 y(\002rst)17 b(place.)23
b(Hard)16 b(limits)h(that)g(w)o(ork)e(for)h(small)h(benchmark)c(suites)
1974 5126 y(do)19 b(not)h(adapt)f(to)h(modern)e(applications,)h(whose)g
(code)g(sizes)i(v)n(ary)1974 5225 y(dramatically)16 b(and)h(often)g
(range)f(in)i(the)f(me)o(gabytes.)22 b(This)c(paper')-5
b(s)1974 5325 y(second)31 b(contrib)n(ution)f(is)j(a)g(no)o(v)o(el)e
(algorithm)g(for)g(dynamically)p eop end
%%Page: 2 2
TeXDict begin 2 1 bop -182 1410 a @beginspecial 0 @llx
0 @lly 308 @urx 218 @ury 2376 @rwi @setspecial
%%BeginDocument: flow.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: flow.fig
%%Creator: fig2dev Version 3.2 Patchlevel 4
%%CreationDate: Fri Dec 10 13:38:27 2004
%%For: derek@dereksha (Derek Bruening)
%%BoundingBox: 0 0 308 218
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def
/col32 {0.000 0.000 0.000 srgb} bind def
/col33 {0.863 0.863 0.863 srgb} bind def
/col34 {0.996 0.996 0.664 srgb} bind def
/col35 {0.000 0.000 0.996 srgb} bind def
/col36 {0.398 0.398 0.996 srgb} bind def
/col37 {0.664 0.664 0.996 srgb} bind def
/col38 {0.000 0.996 0.996 srgb} bind def
/col39 {0.465 0.996 0.000 srgb} bind def
/col40 {0.664 0.996 0.664 srgb} bind def
/col41 {0.863 0.000 0.996 srgb} bind def
/col42 {0.996 0.664 0.664 srgb} bind def
/col43 {0.797 0.797 0.797 srgb} bind def
/col44 {0.664 0.664 0.664 srgb} bind def

end
save
newpath 0 218 moveto 0 0 lineto 308 0 lineto 308 218 lineto closepath clip newpath
0.7 216.7 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/reencdict 12 dict def /ReEncode { reencdict begin
/newcodesandnames exch def /newfontname exch def /basefontname exch def
/basefontdict basefontname findfont def /newfont basefontdict maxlength dict def
basefontdict { exch dup /FID ne { dup /Encoding eq
{ exch dup length array copy newfont 3 1 roll put }
{ exch newfont 3 1 roll put } ifelse } { pop pop } ifelse } forall
newfont /FontName newfontname put newcodesandnames aload pop
128 1 255 { newfont /Encoding get exch /.notdef put } for
newcodesandnames length 2 idiv { newfont /Encoding get 3 1 roll put } repeat
newfontname newfont definefont pop end } def
/isovec [
8#055 /minus 8#200 /grave 8#201 /acute 8#202 /circumflex 8#203 /tilde
8#204 /macron 8#205 /breve 8#206 /dotaccent 8#207 /dieresis
8#210 /ring 8#211 /cedilla 8#212 /hungarumlaut 8#213 /ogonek 8#214 /caron
8#220 /dotlessi 8#230 /oe 8#231 /OE
8#240 /space 8#241 /exclamdown 8#242 /cent 8#243 /sterling
8#244 /currency 8#245 /yen 8#246 /brokenbar 8#247 /section 8#250 /dieresis
8#251 /copyright 8#252 /ordfeminine 8#253 /guillemotleft 8#254 /logicalnot
8#255 /hyphen 8#256 /registered 8#257 /macron 8#260 /degree 8#261 /plusminus
8#262 /twosuperior 8#263 /threesuperior 8#264 /acute 8#265 /mu 8#266 /paragraph
8#267 /periodcentered 8#270 /cedilla 8#271 /onesuperior 8#272 /ordmasculine
8#273 /guillemotright 8#274 /onequarter 8#275 /onehalf
8#276 /threequarters 8#277 /questiondown 8#300 /Agrave 8#301 /Aacute
8#302 /Acircumflex 8#303 /Atilde 8#304 /Adieresis 8#305 /Aring
8#306 /AE 8#307 /Ccedilla 8#310 /Egrave 8#311 /Eacute
8#312 /Ecircumflex 8#313 /Edieresis 8#314 /Igrave 8#315 /Iacute
8#316 /Icircumflex 8#317 /Idieresis 8#320 /Eth 8#321 /Ntilde 8#322 /Ograve
8#323 /Oacute 8#324 /Ocircumflex 8#325 /Otilde 8#326 /Odieresis 8#327 /multiply
8#330 /Oslash 8#331 /Ugrave 8#332 /Uacute 8#333 /Ucircumflex
8#334 /Udieresis 8#335 /Yacute 8#336 /Thorn 8#337 /germandbls 8#340 /agrave
8#341 /aacute 8#342 /acircumflex 8#343 /atilde 8#344 /adieresis 8#345 /aring
8#346 /ae 8#347 /ccedilla 8#350 /egrave 8#351 /eacute
8#352 /ecircumflex 8#353 /edieresis 8#354 /igrave 8#355 /iacute
8#356 /icircumflex 8#357 /idieresis 8#360 /eth 8#361 /ntilde 8#362 /ograve
8#363 /oacute 8#364 /ocircumflex 8#365 /otilde 8#366 /odieresis 8#367 /divide
8#370 /oslash 8#371 /ugrave 8#372 /uacute 8#373 /ucircumflex
8#374 /udieresis 8#375 /yacute 8#376 /thorn 8#377 /ydieresis] def
/Times-Roman /Times-Roman-iso isovec ReEncode
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
0 slj 0 slc
 0.06000 0.06000 sc
%
% Fig objects follow
%
% 
% here starts figure with depth 54
% Polyline
7.500 slw
n 2400 3225 m 1575 3225 l 1575 2400 l 2400 2400 l
 cp gs col43 1.00 shd ef gr gs col0 s gr 
% Polyline
n 4275 3225 m 5100 3225 l 5100 2400 l 4275 2400 l
 cp gs col43 1.00 shd ef gr gs col0 s gr 
% Polyline
n 4275 0 m 3150 0 l 3150 450 l 4275 450 l
 cp gs col43 1.00 shd ef gr gs col0 s gr 
% Polyline
n 1500 450 m 2625 450 l 2625 0 l 1500 0 l
 cp gs col43 1.00 shd ef gr gs col0 s gr 
% Polyline
n 0 3225 m 0 2100 l 1275 2100 l 1275 3225 l
 cp gs col44 1.00 shd ef gr gs col0 s gr 
% Polyline
n 2700 3225 m 2700 2100 l 3975 2100 l 3975 3225 l
 cp gs col44 1.00 shd ef gr gs col0 s gr 
% Polyline
0.000 slw
n 0 1800 m 5100 1800 l 5100 1500 l 0 1500 l
 cp gs col33 1.00 shd ef gr 
% here ends figure;
% 
% here starts figure with depth 52
% Polyline
1 slj
7.500 slw
gs  clippath
3780 3210 m 3720 3210 l 3720 3327 l 3750 3237 l 3780 3327 l cp
eoclip
n 4500 3225 m 4500 3450 l 3750 3450 l
 3750 3225 l gs col0 s gr gr

% arrowhead
0 slj
n 3780 3327 m 3750 3237 l 3720 3327 l 3780 3327 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
1 slj
gs  clippath
2205 3210 m 2145 3210 l 2145 3327 l 2175 3237 l 2205 3327 l cp
eoclip
n 2925 3225 m 2925 3450 l 2175 3450 l
 2175 3225 l gs col0 s gr gr

% arrowhead
0 slj
n 2205 3327 m 2175 3237 l 2145 3327 l 2205 3327 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
n 1500 1200 m 4275 1200 l 4275 750 l 1500 750 l
 cp gs col43 1.00 shd ef gr gs col0 s gr 
% Polyline
1 slj
gs  clippath
1590 2655 m 1590 2595 l 1473 2595 l 1563 2625 l 1473 2655 l cp
eoclip
n 1275 2625 m
 1575 2625 l gs col0 s gr gr

% arrowhead
0 slj
n 1473 2655 m 1563 2625 l 1473 2595 l 1473 2655 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
1 slj
gs  clippath
2715 2655 m 2715 2595 l 2598 2595 l 2688 2625 l 2598 2655 l cp
eoclip
n 2400 2625 m
 2700 2625 l gs col0 s gr gr

% arrowhead
0 slj
n 2598 2655 m 2688 2625 l 2598 2595 l 2598 2655 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
1 slj
gs  clippath
1830 3210 m 1770 3210 l 1770 3327 l 1800 3237 l 1830 3327 l cp
eoclip
n 4875 3225 m 4875 3600 l 1800 3600 l
 1800 3225 l gs col0 s gr gr

% arrowhead
0 slj
n 1830 3327 m 1800 3237 l 1770 3327 l 1830 3327 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
1 slj
gs  clippath
405 3210 m 345 3210 l 345 3327 l 375 3237 l 405 3327 l cp
eoclip
n 825 3225 m 825 3450 l 375 3450 l
 375 3225 l gs col0 s gr gr

% arrowhead
0 slj
n 405 3327 m 375 3237 l 345 3327 l 405 3327 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
1 slj
gs  clippath
2715 2280 m 2715 2220 l 2598 2220 l 2688 2250 l 2598 2280 l cp
eoclip
n 1275 2250 m
 2700 2250 l gs col0 s gr gr

% arrowhead
0 slj
n 2598 2280 m 2688 2250 l 2598 2220 l 2598 2280 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
1 slj
gs  clippath
4290 2655 m 4290 2595 l 4173 2595 l 4263 2625 l 4173 2655 l cp
eoclip
n 3975 2625 m
 4275 2625 l gs col0 s gr gr

% arrowhead
0 slj
n 4173 2655 m 4263 2625 l 4173 2595 l 4173 2655 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
1 slj
gs  clippath
420 2115 m 480 2115 l 480 1998 l 450 2088 l 420 1998 l cp
eoclip
n 1500 975 m 450 975 l
 450 2100 l gs col0 s gr gr

% arrowhead
0 slj
n 420 1998 m 450 2088 l 480 1998 l 420 1998 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
1 slj
gs  clippath
3105 3210 m 3045 3210 l 3045 3327 l 3075 3237 l 3105 3327 l cp
eoclip
n 3525 3225 m 3525 3450 l 3075 3450 l
 3075 3225 l gs col0 s gr gr

% arrowhead
0 slj
n 3105 3327 m 3075 3237 l 3045 3327 l 3105 3327 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
1 slj
gs  clippath
3480 1185 m 3420 1185 l 3420 1302 l 3450 1212 l 3480 1302 l cp
eoclip
n 3450 2100 m
 3450 1200 l gs col0 s gr gr

% arrowhead
0 slj
n 3480 1302 m 3450 1212 l 3420 1302 l 3480 1302 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
1 slj
gs  clippath
3195 2115 m 3255 2115 l 3255 1998 l 3225 2088 l 3195 1998 l cp
eoclip
n 3225 1200 m
 3225 2100 l gs col0 s gr gr

% arrowhead
0 slj
n 3195 1998 m 3225 2088 l 3255 1998 l 3195 1998 l  cp gs 0.00 setgray ef gr  col0 s
/Times-Roman-iso ff 180.00 scf sf
1725 2625 m
gs 1 -1 sc (indirect) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
1725 2850 m
gs 1 -1 sc (branch) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
1725 3075 m
gs 1 -1 sc (lookup) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
4425 2625 m
gs 1 -1 sc (ind. br.) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
4425 2850 m
gs 1 -1 sc (stays on) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
4425 3075 m
gs 1 -1 sc (trace?) col0 sh gr
% Polyline
1 slj
gs  clippath
3555 435 m 3495 435 l 3495 552 l 3525 462 l 3555 552 l cp
eoclip
n 3525 750 m
 3525 450 l gs col0 s gr gr

% arrowhead
0 slj
n 3555 552 m 3525 462 l 3495 552 l 3555 552 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
1 slj
gs  clippath
3795 765 m 3855 765 l 3855 648 l 3825 738 l 3795 648 l cp
eoclip
n 3825 450 m
 3825 750 l gs col0 s gr gr

% arrowhead
0 slj
n 3795 648 m 3825 738 l 3855 648 l 3795 648 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
1 slj
gs  clippath
1830 435 m 1770 435 l 1770 552 l 1800 462 l 1830 552 l cp
eoclip
n 1800 750 m
 1800 450 l gs col0 s gr gr

% arrowhead
0 slj
n 1830 552 m 1800 462 l 1770 552 l 1830 552 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
1 slj
gs  clippath
2145 765 m 2205 765 l 2205 648 l 2175 738 l 2145 648 l cp
eoclip
n 2175 450 m
 2175 750 l gs col0 s gr gr

% arrowhead
0 slj
n 2145 648 m 2175 738 l 2205 648 l 2145 648 l  cp gs 0.00 setgray ef gr  col0 s
/Times-Roman-iso ff 180.00 scf sf
1650 225 m
gs 1 -1 sc (basic block) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
3225 300 m
gs 1 -1 sc (trace selector) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
2475 1050 m
gs 1 -1 sc (dispatch) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
1800 375 m
gs 1 -1 sc (builder) col0 sh gr
% Polyline
1 slj
gs  clippath
1515 1155 m 1515 1095 l 1398 1095 l 1488 1125 l 1398 1155 l cp
eoclip
n 675 2100 m 675 1125 l
 1500 1125 l gs col0 s gr gr

% arrowhead
0 slj
n 1398 1155 m 1488 1125 l 1398 1095 l 1398 1155 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
1 slj
gs  clippath
1515 855 m 1515 795 l 1398 795 l 1488 825 l 1398 855 l cp
eoclip
n 675 450 m 675 825 l
 1500 825 l gs col0 s gr gr

% arrowhead
0 slj
n 1398 855 m 1488 825 l 1398 795 l 1398 855 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
1 slj
gs  clippath
2055 1185 m 1995 1185 l 1995 1302 l 2025 1212 l 2055 1302 l cp
eoclip
n 2025 2400 m
 2025 1200 l gs col0 s gr gr

% arrowhead
0 slj
n 2055 1302 m 2025 1212 l 1995 1302 l 2055 1302 l  cp gs 0.00 setgray ef gr  col0 s
/Times-Roman-iso ff 180.00 scf sf
300 2550 m
gs 1 -1 sc (CACHE) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
3000 2325 m
gs 1 -1 sc (TRACE) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
3000 2550 m
gs 1 -1 sc (CACHE) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
450 375 m
gs 1 -1 sc (START) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
2100 1725 m
gs 1 -1 sc (context switch) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
3150 2850 m
gs 1 -1 sc (non-) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
450 2850 m
gs 1 -1 sc (non-) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
180 3075 m
gs 1 -1 sc (control-flow) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
2890 3075 m
gs 1 -1 sc (control-flow) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
35 2325 m
gs 1 -1 sc (BASIC BLOCK) col0 sh gr
% here ends figure;
$F2psEnd
rs
showpage

%%EndDocument
 @endspecial -83 1622 a Fh(Figure)35 b(1.)h(Flo)o(w)e(c)o(har)r(t)h(of)
f(DynamoRIO)m(.)g(A)h(con\255)-83 1732 y(te)o(xt)40 b(s)o(witc)o(h)g
(separates)h(the)f(code)h(cac)o(he)g(fr)n(om)-83 1841
y(DynamoRIO)36 b(code)h(\(though)e(it)h(all)i(e)o(x)o(ecutes)f(in)-83
1951 y(the)c(same)g(pr)n(ocess)h(and)e(ad)o(dress)i(space\).)61
b(Ap\255)-83 2060 y(plication)25 b(code)g(is)g(copied)g(into)f(the)h
(tw)n(o)f(cac)o(hes,)-83 2170 y(with)16 b(contr)n(ol)h(transf)o(er)o(s)
g(\(sho)o(wn)e(b)n(y)i(arr)n(o)o(ws)g(in)g(the)-83 2280
y(\002gure\))23 b(modi\002ed)f(in)h(or)n(der)g(to)g(retain)g(contr)n
(ol.)-182 2635 y Fi(limiting)18 b(code)f(cache)h(size)h(to)g(match)f
(the)g(current)f(w)o(orking)g(set)i(of)-182 2735 y(the)h(application.)
-83 2840 y(The)35 b(cache)f(consistenc)o(y)f(\(Section)h(3\))h(and)f
(capacity)g(\(Sec-)-182 2940 y(tion)27 b(4\))g(algorithms)g(described)f
(in)h(this)i(paper)d(are)i(fully)f(imple-)-182 3040 y(mented)h(and)g(e)
n(v)n(aluated)g(in)h(a)h(real)f(code)f(caching)g(system,)j(Dy-)-182
3139 y(namoRIO)19 b([3)o(],)h(which)g(is)h(described)e(in)h(the)g(ne)o
(xt)g(section.)-182 3391 y Fk(2)99 b(Ev)o(aluation)25
b(Methodology)-83 3625 y Fi(DynamoRIO)36 b(is)i(a)g(system)g(for)e
(general-purpose)e(runtime)-182 3725 y(code)16 b(manipulation)f(whose)i
(goals)g(are)g(transparenc)o(y)-5 b(,)15 b(ef)n(\002cienc)o(y)-5
b(,)-182 3824 y(and)21 b(comprehensi)n(v)o(eness)d([3)o(].)29
b(It)22 b(e)o(x)o(ecutes)e(a)i(tar)o(get)e(application)-182
3924 y(by)j(cop)o(ying)g(its)i(code,)g(one)e(basic)i(block)e(at)i(a)g
(time,)g(into)f(a)h(code)-182 4024 y(cache.)48 b(Indirecting)27
b(control)g(through)f(the)i(cache)g(permits)g(cus-)-182
4123 y(tom)20 b(transformations)f(of)i(the)g(code)f(for)h(an)o(y)f
(number)f(of)i(runtime)-182 4223 y(tools:)42 b(instrumentation,)29
b(pro\002ling,)g(compatibility)f(layers,)i(de-)-182 4322
y(compression,)18 b(security)-5 b(,)19 b(etc.)-83 4428
y(Figure)j(1)g(sho)n(ws)h(the)f(components)e(of)i(DynamoRIO)f(and)h
(the)-182 4528 y(\003o)n(w)k(of)g(operations)f(between)h(them.)43
b(The)27 b(\002gure)e(concentrates)-182 4628 y(on)f(the)h(\003o)n(w)f
(of)h(control)e(in)i(and)f(out)g(of)h(the)f(code)g(cache,)h(which)-182
4727 y(is)f(the)f(bottom)f(portion)f(of)i(the)g(\002gure.)33
b(The)22 b(cached)g(application)-182 4827 y(code)g(looks)g(just)h(lik)o
(e)g(the)f(original)g(code)g(with)h(the)f(e)o(xception)f(of)-182
4926 y(its)29 b(control)f(transfer)g(instructions)f(\(sho)n(wn)h(with)h
(arro)n(ws)f(in)h(the)-182 5026 y(\002gure\),)17 b(which)h(must)h(be)g
(modi\002ed)e(to)i(ensure)f(that)g(DynamoRIO)-182 5126
y(retains)27 b(control.)45 b(Ov)o(erhead)26 b(is)i(amortized)e(by)h
(directly)g Fj(linking)-182 5225 y Fi(blocks)21 b(together)g(that)i
(are)f(joined)f(by)h(direct)g(branches,)g(and)f(per)n(-)-182
5325 y(forming)f(f)o(ast)j(table)g(lookups)e(to)i(transition)e(between)
h(blocks)g(via)p 1974 12 1973 4 v 1972 130 4 119 v 2013
95 a Fg(Program)p 2358 130 V 139 w(Benchmark)f(description)p
3165 130 V 83 w(Thrds)p 3397 130 V 58 w(Fragmnts)p 3737
130 V 102 w(Perf)p 3944 130 V 1974 134 1973 4 v 1974
150 V 1972 269 4 119 v 2013 233 a(SPECFP)p 2358 269 V
132 w(Floating-point)p 3165 269 V 488 w(1)p 3397 269
V 191 w(3232)p 3737 269 V 59 w(1.02x)p 3944 269 V 1974
272 1973 4 v 1972 391 4 119 v 2013 355 a(SPECINT)p 2358
391 V 91 w(Inte)o(ger)p 3165 391 V 705 w(1)p 3397 391
V 191 w(8806)p 3737 391 V 59 w(1.17x)p 3944 391 V 1974
394 1973 4 v 1974 411 V 1972 621 4 211 v 2013 494 a(SPECJVM)p
2358 621 V 67 w(Ja)o(v)n(a)57 b(apps)f(under)h(Sun)2409
585 y(Ja)o(v)n(a2)20 b(JVM)f(1.4.2.06)p 3165 621 V 3287
494 a(10)p 3397 621 V 154 w(59323)p 3737 621 V 59 w(2.44x)p
3944 621 V 1974 624 1973 4 v 1974 641 V 1972 942 4 302
v 2013 724 a(e)o(xcel)p 2358 942 V 240 w(Microsoft)72
b(Excel)e(9.0:)2409 815 y(2.4MB)163 b(spreadsheet)2409
907 y(re-calculations)p 3165 942 V 3324 724 a(4)p 3397
942 V 154 w(77174)p 3737 942 V 59 w(1.11x)p 3944 942
V 1974 946 1973 4 v 1972 1247 4 302 v 2013 1029 a(photoshp)p
2358 1247 V 124 w(Adobe)207 b(Photoshop)2409 1120 y(6.0:)178
b(modeled)98 b(on)2409 1211 y(PS6bench)20 b([28)q(])e(Action)p
3165 1247 V 3324 1029 a(8)p 3397 1247 V 116 w(171962)p
3737 1247 V 60 w(1.36x)p 3944 1247 V 1974 1250 1973 4
v 1972 1460 4 211 v 2013 1333 a(po)n(werpnt)p 2358 1460
V 117 w(Microsoft)80 b(Po)n(werPoint)2409 1425 y(9.0:)24
b(modi\002es)19 b(84)g(slides)p 3165 1460 V 3324 1333
a(5)p 3397 1460 V 116 w(105054)p 3737 1460 V 60 w(1.63x)p
3944 1460 V 1974 1464 1973 4 v 1972 1765 4 302 v 2013
1547 a(winw)o(ord)p 2358 1765 V 132 w(Microsoft)75 b(W)-6
b(ord)73 b(9.0:)2409 1638 y(searches)41 b(&)e(modi\002es)h(a)2409
1729 y(1.6MB)20 b(document)p 3165 1765 V 3324 1547 a(4)p
3397 1765 V 154 w(98358)p 3737 1765 V 59 w(1.31x)p 3944
1765 V 1974 1768 1973 4 v 2073 1962 a Fh(T)-7 b(ab)o(le)35
b(1.)e(Our)h(benc)o(hmark)g(suite)q(,)i(and)d(f)n(or)h(eac)o(h)2073
2072 y(benc)o(hmark)k(the)f(sim)n(ultaneousl)o(y\255live)g(threads,)
2073 2181 y(code)21 b(cac)o(he)h(fra)o(gments,)e(and)h(slo)o(wdo)o(wn)e
(ver)o(sus)2073 2291 y(native)k(when)g(e)o(x)o(ecuted)g(under)f
(DynamoRIO)m(.)1974 2607 y Fi(indirect)k(branches,)h(a)n(v)n(oiding)f
(the)i(costly)f(conte)o(xt)e(switch)j(back)1974 2707
y(to)18 b(DynamoRIO)e(code)h(in)h(both)g(cases.)24 b(Additional)17
b(performance)1974 2806 y(is)27 b(gained)f(by)g Fj(eliding)g
(unconditional)d(contr)l(ol)j(tr)o(ansfer)o(s)i Fi(in)f(ba-)1974
2906 y(sic)36 b(blocks)f(and)f(stitching)h(together)f(frequently)f(e)o
(x)o(ecuted)h(se-)1974 3006 y(quences)19 b(of)h(basic)h(blocks)f(into)g
Fj(tr)o(aces)p Fi(.)25 b(T)m(races)c(are)f(k)o(ept)g(in)g(their)1974
3105 y(o)n(wn)30 b(code)f(cache,)j(and)e(enable)f(inlining)g(of)h
(indirect)g(branches)1974 3205 y(to)25 b(a)n(v)n(oid)f(lookup)f(o)o(v)o
(erhead.)37 b(Both)25 b(the)f(basic)h(block)f(cache)h(and)1974
3304 y(trace)32 b(cache)g(are)g Fj(thr)m(ead-private)e
Fi(\(Section)h(4.1\).)60 b(W)-7 b(e)34 b(use)e(the)1974
3404 y(term)26 b Fj(fr)o(a)o(gment)f Fi(to)h(refer)g(to)g(either)g(a)g
(basic)h(block)e(or)g(a)i(trace)f(in)1974 3504 y(the)20
b(code)g(cache.)2073 3631 y(DynamoRIO)h(is)i(capable)f(of)g(running)e
(lar)o(ge,)i(comple)o(x,)f(real-)1974 3731 y(w)o(orld)38
b(applications)f(on)h(stock)g(IA-32)g(hardw)o(are)f(under)g(both)1974
3831 y(W)m(indo)n(ws)24 b(and)h(Linux.)38 b(This)25 b(allo)n(ws)g(us)g
(to)g(e)n(v)n(aluate)f(our)h(cache)1974 3930 y(management)f(algorithms)
h(in)h(realistic)h(scenarios.)42 b(Our)26 b(bench-)1974
4030 y(mark)e(set)i(consists)g(of)f(the)h(SPEC)g(CPU2000)e([35)o(])h
(benchmarks)1974 4129 y(\(minus)39 b(the)i(FOR)-5 b(TRAN)41
b(90)f(programs\))e(on)i(Linux)f(and)h(the)1974 4229
y(SPEC)25 b(JVM98)e([34)o(])h(benchmarks)d(and)i(four)g(lar)o(ge)g
(desktop)g(ap-)1974 4329 y(plications)d(on)g(W)m(indo)n(ws)g(\(T)-7
b(able)20 b(1\).)26 b(Although)19 b(the)i(SPEC)g(CPU)1974
4428 y(suite)e(is)g(single-threaded,)d(it)j(is)h(e)o(xcellent)d(for)h
(measuring)f(perfor)n(-)1974 4528 y(mance)38 b(impact)g(on)h
(computationally-intensi)n(v)o(e)34 b(applications.)1974
4628 y(Our)18 b(approach)f(is)i(to)g(b)n(uild)f(cache)g(management)f
(algorithms)g(that)1974 4727 y(tar)o(get)j(lar)o(ge)g(commercial)f
(desktop)h(applications)g(while)h(not)f(los-)1974 4827
y(ing)26 b(performance)e(on)i(SPEC)i(CPU.)g(Our)e(desktop)f(benchmarks)
1974 4926 y(consist)h(of)f(long-running)d(batch)k(computations)e([3)o
(],)j(which)e(are)1974 5026 y(more)20 b(computationally)e(bound)g(than)
j(interacti)n(v)o(e)e(scenarios)h(that)1974 5126 y(tend)d(to)g(mask)h
(slo)n(wdo)n(wns.)23 b(W)-7 b(e)18 b(include)f(the)g(SPECJVM)i(bench-)
1974 5225 y(marks)24 b(for)f(intensi)n(v)o(e)h(tests)h(of)g(generated)d
(code.)37 b(Cache)24 b(consis-)1974 5325 y(tenc)o(y)f(e)n(v)o(ents)g
(are)g(so)h(frequent)e(here)i(that)f(code)g(caching)g(perfor)n(-)1859
5574 y(2)p eop end
%%Page: 3 3
TeXDict begin 3 2 bop -165 3 1894 4 v -167 104 4 101
v 278 104 V 437 74 a Fg(Memory)p 743 104 V 173 w(Generated)p
1221 104 V 141 w(Code)20 b(re)o(gion)p 1727 104 V -167
204 V -115 174 a(Benchmark)p 278 204 V 101 w(unmappings)p
743 204 V 102 w(code)g(re)o(gions)p 1221 204 V 100 w(modi\002cations)p
1727 204 V -165 208 1894 4 v -167 308 4 101 v -115 278
a(SPECFP)p 278 308 V 434 w(112)p 743 308 V 441 w(0)p
1221 308 V 470 w(0)p 1727 308 V -165 311 1894 4 v -167
412 4 101 v -115 382 a(SPECINT)p 278 412 V 430 w(29)p
743 412 V 441 w(0)p 1221 412 V 470 w(0)p 1727 412 V -165
415 1894 4 v -167 516 4 101 v -115 485 a(SPECJVM)p 278
516 V 443 w(7)p 743 516 V 329 w(3373)p 1221 516 V 359
w(4591)p 1727 516 V -165 519 1894 4 v -167 619 4 101
v -115 589 a(e)o(xcel)p 278 619 V 542 w(144)p 743 619
V 404 w(21)p 1221 619 V 433 w(20)p 1727 619 V -165 623
1894 4 v -167 723 4 101 v -115 693 a(photoshp)p 278 723
V 388 w(1168)p 743 723 V 405 w(40)p 1221 723 V 470 w(0)p
1727 723 V -165 726 1894 4 v -167 827 4 101 v -115 797
a(po)n(werpnt)p 278 827 V 419 w(367)p 743 827 V 404 w(28)p
1221 827 V 433 w(33)p 1727 827 V -165 830 1894 4 v -167
931 4 101 v -115 901 a(winw)o(ord)p 278 931 V 434 w(345)p
743 931 V 404 w(20)p 1221 931 V 470 w(6)p 1727 931 V
-165 934 1894 4 v -83 1079 a Fh(T)-7 b(ab)o(le)21 b(2.)f(The)g(n)o
(umber)g(of)f(memor)q(y)h(unmappings,)-83 1189 y(g)q(enerated)d(code)h
(regions,)h(and)e(modi\002cations)f(of)-83 1298 y(code)23
b(regions)g(in)g(our)g(benc)o(hmarks.)-182 1568 y Fi(mance)g(is)i(dif)n
(\002cult)f(to)g(achie)n(v)o(e.)36 b(The)23 b(ef)n(\002cient)h(schemes)
g(in)g(this)-182 1667 y(paper)33 b(allo)n(w)i(DynamoRIO)e(to)i
(approach)d(a)j(tw)o(o)g(times)g(slo)n(w-)-182 1767 y(do)n(wn.)48
b(W)-7 b(e)30 b(use)f(the)f(entire)g(virtual)g(machine)f(as)j(a)e
(benchmark)-182 1867 y(and)c(thus)h(include)f(all)i(ten)f(of)f(the)i
(Ja)n(v)n(a)f(applications,)g(including)-182 1966 y(the)20
b(correctness)f(tests.)-182 2213 y Fk(3)99 b(Code)25
b(Cache)h(Consistency)-83 2444 y Fi(An)o(y)c(system)g(that)h(caches)f
(copies)g(of)g(application)e(code)i(must)-182 2543 y(ensure)c(that)h
(each)g(cop)o(y)f(is)i(consistent)f(with)g(the)g(original)f(v)o(ersion)
-182 2643 y(in)f(application)e(memory)-5 b(.)22 b(The)16
b(original)g(cop)o(y)g(might)g(change)f(due)-182 2743
y(to)j(de-allocation)e(of)j(memory)-5 b(,)16 b(e.g.,)i(the)g(unmapping)
e(of)i(a)h(shared)-182 2842 y(library)g(containing)h(the)h(code,)f(or)g
(dynamic)g(modi\002cation)f(of)i(the)-182 2942 y(code.)-182
3164 y Ff(3.1)90 b(Memory)22 b(Unmapping)-83 3386 y Fi(Unmapping)k(of)i
(\002les)h(is)h(relati)n(v)o(ely)d(frequent)f(in)j(lar)o(ge)e(W)m(in-)
-182 3486 y(do)n(ws)g(applications)g(\(T)-7 b(able)27
b(2\).)47 b(Memory)26 b(unmapping)f(that)j(af-)-182 3586
y(fects)j(code)f(is)i(nearly)e(al)o(w)o(ays)i(unloading)c(of)j(shared)g
(libraries,)-182 3685 y(b)n(ut)23 b(an)o(y)g(\002le)h(unmap)e(or)i
(heap)e(de-allocation)g(can)h(contain)g(code.)-182 3785
y(Unmapping)35 b(is)40 b(the)e(simpler)g(of)g(the)g(tw)o(o)h
(consistenc)o(y)e(prob-)-182 3884 y(lems)44 b(to)f(solv)o(e,)49
b(as)c(we)f(need)f(only)f(w)o(atch)i(for)f(e)o(xplicit)g(re-)-182
3984 y(quests)32 b(to)g(the)h(k)o(ernel)e(to)h(unmap)f(\002les)i(or)f
(free)g(address)g(space)-182 4084 y(\(the)48 b(system)i(calls)g
Fe(munmap)e Fi(and)h Fe(mremap)g Fi(on)f(Linux)g(and)-182
4183 y Fe(NtUnmapViewOfSection)p Fi(,)25 b Fe(NtFreeVirtualMemory)p
Fi(,)h(and)-182 4283 y Fe(NtFreeUserPhysicalPages)i Fi([25)o(])j(on)h
(W)m(indo)n(ws\).)58 b(When)-182 4383 y(we)32 b(see)h(such)f(a)g
(request,)i(we)f(\003ush)f(from)f(the)h(cache)f(all)i(frag-)-182
4482 y(ments)g(that)h(contain)e(pieces)i(of)f(code)g(from)f(the)i(tar)o
(get)e(re)o(gion)-182 4582 y(\(Section)19 b(3.6\).)-182
4804 y Ff(3.2)90 b(Memory)22 b(Modi\002cation)-83 5026
y Fi(While)f(true)f(self-modifying)d(code)i(is)i(only)e(seen)i(in)f(a)g
(fe)n(w)g(ap-)-182 5126 y(plications,)k(such)g(as)h(Adobe)e(Premiere)g
(and)h(games)g(lik)o(e)g(Doom,)-182 5225 y(general)33
b(code)g(modi\002cation)g(is)i(surprisingly)d(pre)n(v)n(alent.)65
b(The)-182 5325 y(W)m(indo)n(ws)27 b(loader)g(directly)g(modi\002es)g
(code)g(in)h(shared)f(libraries)1974 83 y(for)38 b(rebasing)f([23)o(],)
43 b(and)38 b(modi\002es)g(the)h(Import)e(Address)h(T)-7
b(a-)1974 183 y(ble)25 b([27)n(])g(for)g(rebinding.)36
b(Since)25 b(this)g(table)g(is)h(often)e(k)o(ept)g(in)h(the)1974
282 y(\002rst)h(page)g(of)f(the)h(code)f(section,)i(modi\002cations)d
(to)i(it)h(look)e(lik)o(e)1974 382 y(code)c(modi\002cations)f(if)i(the)
f(entire)g(section)h(is)g(treated)f(as)h(one)f(re-)1974
482 y(gion.)53 b(Code)30 b(memory)e(re-use)h(occurs)g(with)h
(trampolines)e(used)1974 581 y(for)18 b(nested)h(function)f(closures)g
([15)o(],)h(which)g(are)g(often)f(placed)h(on)1974 681
y(the)i(stack.)26 b(As)21 b(the)g(stack)g(is)g(unw)o(ound)e(and)h(re-w)
o(ound,)e(the)j(same)1974 780 y(address)j(may)h(be)g(used)g(for)f(a)h
(dif)n(ferent)f(trampoline)f(later)i(in)g(the)1974 880
y(program.)58 b(Memory)30 b(modi\002cation)g(also)j(occurs)e(with)h
(just-in-)1974 980 y(time)18 b(\(JIT\))g(compiled)f(code,)g(mainly)h
(to)g(data)g(in)g(the)g(same)h(re)o(gion)1974 1079 y(as)31
b(the)g(generated)e(code)h(\(f)o(alse)g(sharing\),)i(generation)d(of)h
(addi-)1974 1179 y(tional)16 b(code)h(in)g(the)g(same)g(re)o(gion)e(as)
j(pre)n(viously)d(generated)g(code,)1974 1279 y(or)i(ne)n(w)h
(generated)e(code)h(that)g(is)i(replacing)d(old)h(code)g(at)h(the)g
(same)1974 1378 y(address.)36 b(T)-7 b(able)23 b(2)h(summarizes)f(the)h
(frequenc)o(y)e(of)h(memory)f(re-)1974 1478 y(gion)d(modi\002cations)g
(in)h(our)g(benchmarks.)2073 1593 y(On)29 b(most)g(architectures,)h
(softw)o(are)f(must)g(issue)g(e)o(xplicit)f(re-)1974
1692 y(quests)20 b(to)f(clear)h(the)f(processor')-5 b(s)19
b(instruction)f(cache)h(when)g(mod-)1974 1792 y(ifying)27
b(code)h([20)n(].)50 b(In)28 b(contrast,)i(IA-32)d(maintains)g
(instruction)1974 1892 y(cache)16 b(consistenc)o(y)g(in)h(hardw)o(are,)
f(making)g(e)n(v)o(ery)g(write)h(to)g(mem-)1974 1991
y(ory)g(a)h(potential)e(code)h(modi\002cation.)22 b(Therefore,)16
b(we)i(must)f(mon-)1974 2091 y(itor)27 b(all)g(memory)e(writes)j(to)f
(detect)f(those)h(that)g(af)n(fect)f(code,)i(ei-)1974
2191 y(ther)16 b(by)g(sandboxing)e(each)i(write)h(with)f(inserted)g
(instrumentation)1974 2290 y(\(Section)27 b(3.3\))g(or)g(by)g(using)g
(hardw)o(are)g(page)g(protection.)45 b(P)o(age)1974 2390
y(protection)23 b(pro)o(vides)h(good)g(performance)f(when)i
(modi\002cations)1974 2489 y(are)19 b(infrequent,)e(b)n(ut)i(forces)g
(monitoring)d(to)k(follo)n(w)e(page)g(bound-)1974 2589
y(aries,)i(leading)f(to)i(cases)g(of)e Fj(false)i(sharing)p
Fi(.)2073 2704 y(Our)h(cache)g(consistenc)o(y)f(in)m(v)n(ariant)g(is)i
(this:)30 b Fj(to)22 b(avoid)g(e)n(xecut-)1974 2804 y(ing)h(stale)h
(code)o(,)f(e)o(very)g(application)e(r)m(e)m(gion)i(that)g(is)h(r)m
(epr)m(esented)1974 2903 y(in)d(the)g(code)g(cac)o(he)f(must)i(either)f
(be)g(r)m(ead-only)f(or)h(have)g(its)h(code)1974 3003
y(cac)o(he)c(fr)o(a)o(gments)i(sandboxed)d(to)j(c)o(hec)n(k)f(for)h
(modi\002cations)p Fi(.)j(Dy-)1974 3103 y(namoRIO)29
b(k)o(eeps)h(an)h Fj(e)n(xecutable)e(list)j Fi(of)e(all)h(memory)d(re)o
(gions)1974 3202 y(that)15 b(ha)n(v)o(e)g(been)g(mark)o(ed)f(read-only)
f(or)i(sandbox)o(ed)e(and)h(thus)i(may)1974 3302 y(safely)26
b(be)g(e)o(x)o(ecuted.)41 b(The)26 b(list)h(is)g(initially)g(populated)
d(with)i(the)1974 3401 y(memory)d(re)o(gions)h(mark)o(ed)g(e)o(x)o
(ecutable)g Fj(b)n(ut)h(not)g(writable)h Fi(when)1974
3501 y(DynamoRIO)g(tak)o(es)j(control.)47 b(Both)28 b(the)g(W)m(indo)n
(ws)f(and)g(Linux)1974 3601 y(e)o(x)o(ecutable)16 b(formats)i(mark)g
(code)f(pages)h(as)i(read-only)-5 b(,)16 b(so)i(for)g(the)1974
3700 y(common)d(case)i(all)g(code)g(be)o(gins)e(on)i(our)f(e)o(x)o
(ecutable)f(list.)25 b(The)16 b(list)1974 3800 y(is)j(updated)e(as)j
(re)o(gions)d(are)i(allocated)e(and)h(de-allocated)f(through)1974
3900 y(system)k(calls)h(\(we)f(ignore)f(user)h(memory)e(management)g
(through)1974 3999 y Fe(malloc)26 b Fi(and)h(other)f(calls)h(because)g
(it)g(is)h(infeasible)e(to)h(identify)1974 4099 y(all)21
b(internal)e(memory)f(parceling\).)2073 4214 y(When)26
b(e)o(x)o(ecution)e(reaches)h(a)h(re)o(gion)e(not)i(on)f(the)h(e)o(x)o
(ecutable)1974 4313 y(list,)38 b(the)c(re)o(gion)e(is)j(added,)h(and)d
(\(if)h(necessary\))f(DynamoRIO)1974 4413 y(marks)26
b(it)h(read-only)-5 b(.)42 b(If)27 b(a)g(read-only)d(re)o(gion)h(is)j
(written)f(to,)h(we)1974 4513 y(trap)e(the)g(f)o(ault,)h(\003ush)f(the)
g(code)g(for)f(that)h(re)o(gion)f(from)g(the)h(code)1974
4612 y(cache)21 b(\(Section)g(3.6\),)f(remo)o(v)o(e)g(the)h(re)o(gion)f
(from)h(the)g(e)o(x)o(ecutable)1974 4712 y(list,)35 b(mark)c(the)g(re)o
(gion)f(as)i(writable,)i(and)d(then)g(re-e)o(x)o(ecute)e(the)1974
4812 y(f)o(aulting)f(write.)50 b(Ho)n(we)n(v)o(er)m(,)29
b(if)g(the)g(writing)f(instruction)f(and)h(its)1974 4911
y(tar)o(get)e(are)h(in)g(the)g(same)g(re)o(gion,)g(no)g(forw)o(ard)f
(progress)f(will)j(be)1974 5011 y(made)17 b(with)i(this)f(strate)o(gy)
-5 b(.)23 b(Our)18 b(solution)f(for)h(this)h Fj(self-modifying)1974
5110 y(code)g Fi(is)i(discussed)f(in)h(the)f(ne)o(xt)f(section.)2073
5225 y(F)o(or)27 b(error)f(transparenc)o(y)f(we)i(must)h(distinguish)e
(write)h(f)o(aults)1974 5325 y(due)f(to)h(our)f(page)g(protection)e
(changes)i(from)g(those)g(that)h(w)o(ould)1859 5574 y(3)p
eop end
%%Page: 4 4
TeXDict begin 4 3 bop -182 83 a Fi(occur)23 b(nati)n(v)o(ely)-5
b(.)37 b(When)25 b(we)g(recei)n(v)o(e)f(a)h(write)g(f)o(ault)g(tar)o
(geting)e(an)-182 183 y(area)g(of)f(memory)g(that)h(the)g(application)f
(thinks)g(is)j(writable,)e(that)-182 282 y(f)o(ault)e(is)i(guaranteed)c
(to)j(belong)e(to)i(us,)g(b)n(ut)g(all)g(other)f(f)o(aults)h(must)-182
382 y(be)15 b(routed)g(to)g(the)h(application.)22 b(Additionally)-5
b(,)14 b(we)i(must)g(intercept)-182 482 y(W)m(indo)n(ws')k
Fe(QueryVirtualMemory)f Fi(system)j(call)g(and)g(modify)-182
581 y(the)k(information)d(it)k(returns)e(to)h(pretend)e(that)i
(appropriate)e(areas)-182 681 y(are)h(writable.)39 b(Similarly)-5
b(,)25 b(if)h(the)f(application)f(changes)g(the)h(pro-)-182
780 y(tection)20 b(on)g(a)h(re)o(gion,)d(we)j(must)g(update)e(our)h
(information)e(so)j(that)-182 880 y(a)f(later)g(f)o(ault)h(will)g(be)f
(handled)e(properly)-5 b(.)-182 1103 y Ff(3.3)90 b(Self\255Modifying)23
b(Code)-83 1325 y Fi(Read-only)e(code)g(pages)h(do)g(not)g(w)o(ork)g
(when)f(the)h(writing)g(in-)-182 1425 y(struction)j(and)h(the)g(tar)o
(get)g(are)g(on)g(the)h(same)f(page)g(\(or)g(same)g(re-)-182
1524 y(gion,)32 b(if)f(re)o(gions)f(are)g(lar)o(ger)g(than)g(a)i
(page\).)55 b(These)31 b(situations)-182 1624 y(may)16
b(in)m(v)n(olv)o(e)f(actual)i(self-modifying)d(code,)i(code)g(re)o
(gion)g(re-use,)-182 1724 y(or)24 b(f)o(alse)i(sharing)e(\(writes)h(to)
g(data)g(near)f(code,)i(or)e(generation)f(of)-182 1823
y(code)d(near)h(e)o(xisting)g(code\).)27 b(Marking)20
b(code)h(pages)g(as)h(read-only)-182 1923 y(also)j(f)o(ails)h(when)f
(the)g(code)f(is)j(on)d(the)i(W)m(indo)n(ws)e(stack,)j(for)d(rea-)-182
2022 y(sons)c(e)o(xplained)e(belo)n(w)-5 b(.)-83 2127
y(T)e(o)19 b(mak)o(e)f(forw)o(ard)f(progress)h(when)g(the)h(writer)f
(and)g(the)h(tar)o(get)-182 2227 y(are)j(in)g(the)h(same)f(re)o(gion,)f
(we)i(could)e(emulate)h(the)g(write)h(instruc-)-182 2326
y(tion,)30 b(although)d(at)i(a)g(performance)d(hit)j(due)f(to)h(the)g
(comple)o(xity)-182 2426 y(of)22 b(IA-32.)32 b(Instead,)23
b(we)g(mark)f(the)h(re)o(gion)e(as)j(writable)e(and)h(turn)-182
2526 y(to)i(sandboxing.)38 b(Each)25 b(fragment)f(from)g(a)i(writable)f
(re)o(gion)f(v)o(er)n(-)-182 2625 y(i\002es)j(that)h(its)f(o)n(wn)g
(code)f(is)i(not)f(stale)g(by)g(storing)f(a)h(cop)o(y)f(of)h(its)-182
2725 y(source)f(application)g(code.)45 b(A)28 b(check)e(is)j(inserted)d
(at)i(the)f(top)g(of)-182 2824 y(the)h(fragment)f(comparing)f(the)i
(current)f(application)g(code)h(with)-182 2924 y(the)23
b(stored)g(cop)o(y)-5 b(,)23 b(which)g(must)g(be)h(done)e(one)h(byte)g
(at)h(a)g(time.)35 b(If)-182 3024 y(the)20 b(copies)g(are)h(dif)n
(ferent,)d(the)j(fragment)e(is)i(e)o(xited)f(and)g(immedi-)-182
3123 y(ately)h(\003ushed.)27 b(If)22 b(the)f(check)f(passes,)i(the)f
(body)f(of)h(the)h(fragment)-182 3223 y(may)31 b(be)g(e)o(x)o(ecuted,)i
(b)n(ut)e(each)g(memory)f(write)i(must)g(be)f(moni-)-182
3323 y(tored)24 b(to)h(detect)g(whether)g(code)f(later)i(in)f(the)g
(fragment)f(is)i(being)-182 3422 y(modi\002ed.)c(If)15
b(an)o(y)g(of)h(these)g(checks)f(f)o(ails,)i(we)f(again)f(e)o(xit)g
(the)h(frag-)-182 3522 y(ment)22 b(and)g(immediately)g(\003ush)g(it.)34
b(Ev)o(en)21 b(though)g(IA-32)h(proces-)-182 3621 y(sors)k(from)f(the)g
(Pentium)h(onw)o(ard)e(correctly)h(handle)f(modifying)-182
3721 y(the)29 b(ne)o(xt)f(instruction,)i(Intel)f(strongly)f(recommends)
f(e)o(x)o(ecuting)-182 3821 y(a)c(branch)f(or)g(serializing)h
(instruction)e(prior)h(to)i(e)o(x)o(ecuting)d(ne)n(wly)-182
3920 y(modi\002ed)e(code)g([18)o(,)h(v)n(ol.)25 b(3].)g(If)20
b(all)h(applications)e(follo)n(wed)g(this,)-182 4020
y(it)32 b(w)o(ould)e(ob)o(viate)h(the)g(need)g(to)g(check)g(for)g
(modi\002cation)e(after)-182 4120 y(each)19 b(write.)-83
4224 y(This)24 b(strate)o(gy)g(will)g(not)g(detect)g(one)f(thread)g
(modifying)f(code)-182 4324 y(while)34 b(another)f(is)j(inside)e(a)h
(fragment)e(corresponding)e(to)k(that)-182 4423 y(code)e(\227)h(the)g
(code)f(modi\002cation)f(will)i(not)g(be)f(detected)g(until)-182
4523 y(the)e(ne)o(xt)f(time)h(the)g(tar)o(get)g(fragment)e(is)j
(entered.)56 b(T)-7 b(o)32 b(mitigate)-182 4623 y(this)26
b(possibility)g(we)h(terminate)f(fragments)f(at)i(application)d(syn-)
-182 4722 y(chronization)f(operations)h(\(Section)h(3.6\).)41
b(Another)25 b(problem)f(is)-182 4822 y(that)f(W)m(indo)n(ws)g(does)g
(not)g(support)f(an)h(alternate)f(e)o(xception)g(han-)-182
4922 y(dling)k(stack,)j(forcing)d(us)h(to)h(use)f(sandboxing)e(for)h
(an)o(y)h(code)f(on)-182 5021 y(the)15 b(stack,)h(and)f(opening)f(up)h
(pathological)e(cases)j(where)f(the)h(stack)-182 5121
y(pointer)j(is)i(later)f(pointed)f(at)h(a)h(writable)f(re)o(gion)f([3)o
(,)h(p.)g(151].)-83 5225 y(Sandboxing)k(has)j(a)g(signi\002cant)f
(space)h(penalty)f(from)f(its)j(re-)-182 5325 y(dundant)20
b(code)i(copies)h(and)f(added)f(write)i(instrumentation.)30
b(Ad-)1974 83 y(ditionally)-5 b(,)21 b(sandboxing)e(incurs)j(a)g
(signi\002cant)g(performance)d(hit:)1974 183 y(when)h(applied)g(to)g
(all)i(fragments,)d(SPEC)i(CPU)h(is)g(an)e(a)n(v)o(erage)g(14)1974
282 y(times)30 b(slo)n(wer)m(,)i(ranging)d(from)g(3)h(to)g(47)g(times)g
(slo)n(wer)g(on)g(indi-)1974 382 y(vidual)f(benchmarks.)53
b(Although)28 b(optimization)h(of)g(our)h(instru-)1974
482 y(mentation)24 b(could)h(impro)o(v)o(e)f(performance,)g(sandboxing)
f(should)1974 581 y(generally)c(be)h(a)n(v)n(oided)f(in)h(f)o(a)n(v)n
(or)g(of)g(page)f(protection.)1974 795 y Ff(3.4)90 b(Memory)22
b(Regions)2073 1008 y Fi(The)d(unit)f(of)h(consistenc)o(y)e(e)n(v)o
(ents,)h(the)h(memory)e(re)o(gion,)g(must)1974 1108 y(be)28
b(at)h(least)g(as)g(lar)o(ge)e(as)i(a)g(page)e(in)i(order)e(to)h
(utilize)h(page)e(pro-)1974 1208 y(tection.)32 b(If)22
b(re)o(gions)f(are)i(too)f(lar)o(ge,)g(a)h(single)g(code)f
(modi\002cation)1974 1307 y(will)17 b(\003ush)g(man)o(y)e(fragments,)h
(which)g(is)h(e)o(xpensi)n(v)o(e.)22 b(On)16 b(the)h(other)1974
1407 y(hand,)25 b(small)g(re)o(gions)f(create)h(a)g(longer)f(e)o(x)o
(ecutable)f(list)j(and)f(po-)1974 1506 y(tentially)j(man)o(y)f(more)h
(protection)e(system)j(calls)g(to)f(mark)g(code)1974
1606 y(as)k(read-only)-5 b(.)58 b(Lar)o(ge)30 b(re)o(gions)h(w)o(ork)g
(well)h(when)g(code)f(is)h(not)1974 1706 y(being)20 b(modi\002ed,)h(or)
g(is)h(modi\002ed)e(in)i(a)g(separate)e(phase)h(from)g(e)o(x-)1974
1805 y(ecution,)27 b(b)n(ut)f(small)h(re)o(gions)e(are)i(more)f(\003e)o
(xible)f(for)h(separating)1974 1905 y(a)c(code)f(writer)g(from)g(its)i
(tar)o(get)d(and)h(a)n(v)n(oiding)g(f)o(alse)h(sharing)f(and)1974
2005 y(unnecessary)d(\003ushing.)2073 2106 y(DynamoRIO)31
b(uses)j(an)e(adapti)n(v)o(e)f(re)o(gion)g(granularity)g(to)h(\002t)
1974 2206 y(re)o(gions)g(to)h(the)g(current)e(pattern)h(of)h(code)f
(modi\002cation.)62 b(Our)1974 2306 y(initial)27 b(re)o(gion)f
(de\002nition)g(is)i(a)g(maximal)e(contiguous)f(sequence)1974
2405 y(of)30 b(pages)g(that)g(ha)n(v)o(e)g(equi)n(v)n(alent)e
(protection)h(attrib)n(utes.)55 b(Since)1974 2505 y(nearly)23
b(all)h(code)f(re)o(gions)f(are)i(read-only)d(to)j(be)o(gin)e(with)i
(and)f(are)1974 2604 y(ne)n(v)o(er)e(written)i(to,)h(these)f(lar)o(ge)f
(re)o(gions)g(w)o(ork)g(well.)34 b(On)23 b(a)g(write)1974
2704 y(to)i(a)h(read-only)d(re)o(gion)h(containing)g(code,)h(we)h
(split)g(that)g(re)o(gion)1974 2804 y(into)17 b(three)h(pieces:)24
b(the)18 b(page)f(being)g(written,)h(which)f(has)h(its)h(frag-)1974
2903 y(ments)d(\003ushed)h(and)f(is)h(mark)o(ed)f(writable)g(and)g
(remo)o(v)o(ed)e(from)i(our)1974 3003 y(e)o(x)o(ecutable)22
b(list,)27 b(and)d(the)h(re)o(gions)e(on)h(either)g(side)h(of)f(that)h
(page,)1974 3103 y(which)19 b(stay)i(read-only)d(and)h(e)o(x)o
(ecutable.)k(If)d(the)g(writing)g(instruc-)1974 3202
y(tion)i(is)h(on)f(the)h(same)f(page)g(as)h(the)f(tar)o(get,)g(we)h
(mark)e(the)i(page)e(as)1974 3302 y(self-modifying.)g(Our)c(e)o(x)o
(ecutable)e(list)j(mer)o(ges)e(adjacent)g(re)o(gions)1974
3401 y(with)j(the)g(same)g(protection)e(pri)n(vile)o(ges,)h(resulting)g
(in)h(an)g(adapti)n(v)o(e)1974 3501 y(split-and-mer)o(ge)e(strate)o(gy)
i(that)i(maintains)e(lar)o(ge)h(re)o(gions)f(where)1974
3601 y(little)31 b(code)e(is)i(being)e(modi\002ed)f(and)i(small)g(re)o
(gions)f(in)h(hea)n(vily)1974 3700 y(written-to)19 b(areas)h(of)g(the)g
(address)g(space.)1974 3914 y Ff(3.5)90 b(Mapping)22
b(Regions)g(to)h(Fragments)2073 4127 y Fi(Whate)n(v)o(er)30
b(re)o(gion)g(sizes)i(we)f(use,)i(we)f(must)f(be)g(able)f(to)h(lo-)1974
4227 y(cate)26 b(all)h(fragments)d(in)j(the)f(code)f(cache)h
(containing)e(code)h(from)1974 4327 y(a)k(particular)f(re)o(gion.)49
b(Since)28 b(our)g(runtime)g(system)h(stitches)g(to-)1974
4426 y(gether)h(basic)h(blocks)f(across)h(unconditional)d(control)i
(transfers)1974 4526 y(and)f(b)n(uilds)g(traces)g(out)g(of)g
(frequently)f(e)o(x)o(ecuted)f(sequences)h(of)1974 4626
y(basic)d(blocks,)g(an)o(y)f(gi)n(v)o(en)g(fragment)f(might)h(contain)g
(code)g(from)1974 4725 y(se)n(v)o(eral)i(widely)f(separated)h(re)o
(gions.)42 b(DynamoRIO)24 b(solv)o(es)j(this)1974 4825
y(by)f(storing)f(a)i(list)h(of)e(fragments)f(with)h(each)g(e)o(x)o
(ecutable)f(list)i(re-)1974 4924 y(gion)15 b(entry)-5
b(.)23 b(A)16 b(gi)n(v)o(en)f(fragment)f(may)i(ha)n(v)o(e)g(multiple)f
(entries,)i(one)1974 5024 y(for)i(each)h(re)o(gion)f(from)g(which)h(it)
h(contains)e(code.)2073 5126 y(An)26 b(alternati)n(v)o(e)d(mapping)g
(strate)o(gy)i(is)h(to)f(sa)n(v)o(e)g(space)g(by)f(not)1974
5225 y(storing)j(an)o(ything:)40 b(since)29 b(the)f(original)f(code)h
(is)i(read-only)c(and)1974 5325 y(cannot)g(ha)n(v)o(e)g(changed,)h
(each)f(fragment')-5 b(s)26 b(source)g(code)g(can)h(be)1859
5574 y(4)p eop end
%%Page: 5 5
TeXDict begin 5 4 bop -182 1410 a @beginspecial 0 @llx
0 @lly 349 @urx 247 @ury 2376 @rwi @setspecial
%%BeginDocument: flushwalk.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: 
%%Creator: fig2dev Version 3.2 Patchlevel 4
%%CreationDate: Fri Dec 10 15:39:44 2004
%%For: derek@dereksha (Derek Bruening)
%%BoundingBox: 0 0 349 247
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def
/col32 {0.000 0.000 0.000 srgb} bind def
/col33 {0.863 0.863 0.863 srgb} bind def
/col34 {0.996 0.996 0.000 srgb} bind def
/col35 {0.000 0.000 0.996 srgb} bind def
/col36 {0.398 0.398 0.996 srgb} bind def
/col37 {0.664 0.664 0.996 srgb} bind def
/col38 {0.000 0.996 0.996 srgb} bind def
/col39 {0.465 0.996 0.000 srgb} bind def
/col40 {0.000 0.664 0.000 srgb} bind def
/col41 {0.863 0.000 0.996 srgb} bind def
/col42 {0.996 0.000 0.000 srgb} bind def
/col43 {0.133 0.133 0.133 srgb} bind def
/col44 {0.266 0.266 0.266 srgb} bind def
/col45 {0.398 0.398 0.398 srgb} bind def
/col46 {0.531 0.531 0.531 srgb} bind def
/col47 {0.664 0.664 0.664 srgb} bind def
/col48 {0.797 0.797 0.797 srgb} bind def
/col49 {0.930 0.930 0.930 srgb} bind def

end
save
newpath 0 247 moveto 0 0 lineto 349 0 lineto 349 247 lineto closepath clip newpath
-77.1 308.9 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/reencdict 12 dict def /ReEncode { reencdict begin
/newcodesandnames exch def /newfontname exch def /basefontname exch def
/basefontdict basefontname findfont def /newfont basefontdict maxlength dict def
basefontdict { exch dup /FID ne { dup /Encoding eq
{ exch dup length array copy newfont 3 1 roll put }
{ exch newfont 3 1 roll put } ifelse } { pop pop } ifelse } forall
newfont /FontName newfontname put newcodesandnames aload pop
128 1 255 { newfont /Encoding get exch /.notdef put } for
newcodesandnames length 2 idiv { newfont /Encoding get 3 1 roll put } repeat
newfontname newfont definefont pop end } def
/isovec [
8#055 /minus 8#200 /grave 8#201 /acute 8#202 /circumflex 8#203 /tilde
8#204 /macron 8#205 /breve 8#206 /dotaccent 8#207 /dieresis
8#210 /ring 8#211 /cedilla 8#212 /hungarumlaut 8#213 /ogonek 8#214 /caron
8#220 /dotlessi 8#230 /oe 8#231 /OE
8#240 /space 8#241 /exclamdown 8#242 /cent 8#243 /sterling
8#244 /currency 8#245 /yen 8#246 /brokenbar 8#247 /section 8#250 /dieresis
8#251 /copyright 8#252 /ordfeminine 8#253 /guillemotleft 8#254 /logicalnot
8#255 /hyphen 8#256 /registered 8#257 /macron 8#260 /degree 8#261 /plusminus
8#262 /twosuperior 8#263 /threesuperior 8#264 /acute 8#265 /mu 8#266 /paragraph
8#267 /periodcentered 8#270 /cedilla 8#271 /onesuperior 8#272 /ordmasculine
8#273 /guillemotright 8#274 /onequarter 8#275 /onehalf
8#276 /threequarters 8#277 /questiondown 8#300 /Agrave 8#301 /Aacute
8#302 /Acircumflex 8#303 /Atilde 8#304 /Adieresis 8#305 /Aring
8#306 /AE 8#307 /Ccedilla 8#310 /Egrave 8#311 /Eacute
8#312 /Ecircumflex 8#313 /Edieresis 8#314 /Igrave 8#315 /Iacute
8#316 /Icircumflex 8#317 /Idieresis 8#320 /Eth 8#321 /Ntilde 8#322 /Ograve
8#323 /Oacute 8#324 /Ocircumflex 8#325 /Otilde 8#326 /Odieresis 8#327 /multiply
8#330 /Oslash 8#331 /Ugrave 8#332 /Uacute 8#333 /Ucircumflex
8#334 /Udieresis 8#335 /Yacute 8#336 /Thorn 8#337 /germandbls 8#340 /agrave
8#341 /aacute 8#342 /acircumflex 8#343 /atilde 8#344 /adieresis 8#345 /aring
8#346 /ae 8#347 /ccedilla 8#350 /egrave 8#351 /eacute
8#352 /ecircumflex 8#353 /edieresis 8#354 /igrave 8#355 /iacute
8#356 /icircumflex 8#357 /idieresis 8#360 /eth 8#361 /ntilde 8#362 /ograve
8#363 /oacute 8#364 /ocircumflex 8#365 /otilde 8#366 /odieresis 8#367 /divide
8#370 /oslash 8#371 /ugrave 8#372 /uacute 8#373 /ucircumflex
8#374 /udieresis 8#375 /yacute 8#376 /thorn 8#377 /ydieresis] def
/Times-Roman /Times-Roman-iso isovec ReEncode
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
0 slj 0 slc
 0.06000 0.06000 sc
%
% Fig objects follow
%
% 
% here starts figure with depth 50
/Times-Roman-iso ff 135.00 scf sf
5725 1786 m
gs 1 -1 sc (Recreate All) col0 sh gr
/Times-Roman-iso ff 135.00 scf sf
5725 1943 m
gs 1 -1 sc (Recreate Multi-Page) col0 sh gr
/Times-Roman-iso ff 135.00 scf sf
5725 2100 m
gs 1 -1 sc (Check Start Address) col0 sh gr
% here ends figure;
% 
% here starts figure with depth 40
% Polyline
7.500 slw
 [15 60] 60 sd
n 1837 4125 m
 6987 4125 l gs col0 s gr  [] 0 sd
% Polyline
n 1837 4125 m
 1912 4125 l gs col0 s gr 
% Polyline
n 6987 4125 m
 6912 4125 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1837 3662 m
 6987 3662 l gs col0 s gr  [] 0 sd
% Polyline
n 1837 3662 m
 1912 3662 l gs col0 s gr 
% Polyline
n 6987 3662 m
 6912 3662 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1837 3200 m
 6987 3200 l gs col0 s gr  [] 0 sd
% Polyline
n 1837 3200 m
 1912 3200 l gs col0 s gr 
% Polyline
n 6987 3200 m
 6912 3200 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1837 2737 m
 6987 2737 l gs col0 s gr  [] 0 sd
% Polyline
n 1837 2737 m
 1912 2737 l gs col0 s gr 
% Polyline
n 6987 2737 m
 6912 2737 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1837 2275 m
 6987 2275 l gs col0 s gr  [] 0 sd
% Polyline
n 1837 2275 m
 1912 2275 l gs col0 s gr 
% Polyline
n 6987 2275 m
 6912 2275 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1837 1812 m
 6987 1812 l gs col0 s gr  [] 0 sd
% Polyline
n 1837 1812 m
 1912 1812 l gs col0 s gr 
% Polyline
n 6987 1812 m
 6912 1812 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1837 1350 m
 6987 1350 l gs col0 s gr  [] 0 sd
% Polyline
n 1837 1350 m
 1912 1350 l gs col0 s gr 
% Polyline
n 6987 1350 m
 6912 1350 l gs col0 s gr 
% Polyline
n 2180 4125 m
 2180 4050 l gs col0 s gr 
% Polyline
n 2180 1350 m
 2180 1425 l gs col0 s gr 
% Polyline
n 2524 4125 m
 2524 4050 l gs col0 s gr 
% Polyline
n 2524 1350 m
 2524 1425 l gs col0 s gr 
% Polyline
n 2867 4125 m
 2867 4050 l gs col0 s gr 
% Polyline
n 2867 1350 m
 2867 1425 l gs col0 s gr 
% Polyline
n 3210 4125 m
 3210 4050 l gs col0 s gr 
% Polyline
n 3210 1350 m
 3210 1425 l gs col0 s gr 
% Polyline
n 3554 4125 m
 3554 4050 l gs col0 s gr 
% Polyline
n 3554 1350 m
 3554 1425 l gs col0 s gr 
% Polyline
n 3897 4125 m
 3897 4050 l gs col0 s gr 
% Polyline
n 3897 1350 m
 3897 1425 l gs col0 s gr 
% Polyline
n 4240 4125 m
 4240 4050 l gs col0 s gr 
% Polyline
n 4240 1350 m
 4240 1425 l gs col0 s gr 
% Polyline
n 4584 4125 m
 4584 4050 l gs col0 s gr 
% Polyline
n 4584 1350 m
 4584 1425 l gs col0 s gr 
% Polyline
n 4927 4125 m
 4927 4050 l gs col0 s gr 
% Polyline
n 4927 1350 m
 4927 1425 l gs col0 s gr 
% Polyline
n 5270 4125 m
 5270 4050 l gs col0 s gr 
% Polyline
n 5270 1350 m
 5270 1425 l gs col0 s gr 
% Polyline
n 5614 4125 m
 5614 4050 l gs col0 s gr 
% Polyline
n 5614 1350 m
 5614 1425 l gs col0 s gr 
% Polyline
n 5957 4125 m
 5957 4050 l gs col0 s gr 
% Polyline
n 5957 1350 m
 5957 1425 l gs col0 s gr 
% Polyline
n 6300 4125 m
 6300 4050 l gs col0 s gr 
% Polyline
n 6300 1350 m
 6300 1425 l gs col0 s gr 
% Polyline
n 6644 4125 m
 6644 4050 l gs col0 s gr 
% Polyline
n 6644 1350 m
 6644 1425 l gs col0 s gr 
% Polyline
n 1837 4125 m 6987 4125 l 6987 1350 l 1837 1350 l
 1837 4125 l  cp gs col0 s gr 
% here ends figure;
% 
% here starts figure with depth 38
% Polyline
7.500 slw
n 2046 4125 m 2046 1350 l 2136 1350 l 2136 4125 l
 2046 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2390 4125 m 2390 1350 l 2479 1350 l 2479 4125 l
 2390 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2733 4125 m 2733 2857 l 2822 2857 l 2822 4125 l
 2733 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3076 4125 m 3076 2046 l 3166 2046 l 3166 4125 l
 3076 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3420 4125 m 3420 1350 l 3509 1350 l 3509 4125 l
 3420 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3763 4125 m 3763 1350 l 3852 1350 l 3852 4125 l
 3763 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4106 4125 m 4106 2029 l 4196 2029 l 4196 4125 l
 4106 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4450 4125 m 4450 2303 l 4539 2303 l 4539 4125 l
 4450 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4793 4125 m 4793 1350 l 4882 1350 l 4882 4125 l
 4793 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5136 4125 m 5136 1350 l 5226 1350 l 5226 4125 l
 5136 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5480 4125 m 5480 3311 l 5569 3311 l 5569 4125 l
 5480 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5823 4125 m 5823 3350 l 5912 3350 l 5912 4125 l
 5823 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6166 4125 m 6166 3638 l 6256 3638 l 6256 4125 l
 6166 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6510 4125 m 6510 3489 l 6599 3489 l 6599 4125 l
 6510 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% here ends figure;
% 
% here starts figure with depth 36
% Polyline
7.500 slw
n 2136 4125 m 2136 1350 l 2225 1350 l 2225 4125 l
 2136 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2479 4125 m 2479 1350 l 2568 1350 l 2568 4125 l
 2479 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2822 4125 m 2822 3118 l 2912 3118 l 2912 4125 l
 2822 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3166 4125 m 3166 2285 l 3255 2285 l 3255 4125 l
 3166 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3509 4125 m 3509 1350 l 3598 1350 l 3598 4125 l
 3509 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3852 4125 m 3852 1350 l 3942 1350 l 3942 4125 l
 3852 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4196 4125 m 4196 3306 l 4285 3306 l 4285 4125 l
 4196 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4539 4125 m 4539 3189 l 4628 3189 l 4628 4125 l
 4539 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4882 4125 m 4882 2053 l 4972 2053 l 4972 4125 l
 4882 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5226 4125 m 5226 1765 l 5315 1765 l 5315 4125 l
 5226 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5569 4125 m 5569 3929 l 5658 3929 l 5658 4125 l
 5569 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5912 4125 m 5912 3922 l 6002 3922 l 6002 4125 l
 5912 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6256 4125 m 6256 3986 l 6345 3986 l 6345 4125 l
 6256 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6599 4125 m 6599 3952 l 6688 3952 l 6688 4125 l
 6599 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% here ends figure;
% 
% here starts figure with depth 34
% Polyline
7.500 slw
n 2225 4125 m 2225 3962 l 2314 3962 l 2314 4125 l
 2225 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2568 4125 m 2568 3712 l 2658 3712 l 2658 4125 l
 2568 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2912 4125 m 2912 4092 l 3001 4092 l 3001 4125 l
 2912 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3255 4125 m 3255 4125 l 3344 4125 l 3344 4125 l
 3255 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3598 4125 m 3598 4089 l 3688 4089 l 3688 4125 l
 3598 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3942 4125 m 3942 4021 l 4031 4021 l 4031 4125 l
 3942 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4285 4125 m 4285 3900 l 4374 3900 l 4374 4125 l
 4285 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4628 4125 m 4628 4102 l 4718 4102 l 4718 4125 l
 4628 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4972 4125 m 4972 4111 l 5061 4111 l 5061 4125 l
 4972 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5315 4125 m 5315 4020 l 5404 4020 l 5404 4125 l
 5315 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5658 4125 m 5658 4112 l 5748 4112 l 5748 4125 l
 5658 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6002 4125 m 6002 4120 l 6091 4120 l 6091 4125 l
 6002 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6345 4125 m 6345 4116 l 6434 4116 l 6434 4125 l
 6345 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6688 4125 m 6688 4102 l 6778 4102 l 6778 4125 l
 6688 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% here ends figure;
% 
% here starts figure with depth 10
% Polyline
7.500 slw
n 5500 1800 m 5500 1684 l 5621 1684 l 5621 1800 l
 5500 1800 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5500 1957 m 5500 1841 l 5621 1841 l 5621 1957 l
 5500 1957 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5500 2114 m 5500 1998 l 5621 1998 l 5621 2114 l
 5500 2114 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% here ends figure;
% 
% here starts figure with depth 0
/Times-Roman-iso ff 150.00 scf sf
1762 4187 m
gs 1 -1 sc (  1x) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
1762 3724 m
gs 1 -1 sc (  2x) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
1762 3262 m
gs 1 -1 sc (  3x) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
1762 2799 m
gs 1 -1 sc (  4x) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
1762 2337 m
gs 1 -1 sc (  5x) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
1762 1874 m
gs 1 -1 sc (  6x) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
1762 1412 m
gs 1 -1 sc (  7x) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
2242 4200 m
gs 1 -1 sc  90.0 rot (check) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
2586 4200 m
gs 1 -1 sc  90.0 rot (checkit) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
2929 4200 m
gs 1 -1 sc  90.0 rot (compress) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
3272 4200 m
gs 1 -1 sc  90.0 rot (db) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
3616 4200 m
gs 1 -1 sc  90.0 rot (jack) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
3959 4200 m
gs 1 -1 sc  90.0 rot (javac) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
4302 4200 m
gs 1 -1 sc  90.0 rot (jess) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
4646 4200 m
gs 1 -1 sc  90.0 rot (mpegaudio) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
4989 4200 m
gs 1 -1 sc  90.0 rot (mtrt) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
5332 4200 m
gs 1 -1 sc  90.0 rot (raytrace) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
5676 4200 m
gs 1 -1 sc  90.0 rot (excel) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
6019 4200 m
gs 1 -1 sc  90.0 rot (photoshp) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
6362 4200 m
gs 1 -1 sc  90.0 rot (powerpnt) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
6706 4200 m
gs 1 -1 sc  90.0 rot (winword) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
1386 2738 m
gs 1 -1 sc  90.0 rot (Time impact versus per-region fragment lists) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
4069 5111 m
gs 1 -1 sc (SPECJVM) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
6472 5111 m
gs 1 -1 sc (Desktop) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
2077 1273 m
gs 1 -1 sc (78) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
2283 1273 m
gs 1 -1 sc (25) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
2489 1273 m
gs 1 -1 sc (44) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
2695 1273 m
gs 1 -1 sc (22) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
3451 1273 m
gs 1 -1 sc (38) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
3657 1273 m
gs 1 -1 sc (11) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
3863 1273 m
gs 1 -1 sc (53) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
4069 1273 m
gs 1 -1 sc (28) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
4893 1273 m
gs 1 -1 sc (15) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
5236 1273 m
gs 1 -1 sc (17) dup sw pop neg 0 rm  col0 sh gr
% here ends figure;
$F2psEnd
rs
showpage

%%EndDocument
 @endspecial -83 1622 a Fh(Figure)22 b(2.)h(P)n(erf)n(ormance)f(impact)
g(of)g(sc)o(hemes)h(f)n(or)-83 1731 y(mapping)42 b(regions)i(to)e(fra)o
(gments,)48 b(ver)o(sus)c(our)-83 1841 y(c)o(hosen)25
b(solution)f(of)h(per)n(\255region)g(fra)o(gment)g(lists,)-83
1951 y(on)e(our)g(m)n(ultithreaded)f(benc)o(hmarks.)-182
2286 y Fi(e)o(xamined)d(to)j(determine)e(which)h(re)o(gions)g(it)h
(touches.)28 b(The)22 b(w)o(ork)-182 2386 y(in)k(re-creating)f(can)i
(be)f(reduced)f(by)i(recording,)e(for)h(each)h(basic)-182
2486 y(block)19 b(b)n(uilt,)h(whether)f(it)i(occupies)f(more)f(than)h
(one)g(page,)f(allo)n(w-)-182 2585 y(ing)g(a)i(simple)e(starting)h
(address)f(check)g(for)h(all)g(such)g(blocks,)f(lim-)-182
2685 y(iting)k(recreation)f(to)h(multi-page)f(fragments.)33
b(Ho)n(we)n(v)o(er)m(,)23 b(an)o(y)f(re-)-182 2785 y(creation)28
b(has)i(prohibiti)n(v)o(e)e(performance)f(impact,)k(as)g(sho)n(wn)e(in)
-182 2884 y(Figure)d(2.)45 b(Ev)o(en)25 b(a)n(v)n(oiding)h(all)h
(recreation)f(by)g(restricting)g(frag-)-182 2984 y(ments)f(to)g(ne)n(v)
o(er)f(cross)h(page)f(boundaries)f(\(allo)n(wing)h(a)i(start)f(ad-)-182
3083 y(dress)31 b(check)f(for)h(all)h(fragments\))d(has)j(an)f(a)n(v)o
(erage)f(14\045)h(slo)n(w-)-182 3183 y(do)n(wn,)h(because)d(it)j(must)e
(consider)g(e)n(v)o(ery)f(single)h(fragment)f(\227)-182
3283 y(potentially)h(hundreds)g(of)h(thousands)f(\227)i(in)g(order)f
(to)g(\002nd)h(the)-182 3382 y(handful)18 b(that)i(are)g(in)h(the)f
(tar)o(get)f(re)o(gion.)-182 3604 y Ff(3.6)90 b(Non\255Pr)n(ecise)21
b(Flushing)-83 3826 y Fi(Ev)o(en)31 b(if)h(code)g(caches)f(are)h
(thread-pri)n(v)n(ate,)g(a)g(memory)f(un-)-182 3925 y(mapping)e(or)h
(code)h(modi\002cation)e(af)n(fects)i(all)g(threads')f(caches,)-182
4025 y(since)24 b(the)o(y)g(share)g(the)g(same)g(address)g(space,)h
(and)f(requires)f(syn-)-182 4125 y(chronization)i(of)j(cache)f
(\003ushing.)47 b(The)28 b(actual)f(in)m(v)n(alidation)f(of)-182
4224 y(modi\002ed)21 b(code)i(in)g(each)f(thread')-5
b(s)23 b(code)f(cache)h(must)g(satisfy)g(the)-182 4324
y(memory)29 b(consistenc)o(y)g(model)h(in)h(ef)n(fect.)56
b(In)31 b(contrast)f(to)h(soft-)-182 4424 y(w)o(are)i(distrib)n(uted)g
(shared)g(memory)g(systems)h([24)o(],)j(a)d(runtime)-182
4523 y(code)18 b(caching)g(system)h(cannot)f(relax)h(the)g(consistenc)o
(y)f(model)g(by)-182 4623 y(changing)c(the)i(programming)d(model)j(for)
f(its)j(tar)o(get)d(applications.)-182 4723 y(DynamoRIO)21
b(aims)j(to)f(operate)f(on)h(arbitrary)e(application)h(bina-)-182
4822 y(ries,)c(which)f(ha)n(v)o(e)g(already)f(been)h(b)n(uilt)g
(assuming)g(the)h(underlying)-182 4922 y(hardw)o(are')-5
b(s)28 b(consistenc)o(y)f(model.)51 b(An)o(y)29 b(signi\002cant)f
(relaxation)-182 5021 y(DynamoRIO)17 b(implements)h(may)g(break)g(tar)o
(get)g(applications)f(and)-182 5121 y(needs)i(to)i(be)f(considered)e
(carefully)-5 b(.)-83 5225 y(T)e(o)22 b(support)e(all)i(applications)f
(on)g(IA-32)f(we)i(must)g(follo)n(w)f(se-)-182 5325 y(quential)e
(consistenc)o(y)g([21)n(],)h(which)g(requires)f(immediate)g(in)m(v)n
(ali-)1974 1365 y @beginspecial 0 @llx 0 @lly 343 @urx
235 @ury 2376 @rwi @setspecial
%%BeginDocument: suspendflush.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: 
%%Creator: fig2dev Version 3.2 Patchlevel 4
%%CreationDate: Fri Dec 10 13:39:40 2004
%%For: derek@dereksha (Derek Bruening)
%%BoundingBox: 0 0 343 235
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def
/col32 {0.000 0.000 0.000 srgb} bind def
/col33 {0.863 0.863 0.863 srgb} bind def
/col34 {0.996 0.996 0.000 srgb} bind def
/col35 {0.000 0.000 0.996 srgb} bind def
/col36 {0.398 0.398 0.996 srgb} bind def
/col37 {0.664 0.664 0.996 srgb} bind def
/col38 {0.000 0.996 0.996 srgb} bind def
/col39 {0.465 0.996 0.000 srgb} bind def
/col40 {0.000 0.664 0.000 srgb} bind def
/col41 {0.863 0.000 0.996 srgb} bind def
/col42 {0.996 0.000 0.000 srgb} bind def
/col43 {0.133 0.133 0.133 srgb} bind def
/col44 {0.266 0.266 0.266 srgb} bind def
/col45 {0.398 0.398 0.398 srgb} bind def
/col46 {0.531 0.531 0.531 srgb} bind def
/col47 {0.664 0.664 0.664 srgb} bind def
/col48 {0.797 0.797 0.797 srgb} bind def
/col49 {0.930 0.930 0.930 srgb} bind def

end
save
newpath 0 235 moveto 0 0 lineto 343 0 lineto 343 235 lineto closepath clip newpath
-77.1 308.9 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/reencdict 12 dict def /ReEncode { reencdict begin
/newcodesandnames exch def /newfontname exch def /basefontname exch def
/basefontdict basefontname findfont def /newfont basefontdict maxlength dict def
basefontdict { exch dup /FID ne { dup /Encoding eq
{ exch dup length array copy newfont 3 1 roll put }
{ exch newfont 3 1 roll put } ifelse } { pop pop } ifelse } forall
newfont /FontName newfontname put newcodesandnames aload pop
128 1 255 { newfont /Encoding get exch /.notdef put } for
newcodesandnames length 2 idiv { newfont /Encoding get 3 1 roll put } repeat
newfontname newfont definefont pop end } def
/isovec [
8#055 /minus 8#200 /grave 8#201 /acute 8#202 /circumflex 8#203 /tilde
8#204 /macron 8#205 /breve 8#206 /dotaccent 8#207 /dieresis
8#210 /ring 8#211 /cedilla 8#212 /hungarumlaut 8#213 /ogonek 8#214 /caron
8#220 /dotlessi 8#230 /oe 8#231 /OE
8#240 /space 8#241 /exclamdown 8#242 /cent 8#243 /sterling
8#244 /currency 8#245 /yen 8#246 /brokenbar 8#247 /section 8#250 /dieresis
8#251 /copyright 8#252 /ordfeminine 8#253 /guillemotleft 8#254 /logicalnot
8#255 /hyphen 8#256 /registered 8#257 /macron 8#260 /degree 8#261 /plusminus
8#262 /twosuperior 8#263 /threesuperior 8#264 /acute 8#265 /mu 8#266 /paragraph
8#267 /periodcentered 8#270 /cedilla 8#271 /onesuperior 8#272 /ordmasculine
8#273 /guillemotright 8#274 /onequarter 8#275 /onehalf
8#276 /threequarters 8#277 /questiondown 8#300 /Agrave 8#301 /Aacute
8#302 /Acircumflex 8#303 /Atilde 8#304 /Adieresis 8#305 /Aring
8#306 /AE 8#307 /Ccedilla 8#310 /Egrave 8#311 /Eacute
8#312 /Ecircumflex 8#313 /Edieresis 8#314 /Igrave 8#315 /Iacute
8#316 /Icircumflex 8#317 /Idieresis 8#320 /Eth 8#321 /Ntilde 8#322 /Ograve
8#323 /Oacute 8#324 /Ocircumflex 8#325 /Otilde 8#326 /Odieresis 8#327 /multiply
8#330 /Oslash 8#331 /Ugrave 8#332 /Uacute 8#333 /Ucircumflex
8#334 /Udieresis 8#335 /Yacute 8#336 /Thorn 8#337 /germandbls 8#340 /agrave
8#341 /aacute 8#342 /acircumflex 8#343 /atilde 8#344 /adieresis 8#345 /aring
8#346 /ae 8#347 /ccedilla 8#350 /egrave 8#351 /eacute
8#352 /ecircumflex 8#353 /edieresis 8#354 /igrave 8#355 /iacute
8#356 /icircumflex 8#357 /idieresis 8#360 /eth 8#361 /ntilde 8#362 /ograve
8#363 /oacute 8#364 /ocircumflex 8#365 /otilde 8#366 /odieresis 8#367 /divide
8#370 /oslash 8#371 /ugrave 8#372 /uacute 8#373 /ucircumflex
8#374 /udieresis 8#375 /yacute 8#376 /thorn 8#377 /ydieresis] def
/Times-Roman /Times-Roman-iso isovec ReEncode
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
0 slj 0 slc
 0.06000 0.06000 sc
%
% Fig objects follow
%
% 
% here starts figure with depth 40
% Polyline
7.500 slw
 [15 60] 60 sd
n 1912 4125 m
 6987 4125 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 4125 m
 1987 4125 l gs col0 s gr 
% Polyline
n 6987 4125 m
 6912 4125 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 3817 m
 6987 3817 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 3817 m
 1987 3817 l gs col0 s gr 
% Polyline
n 6987 3817 m
 6912 3817 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 3508 m
 6987 3508 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 3508 m
 1987 3508 l gs col0 s gr 
% Polyline
n 6987 3508 m
 6912 3508 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 3200 m
 6987 3200 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 3200 m
 1987 3200 l gs col0 s gr 
% Polyline
n 6987 3200 m
 6912 3200 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 2892 m
 6987 2892 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 2892 m
 1987 2892 l gs col0 s gr 
% Polyline
n 6987 2892 m
 6912 2892 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 2583 m
 6987 2583 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 2583 m
 1987 2583 l gs col0 s gr 
% Polyline
n 6987 2583 m
 6912 2583 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 2275 m
 6987 2275 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 2275 m
 1987 2275 l gs col0 s gr 
% Polyline
n 6987 2275 m
 6912 2275 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 1967 m
 6987 1967 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 1967 m
 1987 1967 l gs col0 s gr 
% Polyline
n 6987 1967 m
 6912 1967 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 1658 m
 6987 1658 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 1658 m
 1987 1658 l gs col0 s gr 
% Polyline
n 6987 1658 m
 6912 1658 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 1350 m
 6987 1350 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 1350 m
 1987 1350 l gs col0 s gr 
% Polyline
n 6987 1350 m
 6912 1350 l gs col0 s gr 
% Polyline
n 2250 4125 m
 2250 4050 l gs col0 s gr 
% Polyline
n 2250 1350 m
 2250 1425 l gs col0 s gr 
% Polyline
n 2589 4125 m
 2589 4050 l gs col0 s gr 
% Polyline
n 2589 1350 m
 2589 1425 l gs col0 s gr 
% Polyline
n 2927 4125 m
 2927 4050 l gs col0 s gr 
% Polyline
n 2927 1350 m
 2927 1425 l gs col0 s gr 
% Polyline
n 3265 4125 m
 3265 4050 l gs col0 s gr 
% Polyline
n 3265 1350 m
 3265 1425 l gs col0 s gr 
% Polyline
n 3604 4125 m
 3604 4050 l gs col0 s gr 
% Polyline
n 3604 1350 m
 3604 1425 l gs col0 s gr 
% Polyline
n 3942 4125 m
 3942 4050 l gs col0 s gr 
% Polyline
n 3942 1350 m
 3942 1425 l gs col0 s gr 
% Polyline
n 4280 4125 m
 4280 4050 l gs col0 s gr 
% Polyline
n 4280 1350 m
 4280 1425 l gs col0 s gr 
% Polyline
n 4619 4125 m
 4619 4050 l gs col0 s gr 
% Polyline
n 4619 1350 m
 4619 1425 l gs col0 s gr 
% Polyline
n 4957 4125 m
 4957 4050 l gs col0 s gr 
% Polyline
n 4957 1350 m
 4957 1425 l gs col0 s gr 
% Polyline
n 5295 4125 m
 5295 4050 l gs col0 s gr 
% Polyline
n 5295 1350 m
 5295 1425 l gs col0 s gr 
% Polyline
n 5634 4125 m
 5634 4050 l gs col0 s gr 
% Polyline
n 5634 1350 m
 5634 1425 l gs col0 s gr 
% Polyline
n 5972 4125 m
 5972 4050 l gs col0 s gr 
% Polyline
n 5972 1350 m
 5972 1425 l gs col0 s gr 
% Polyline
n 6310 4125 m
 6310 4050 l gs col0 s gr 
% Polyline
n 6310 1350 m
 6310 1425 l gs col0 s gr 
% Polyline
n 6649 4125 m
 6649 4050 l gs col0 s gr 
% Polyline
n 6649 1350 m
 6649 1425 l gs col0 s gr 
% Polyline
n 1912 4125 m 6987 4125 l 6987 1350 l 1912 1350 l
 1912 4125 l  cp gs col0 s gr 
% here ends figure;
% 
% here starts figure with depth 38
% Polyline
7.500 slw
n 2166 4125 m 2166 3004 l 2335 3004 l 2335 4125 l
 2166 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2504 4125 m 2504 2431 l 2673 2431 l 2673 4125 l
 2504 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2842 4125 m 2842 4028 l 3012 4028 l 3012 4125 l
 2842 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3181 4125 m 3181 3965 l 3350 3965 l 3350 4125 l
 3181 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3519 4125 m 3519 3409 l 3688 3409 l 3688 4125 l
 3519 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3857 4125 m 3857 3198 l 4027 3198 l 4027 4125 l
 3857 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4196 4125 m 4196 1469 l 4365 1469 l 4365 4125 l
 4196 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4534 4125 m 4534 4013 l 4703 4013 l 4703 4125 l
 4534 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4872 4125 m 4872 3887 l 5042 3887 l 5042 4125 l
 4872 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5211 4125 m 5211 3878 l 5380 3878 l 5380 4125 l
 5211 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5549 4125 m 5549 4110 l 5718 4110 l 5718 4125 l
 5549 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5887 4125 m 5887 4110 l 6057 4110 l 6057 4125 l
 5887 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6226 4125 m 6226 4110 l 6395 4110 l 6395 4125 l
 6226 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6564 4125 m 6564 4110 l 6733 4110 l 6733 4125 l
 6564 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% here ends figure;
% 
% here starts figure with depth 0
/Times-Roman-iso ff 150.00 scf sf
1837 4187 m
gs 1 -1 sc (  1x) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
1837 3879 m
gs 1 -1 sc (  2x) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
1837 3570 m
gs 1 -1 sc (  3x) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
1837 3262 m
gs 1 -1 sc (  4x) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
1837 2954 m
gs 1 -1 sc (  5x) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
1837 2645 m
gs 1 -1 sc (  6x) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
1837 2337 m
gs 1 -1 sc (  7x) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
1837 2029 m
gs 1 -1 sc (  8x) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
1837 1720 m
gs 1 -1 sc (  9x) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
1837 1412 m
gs 1 -1 sc (  10x) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
2312 4200 m
gs 1 -1 sc  90.0 rot (check) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
2651 4200 m
gs 1 -1 sc  90.0 rot (checkit) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
2989 4200 m
gs 1 -1 sc  90.0 rot (compress) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
3327 4200 m
gs 1 -1 sc  90.0 rot (db) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
3666 4200 m
gs 1 -1 sc  90.0 rot (jack) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
4004 4200 m
gs 1 -1 sc  90.0 rot (javac) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
4342 4200 m
gs 1 -1 sc  90.0 rot (jess) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
4681 4200 m
gs 1 -1 sc  90.0 rot (mpegaudio) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
5019 4200 m
gs 1 -1 sc  90.0 rot (mtrt) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
5357 4200 m
gs 1 -1 sc  90.0 rot (raytrace) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
5696 4200 m
gs 1 -1 sc  90.0 rot (excel) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
6034 4200 m
gs 1 -1 sc  90.0 rot (photoshp) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
6372 4200 m
gs 1 -1 sc  90.0 rot (powerpnt) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
6711 4200 m
gs 1 -1 sc  90.0 rot (winword) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
1386 2738 m
gs 1 -1 sc  90.0 rot (Time impact versus non-precise flushing) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
4111 5111 m
gs 1 -1 sc (SPECJVM) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman-iso ff 150.00 scf sf
6479 5111 m
gs 1 -1 sc (Desktop) dup sw pop neg 0 rm  col0 sh gr
% here ends figure;
$F2psEnd
rs
showpage

%%EndDocument
 @endspecial 2073 1577 a Fh(Figure)26 b(3.)h(P)n(erf)n(ormance)g
(impact)e(of)h(suspending)2073 1687 y(all)k(threads)e(on)h(e)o(ver)q(y)
g(cac)o(he)g(\003ush,)h(ver)o(sus)f(our)2073 1796 y(non\255precise)42
b(\003ushing,)j(on)40 b(our)i(m)n(ultithreaded)2073 1906
y(benc)o(hmarks.)1974 2234 y Fi(dation)21 b(of)i(all)g(af)n(fected)e
(fragments)g(from)g(the)i(code)f(cache)f(of)i(e)n(v-)1974
2334 y(ery)29 b(thread;)34 b(otherwise,)d(stale)g(code)e(could)g(be)h
(e)o(x)o(ecuted.)52 b(The)1974 2434 y(only)27 b(mechanism)f(to)i
(identify)e(in)i(which)f(fragment)f(a)i(thread)e(is)1974
2533 y(e)o(x)o(ecuting)g(in)i(the)g(code)f(cache,)i(short)f(of)g
(prohibiti)n(v)o(ely)d(e)o(xpen-)1974 2633 y(si)n(v)o(e)j
(instrumentation,)g(is)i(stopping)d(the)h(thread)g(to)h(e)o(xamine)e
(it.)1974 2733 y(Thus,)20 b(the)h(only)f(viable)g(\003ushing)g
(approach)f(is)j(brute-force:)i(sus-)1974 2832 y(pending)c(all)k
(threads)e(and)g(forcibly)f(mo)o(ving)f(those)j(inside)f(of)g(to-)1974
2932 y(be-in)m(v)n(alidated)h(code.)43 b(Threads)25 b(may)h(frequently)
e(be)j(found)d(in-)1974 3031 y(side)f(of)f(to-be-deleted)e(re)o(gions,)
i(as)h(it)h(may)e(ha)n(v)o(e)g(been)g(data)g(that)1974
3131 y(w)o(as)27 b(written)g(to)f(rather)g(than)g(code)g(\(f)o(alse)h
(sharing\).)43 b(No)26 b(thread)1974 3231 y(can)21 b(be)g(resumed)f
(until)h(the)g(tar)o(get)g(code)f(is)j(not)d(reachable)g(inside)1974
3330 y(the)j(code)f(cache.)33 b(If)22 b(writes)i(to)f(code)f(re)o
(gions)g(are)g(frequent,)g(sus-)1974 3430 y(pending)h(all)j(threads)f
(is)h(an)f(impractical)g(solution,)g(as)h(sho)n(wn)f(in)1974
3530 y(Figure)19 b(3.)2073 3630 y(W)-7 b(e)18 b(ha)n(v)o(e)e(de)n(v)o
(eloped)e(a)i(relaxation)f(of)i(the)f(consistenc)o(y)f(model)1974
3730 y(that)26 b(allo)n(ws)h(a)g(more)f(ef)n(\002cient)g(in)m(v)n
(alidation)e(algorithm)h(that)i(we)1974 3830 y(call)k
Fj(non-pr)m(ecise)d(\003ushing)p Fi(.)54 b(Our)30 b(relax)o(ed)f
(consistenc)o(y)g(model)1974 3929 y(is)g(similar)g(to)f(weak)g
(consistenc)o(y)g([13)n(])h(in)f(that)h(it)g(tak)o(es)g(adv)n(an-)1974
4029 y(tage)e(of)f(synchronization)e(properties)h(of)i(the)f
(application.)44 b(The)1974 4128 y(k)o(e)o(y)18 b(observ)n(ation)f(is)k
(that)e(ensuring)f(that)h(no)g(thread)f(enters)h(a)g(stale)1974
4228 y(fragment)27 b(can)h(be)g(separated)g(from)f(the)i(actual)f(remo)
o(v)n(al)f(of)h(the)1974 4328 y(fragment)20 b(from)h(the)h(cache.)29
b(The)22 b(\002rst)g(step)h(can)e(be)h(done)f(atomi-)1974
4427 y(cally)f(with)g(respect)g(to)g(threads)g(in)g(the)g(code)g(cache)
g(by)f(unlinking)1974 4527 y(the)26 b(tar)o(get)f(fragments)f(and)h
(remo)o(ving)f(them)h(from)g(an)o(y)g(indirect)1974 4627
y(branch)20 b(lookup)h(table\(s\).)30 b(Our)22 b(unlinking)e(operation)
h(is)i(a)f(single)1974 4726 y(write)30 b(made)f(atomic)g(by)g(using)h
(the)f Fe(lock)h Fi(pre\002x)f([18)o(,)j(v)n(ol.)53 b(3])1974
4826 y(when)26 b(the)g(tar)o(get)g(crosses)h(cache)f(line)g
(boundaries.)42 b(The)26 b(actual)1974 4925 y(deletion)e(of)g(the)h
(fragments)e(can)i(be)g(delayed)e(until)i(a)g(safe)g(point)1974
5025 y(when)17 b(each)h(thread)f(in)h(question)e(has)i(left)h(the)e
(code)h(cache)f(at)h(least)1974 5125 y(once)h(and)h(therefore)e(cannot)
h(be)i(inside)f(of)g(a)g(stale)h(fragment.)2073 5225
y(Non-precise)i(\003ushing)h(still)i(requires)d(synchronization)f(with)
1974 5325 y(each)k(thread,)i(b)n(ut)e(for)h(the)g(unlinking)d(stage)j
(this)h(only)e(needs)g(to)1859 5574 y(5)p eop end
%%Page: 6 6
TeXDict begin 6 5 bop -182 83 a Fi(ensure)35 b(that)i(each)f(tar)o(get)
g(thread)f(is)j(not)e(accessing)g(link)g(data)-182 183
y(structures.)56 b(Since)31 b(threads)g(spend)f(most)h(of)g(their)g
(time)g(in)g(the)-182 282 y(code)25 b(cache,)i(in)f(the)g(common)f
(case)h(no)g(synchronization)d(is)k(re-)-182 382 y(quired.)37
b(F)o(or)24 b(thread-shared)e(caches,)k(all)f(threads)f(must)h(by)f
(syn-)-182 482 y(chronized)g(simultaneously)h(before)g(acting)h(on)h
(the)f(tar)o(get)g(frag-)-182 581 y(ments)c(to)h(pre)n(v)o(ent)e
(re-linking)f(of)j(in)m(v)n(alidated)d(fragments,)i(while)-182
681 y(thread-pri)n(v)n(ate)15 b(caches)k(can)f(be)g(dealt)h(with)f(one)
g(thread)g(at)h(a)g(time.)-182 780 y(Once)28 b(the)h(tar)o(get)f
(thread\(s\))g(are)h(at)g(a)g(safe)g(point)g(\(either)f(in)h(the)-182
880 y(cache)20 b(or)g(at)h(a)g(runtime)e(system)i(w)o(ait)g(point\),)e
(the)h(\003usher)g(checks)-182 980 y(whether)25 b(the)o(y)g(ha)n(v)o(e)
h(an)o(y)g(fragments)e(in)j(the)f(\003ush)g(re)o(gion)f(\(Sec-)-182
1079 y(tion)c(3.5\),)f(and)g(if)i(so,)f(it)h(unlinks)e(them)h(and)g
(remo)o(v)o(es)e(them)i(from)-182 1179 y(the)d(hashtable,)g(adding)f
(them)h(to)h(a)g(queue)f(of)g(to-be-deleted)e(frag-)-182
1279 y(ments.)55 b(As)31 b(each)f(thread)g(in)g(the)h(code)f(cache)f(e)
o(xits,)k(it)e(checks)-182 1378 y(the)21 b(queue)g(and)g(if)h(it)g(is)h
(the)f(last)g(thread)f(out)g(performs)f(the)i(actual)-182
1478 y(deletion)f(of)h(the)g(fragments.)29 b(Once)22
b(a)h(thread)e(lea)n(v)o(es)h(it)h(is)g(free)f(to)-182
1577 y(re-enter)m(,)c(as)j(stale)g(fragments)e(are)h(unreachable)d
(once)j(e)o(xited.)-83 1698 y(Non-precise)15 b(\003ushing)h(pre)n(v)o
(ents)f(an)o(y)h(ne)n(w)h(e)o(x)o(ecution)e(of)h(stale)-182
1797 y(code,)32 b(lea)n(ving)f(only)f(the)h(problem)e(of)i(handling)e
(a)i(thread)f(cur)n(-)-182 1897 y(rently)19 b(inside)g(of)h(a)g(stale)h
(fragment.)i(Since)c(DynamoRIO')-5 b(s)19 b(frag-)-182
1996 y(ments)25 b(only)g(contain)g(loops)g(via)g(self-links,)i(an)e
(unlink)o(ed)f(in)m(v)n(al-)-182 2096 y(idated)g(fragment)e(body)i
(will)h(be)f(e)o(x)o(ecuted)f(at)i(most)g(once.)37 b(Here)-182
2196 y(we)17 b(turn)g(to)g(our)g(relax)o(ed)f(consistenc)o(y)g(model,)h
(where)f(we)i(assume)-182 2295 y(that)g(the)h(thread)e(modifying)f(the)
i(code)g(is)h(properly)e(synchronized)-182 2395 y(with)30
b(the)g(thread)g(e)o(x)o(ecuting)e(the)i(code.)55 b(By)30
b(terminating)f(frag-)-182 2495 y(ments)21 b(at)g(application)f
(synchronization)e(operations,)i(we)i(ensure)-182 2594
y(that)e(an)o(y)g(e)o(x)o(ecution)f(of)i(stale)g(code)f(can)h(only)f
(occur)g(if)h(there)f(w)o(as)-182 2694 y(a)30 b(race)g(condition)e
(that)i(allo)n(wed)f(it)i(nati)n(v)o(ely)e(as)i(well.)55
b(Our)29 b(re-)-182 2793 y(lax)o(ed)19 b(model)g(ensures)h(sequential)f
(consistenc)o(y)g(when)g(consider)n(-)-182 2893 y(ing)k(data)h(or)g
(considering)e(code)i(independently)-5 b(,)21 b(b)n(ut)j(weak)g(con-)
-182 2993 y(sistenc)o(y)d(when)g(considering)e(all)j(of)f(memory)-5
b(.)27 b(Code)21 b(writes)h(will)-182 3092 y(ne)n(v)o(er)14
b(be)i(seen)g(out)g(of)g(order)m(,)f(and)g(data)h(writes)h(are)f(not)g
(af)n(fected)e(at)-182 3192 y(all)20 b(\227)h(the)e(only)h(potential)f
(re-ordering)d(with)21 b(respect)e(to)h(sequen-)-182
3292 y(tial)g(consistenc)o(y)f(is)i(between)f(a)g(data)h(write)f(and)g
(a)g(code)g(write.)-83 3412 y(This)25 b(relaxation)e(matches)i(the)f
(limitations)h(of)f(our)g(sandbox-)-182 3511 y(ing)19
b(scheme)g(\(Section)g(3.3\),)g(which)g(emplo)o(ys)g(a)h(check)f(at)h
(the)g(top)-182 3611 y(of)k(each)g(fragment,)f(rather)g(than)h
(unlinking,)f(to)h(bound)f(the)h(stale)-182 3711 y(code)15
b(windo)n(w)f(to)i(a)g(single)g(fragment)e(body)-5 b(.)22
b(If)15 b(we)h(could)f(identify)-182 3810 y(all)28 b(application)e
(synchronization)f(operations)h(and)i(ne)n(v)o(er)e(b)n(uild)-182
3910 y(fragments)i(across)i(them,)i(neither)d(our)g(consistenc)o(y)f
(model)h(re-)-182 4009 y(laxation)e(nor)h(our)g(sandboxing)d(method)i
(w)o(ould)h(break)g(an)o(y)f(ap-)-182 4109 y(plication)f(in)i(a)h(w)o
(ay)e(that)h(could)f(not)g(occur)g(nati)n(v)o(ely)-5
b(.)46 b(F)o(or)27 b(syn-)-182 4209 y(chronizing)20 b(more)i(than)h(tw)
o(o)g(threads,)g(an)f(e)o(xplicitly)g(atomic)h(op-)-182
4308 y(eration)18 b(that)h(locks)g(the)g(memory)e(b)n(us)i(\(using)f
(the)h Fe(lock)g Fi(pre\002x)f(or)-182 4408 y(the)k Fe(xchg)g
Fi(instruction\))e(is)j(required.)29 b(W)-7 b(e)23 b(break)e(all)i(of)f
(our)f(frag-)-182 4508 y(ments)27 b(at)g(such)g(instructions,)h(as)g
(well)f(as)h(at)g(loops)e(and)h(system)-182 4607 y(calls,)g(which)d
(are)i(also)f(frequent)f(components)f(of)i(synchroniza-)-182
4707 y(tion)d(primiti)n(v)o(es.)31 b(The)22 b(performance)e(impact)i
(of)g(these)h(fragment)-182 4806 y(barriers)c(is)i(ne)o(gligible)e(on)g
(our)h(benchmarks.)-83 4926 y(Ho)n(we)n(v)o(er)m(,)28
b(a)h(condition)e(v)n(ariable)g(can)h(be)g(used)g(without)g(e)o(x-)-182
5026 y(plicit)g(synchronization)d(using)i(implicitly)h(atomic)g
(single-w)o(ord)-182 5126 y(single-cache-line)j(reads)j(and)f(writes,)k
(and)d(we)g(cannot)f(af)n(ford)-182 5225 y(to)24 b(break)e(fragments)h
(on)g(e)n(v)o(ery)g(memory)f(access)j(on)e(the)h(chance)-182
5325 y(that)g(it)g(might)g(be)g(a)g(condition)e(v)n(ariable.)35
b(Thus,)25 b(theoretically)-5 b(,)22 b(a)1974 83 y(pathological)17
b(case)j(that)f(breaks)g(our)g(consistenc)o(y)f(algorithm)f(can)1974
183 y(be)31 b(constructed)e(if)i(a)h(code)e(path)h(that)g(reads)f(a)i
(condition)d(v)n(ari-)1974 282 y(able)i(prior)f(to)h(jumping)e(to)i
(modi\002able)f(code)g(is)i(e)o(x)o(ecuted)d(fre-)1974
382 y(quently)19 b(enough)f(to)i(be)g(completely)f(inlined)g(into)h(a)h
(single)f(trace.)1974 482 y(It)d(is)h(e)o(xtremely)d(unlik)o(ely)h
(that)h(synchronization)d(code)i(emplo)o(yed)1974 581
y(prior)29 b(to)h(entering)e(dynamically)g(generated)g(code)h(will)i
(occup)o(y)1974 681 y(the)h(same)h(memory)d(re)o(gion)h(as)i(the)f
(generated)f(code)g(itself,)36 b(so)1974 780 y(breaking)20
b(traces)j(at)g(transitions)f(between)g(compiled)f(code)g(mod-)1974
880 y(ules)c(and)f(generated)f(code)g(re)o(gions)h(further)f(narro)n
(ws)g(this)i(already)1974 980 y(tin)o(y)k(windo)n(w)g(in)g(which)g
(stale)i(code)e(can)g(be)h(e)o(x)o(ecuted.)27 b(W)-7
b(e)23 b(ha)n(v)o(e)1974 1079 y(not)h(encountered)d(an)o(y)i(instances)
h(of)g(this)h(violation)e(of)h(our)f(con-)1974 1179 y(sistenc)o(y)d
(algorithm.)1974 1410 y Fk(4)99 b(Code)26 b(Cache)f(Capacity)2073
1625 y Fi(When)k(e)o(x)o(ecuting)e(a)j(single)e(application)g(in)h
(isolation,)i(there)1974 1724 y(may)d(be)g(no)h(reason)e(to)i(limit)g
(the)g(code)f(cache)g(size.)50 b(Ho)n(we)n(v)o(er)m(,)1974
1824 y(when)23 b(e)o(x)o(ecuting)f(man)o(y)h(programs)f(under)h(a)i
(code)e(caching)g(sys-)1974 1924 y(tem)17 b(simultaneously)-5
b(,)16 b(or)h(with)h(signi\002cant)f(cache)g(fragmentation)1974
2023 y(from)k(consistenc)o(y)g(in)m(v)n(alidations,)g(memory)f(usage)i
(can)g(become)1974 2123 y(problematic,)31 b(causing)g(thrashing)e(and)h
(performance)e(de)o(grada-)1974 2222 y(tion.)63 b(W)-7
b(e)34 b(can)f(reduce)f(memory)f(usage)i(signi\002cantly)f(by)g(im-)
1974 2322 y(posing)f(a)h(bound)e(on)h(the)h(code)f(cache)g(size,)k(b)n
(ut)d(such)g(bounds)1974 2422 y(come)25 b(with)h(their)g(o)n(wn)f
(performance)e(cost)j(in)g(capacity)f(misses.)1974 2521
y(T)-7 b(o)25 b(achie)n(v)o(e)f(the)h(best)g(space)g(and)g(time)g
(tradeof)n(f,)f(tw)o(o)i(problems)1974 2621 y(must)19
b(be)h(solv)o(ed:)k(ho)n(w)18 b(to)i(set)g(an)g(upper)e(limit)h(on)g
(the)h(cache)f(size,)1974 2721 y(and)f(ho)n(w)g(to)h(choose)f(which)g
(fragments)f(to)i(e)n(vict)g(when)f(that)h(limit)1974
2820 y(is)h(reached.)k(Unlik)o(e)19 b(a)h(hardw)o(are)e(cache,)h(a)i
(softw)o(are)e(code)g(cache)1974 2920 y(can)f(be)h(adapti)n(v)o(ely)d
(sized)j(for)f(each)g(application,)f(and)h(re-sized)f(as)1974
3019 y(an)j(application)f(mo)o(v)o(es)g(through)f(dif)n(ferent)g
(phases.)1974 3226 y Ff(4.1)90 b(Thr)n(ead\255Pri)o(v)o(ate)21
b(V)-9 b(ersus)21 b(Shar)n(ed)2073 3432 y Fi(A)29 b(signi\002cant)f
(design)g(decision)g(af)n(fecting)f(cache)h(bounding)1974
3532 y(is)g(ho)n(w)f(caches)g(are)h(shared)f(among)f(threads.)46
b(The)27 b(code)g(cache)1974 3631 y(corresponds)d(to)j(application)e
(code,)i(which)e(is)j(shared)e(by)g(e)n(v)o(ery)1974
3731 y(thread)20 b(in)h(the)g(address)f(space.)28 b(A)21
b(runtime)f(system)h(must)g(choose)1974 3831 y(whether)g(its)i(cache)f
(will)h(be)f(similarly)g(shared,)f(or)h(whether)g(each)1974
3930 y(thread)e(will)h(ha)n(v)o(e)f(its)i(o)n(wn)e(pri)n(v)n(ate)g
(code)g(cache.)26 b(Thread-pri)n(v)n(ate)1974 4030 y(caches)c(ha)n(v)o
(e)f(a)i(number)d(of)i(attracti)n(v)o(e)f(adv)n(antages)g(o)o(v)o(er)f
(thread-)1974 4129 y(shared)30 b(caches,)k(including)29
b(simple)j(and)e(ef)n(\002cient)h(cache)g(man-)1974 4229
y(agement,)43 b(no)38 b(synchronization,)j(and)e(absolute)f(addresses)h
(as)1974 4329 y(thread-local)e(scratch)i(space)g(\(otherwise)f(a)i(re)o
(gister)e(must)h(be)1974 4428 y(stolen\).)64 b(The)33
b(only)f(disadv)n(antage)f(is)k(the)e(space)g(and)g(time)g(of)1974
4528 y(duplicating)26 b(fragments)h(that)h(are)g(shared)f(by)h
(multiple)f(threads,)1974 4628 y(although)16 b(once)h(fragments)g(are)h
(duplicated)e(the)o(y)i(can)f(be)h(special-)1974 4727
y(ized)26 b(per)f(thread,)h(f)o(acilitating)f(thread-speci\002c)f
(optimization)g(or)1974 4827 y(instrumentation.)2073
4926 y(Thread-shared)32 b(caches)i(ha)n(v)o(e)g(man)o(y)g(disadv)n
(antages)f(in)h(ef-)1974 5026 y(\002cienc)o(y)j(and)h(comple)o(xity)-5
b(.)77 b(Deleting)38 b(a)h(fragment)e(from)g(the)1974
5126 y(cache)32 b(requires)g(ensuring)f(that)h(no)g(threads)g(are)h(e)o
(x)o(ecuting)d(in-)1974 5225 y(side)21 b(that)f(fragment.)k(The)c
(brute)f(force)h(approach)e(of)i(suspending)1974 5325
y(all)28 b(threads)f(will)i(ensure)e(there)g(are)h(no)f(race)h
(conditions,)f(b)n(ut)h(is)1859 5574 y(6)p eop end
%%Page: 7 7
TeXDict begin 7 6 bop -182 12 1987 4 v -184 112 4 101
v 352 112 V 369 112 V 642 112 V 659 112 V 659 112 V 761
82 a Fg(Basic)18 b(blocks)p 1239 112 V 1239 112 V 285
w(T)m(races)p 1803 112 V 660 115 1144 4 v -184 247 4
136 v -133 194 a(Benchmark)p 352 247 V 368 247 V 210
w(Thrds)p 642 247 V 659 247 V 116 w(shared)p 953 247
V 1015 163 a(thrds)p 1015 177 150 4 v 1029 231 a(frag)p
1222 247 4 136 v 1239 247 V 1290 194 a(shared)p 1534
247 V 1595 163 a(thrds)p 1595 177 150 4 v 1610 231 a(frag)p
1803 247 4 136 v -182 250 1987 4 v -182 267 V -184 367
4 101 v -133 337 a(SPECJVM)p 352 367 V 368 367 V 323
w(10)p 642 367 V 659 367 V 119 w(18.0\045)p 953 367 V
177 w(3.0)p 1222 367 V 1239 367 V 156 w(9.5\045)p 1534
367 V 176 w(2.2)p 1803 367 V -182 371 1987 4 v -182 387
V -184 488 4 101 v -28 488 V 23 458 a(e)o(xcel)p 352
488 V 368 488 V 378 w(4)p 642 488 V 659 488 V 156 w(0.8\045)p
953 488 V 176 w(2.9)p 1222 488 V 1239 488 V 156 w(0.2\045)p
1534 488 V 176 w(2.1)p 1803 488 V -27 491 1831 4 v -184
588 4 101 v -28 588 V 23 558 a(photoshp)p 352 588 V 368
588 V 224 w(10)p 642 588 V 659 588 V 157 w(1.2\045)p
953 588 V 176 w(4.3)p 1222 588 V 1239 588 V 156 w(1.0\045)p
1534 588 V 176 w(3.8)p 1803 588 V -27 592 1831 4 v -184
689 4 101 v -77 659 a
 gsave currentpoint currentpoint translate 90 neg rotate neg exch neg
exch translate
 -77 659 a Fg(batch)-77 659 y
 currentpoint grestore moveto
 -77
659 a -28 689 4 101 v 100 w Fg(po)n(werpnt)p 352 689
V 368 689 V 255 w(5)p 642 689 V 659 689 V 156 w(1.0\045)p
953 689 V 176 w(2.8)p 1222 689 V 1239 689 V 156 w(0.1\045)p
1534 689 V 176 w(2.2)p 1803 689 V -27 692 1831 4 v -184
789 4 101 v -28 789 V 23 759 a(winw)o(ord)p 352 789 V
368 789 V 270 w(4)p 642 789 V 659 789 V 156 w(0.9\045)p
953 789 V 176 w(2.8)p 1222 789 V 1239 789 V 156 w(0.1\045)p
1534 789 V 176 w(2.1)p 1803 789 V -182 793 1987 4 v -182
809 V -184 910 4 101 v -28 910 V 23 879 a(e)o(xcel)p
352 910 V 368 910 V 340 w(10)p 642 910 V 659 910 V 157
w(8.4\045)p 953 910 V 176 w(3.5)p 1222 910 V 1239 910
V 156 w(2.5\045)p 1534 910 V 176 w(3.2)p 1803 910 V -27
913 1831 4 v -184 1010 4 101 v -28 1010 V 23 980 a(photoshp)p
352 1010 V 368 1010 V 224 w(17)p 642 1010 V 659 1010
V 157 w(4.5\045)p 953 1010 V 176 w(2.3)p 1222 1010 V
1239 1010 V 156 w(1.7\045)p 1534 1010 V 176 w(2.1)p 1803
1010 V -27 1013 1831 4 v -184 1111 4 101 v -28 1111 V
23 1080 a(po)n(werpnt)p 352 1111 V 368 1111 V 255 w(7)p
642 1111 V 659 1111 V 156 w(8.0\045)p 953 1111 V 176
w(2.2)p 1222 1111 V 1239 1111 V 118 w(10.9\045)p 1534
1111 V 177 w(2.0)p 1803 1111 V -27 1114 1831 4 v -184
1211 4 101 v -77 1181 a
 gsave currentpoint currentpoint translate 90 neg rotate neg exch neg
exch translate
 -77 1181 a 19 w Fg(interacti)n(v)o(e)-77
1181 y
 currentpoint grestore moveto
 -77 1181 a -28 1211 4 101 v 100 w Fg(winw)o(ord)p
352 1211 V 368 1211 V 270 w(7)p 642 1211 V 659 1211 V
156 w(9.8\045)p 953 1211 V 176 w(4.1)p 1222 1211 V 1239
1211 V 156 w(3.3\045)p 1534 1211 V 176 w(2.9)p 1803 1211
V -182 1214 1987 4 v -83 1408 a Fh(T)-7 b(ab)o(le)46
b(3.)f(Fra)o(gment)f(sharing)h(acr)n(oss)h(threads.)-83
1518 y(Our)16 b(desktop)f(batc)o(h)h(scenarios)g(are)h(compared)e(to)
-83 1627 y(interactive)28 b(use)q(,)g(whic)o(h)e(creates)i(more)f
(threads.)-83 1737 y Fe(Thrds)e Fh(is)g(the)g(n)o(umber)g(of)g(threads)
g(e)o(ver)h(created;)-83 1847 y Fe(shared)36 b Fh(is)i(the)e(per)n
(centa)o(g)q(e)i(of)e(fra)o(gments)h(e)o(x)o(e\255)-83
1956 y(cuted)e(b)n(y)h(more)f(than)g(one)g(thread;)41
b(and)1453 1926 y Fe(thrds)p 1453 1940 225 4 v 1475 1990
a(frag)-83 2066 y Fh(is)33 b(the)f(a)o(vera)o(g)q(e)h(n)o(umber)g(of)f
(threads)g(e)o(x)o(ecuting)-83 2175 y(eac)o(h)24 b(shared)f(fra)o
(gment.)-182 2427 y Fi(costly)-5 b(.)36 b(Another)23
b(k)o(e)o(y)g(operation,)g(resizing)h(the)g(indirect)f(branch)-182
2527 y(lookup)32 b(hashtable,)37 b(requires)d(adding)f(synchronization)
e(to)k(the)-182 2627 y(performance-critical)23 b(in-cache)j(lookup)f
(routine.)45 b(Ev)o(en)26 b(b)n(uild-)-182 2726 y(ing)f(traces)g(needs)
g(e)o(xtra)g(synchronization)d(or)k(pri)n(v)n(ate)e(copies)h(of)-182
2826 y(each)d(component)e(block)i(in)h(a)g(trace-in-progress)d(to)i
(ensure)g(cor)n(-)-182 2925 y(rectness.)-83 3025 y(T)-7
b(o)28 b(quantify)e(the)i(comparison)d(between)i(thread-shared)e(and)
-182 3125 y(thread-pri)n(v)n(ate)32 b(caches,)38 b(we)d(must)g(kno)n(w)
f(ho)n(w)g(much)g(code)g(is)-182 3224 y(shared)26 b(among)f(threads.)45
b(Naturally)-5 b(,)27 b(it)h(depends)d(on)i(the)g(appli-)-182
3324 y(cation:)40 b(in)28 b(a)h(web)f(serv)o(er)m(,)g(man)o(y)f
(threads)g(run)h(the)g(same)g(code,)-182 3424 y(while)k(in)i(a)f
(desktop)e(application,)k(threads)d(typically)g(perform)-182
3523 y(distinct)26 b(tasks.)44 b(T)-7 b(able)26 b(3)h(sho)n(ws)f(the)h
(percentage)d(of)i(code)g(frag-)-182 3623 y(ments)k(that)g(are)g(used)f
(by)h(more)f(than)h(one)f(thread)g(in)h(our)g(mul-)-182
3722 y(tithreaded)25 b(benchmarks.)42 b(Ev)o(en)26 b(in)h(interacti)n
(v)o(e)e(desktop)h(appli-)-182 3822 y(cations)32 b(there)f(is)i(a)g
(remarkable)d(lack)i(of)g(shared)f(code,)j(which)-182
3922 y(matches)d(pre)n(vious)g(results)h([22)o(])g(where)f(desktop)g
(applications)-182 4021 y(were)21 b(found)g(to)h(ha)n(v)o(e)f(fe)n(w)h
(instructions)f(e)o(x)o(ecuted)f(in)i(an)o(y)f(thread)-182
4121 y(other)j(than)g(the)h(primary)f(thread.)38 b(These)25
b(results)g(dro)o(v)o(e)e(our)h(de-)-182 4221 y(sign)c(decision)f(to)i
(use)f(thread-pri)n(v)n(ate)d(caches)j(in)h(DynamoRIO.)-182
4424 y Ff(4.2)90 b(Eviction)23 b(P)n(olicy)-83 4628 y
Fi(Whate)n(v)o(er)j(limit)h(is)g(placed)f(on)g(the)g(size)h(of)f(the)h
(code)f(cache,)-182 4727 y(a)33 b(polic)o(y)e(is)i(needed)e(to)i
(decide)f(which)g(fragments)f(to)h(e)n(vict)h(to)-182
4827 y(mak)o(e)16 b(room)f(for)h(ne)n(w)g(fragments)f(once)h(the)h
(size)g(limit)g(is)g(reached.)-182 4926 y(Hardw)o(are)k(caches)h
(typically)g(use)g(a)h(least-recently-used)d(\(LR)m(U\))-182
5026 y(e)n(viction)30 b(polic)o(y)-5 b(,)33 b(b)n(ut)e(e)n(v)o(en)g
(the)g(minimal)g(pro\002ling)g(needed)f(to)-182 5126
y(calculate)g(the)h(LR)m(U)h(metric)f(is)h(too)e(e)o(xpensi)n(v)o(e)f
(to)j(use)f(in)g(soft-)-182 5225 y(w)o(are:)45 b(a)31
b(single)f(memory)e(store)j(at)f(the)h(top)f(of)g(each)g(fragment)-182
5325 y(incurs)25 b(an)h(a)n(v)o(erage)f(performance)e(impact)i(of)h
(nearly)f(eight)g(per)n(-)1974 1206 y @beginspecial 0
@llx 0 @lly 471 @urx 285 @ury 2376 @rwi @setspecial
%%BeginDocument: fifo.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: fifo.fig
%%Creator: fig2dev Version 3.2 Patchlevel 4
%%CreationDate: Fri Dec 10 13:38:27 2004
%%For: derek@dereksha (Derek Bruening)
%%BoundingBox: 0 0 471 285
%%Magnification: 1.0000
%%EndComments
/MyAppDict 100 dict dup begin def
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def
/col32 {0.000 0.000 0.000 srgb} bind def
/col33 {0.863 0.863 0.863 srgb} bind def
/col34 {0.996 0.996 0.664 srgb} bind def
/col35 {0.000 0.000 0.996 srgb} bind def
/col36 {0.398 0.398 0.996 srgb} bind def
/col37 {0.664 0.664 0.996 srgb} bind def
/col38 {0.000 0.996 0.996 srgb} bind def
/col39 {0.465 0.996 0.000 srgb} bind def
/col40 {0.664 0.996 0.664 srgb} bind def
/col41 {0.863 0.000 0.996 srgb} bind def
/col42 {0.996 0.664 0.664 srgb} bind def
/col43 {0.930 0.930 0.930 srgb} bind def
/col44 {0.797 0.797 0.797 srgb} bind def
/col45 {0.664 0.664 0.664 srgb} bind def

end
save
newpath 0 285 moveto 0 0 lineto 471 0 lineto 471 285 lineto closepath clip newpath
0.7 302.2 translate
1 -1 scale

% This junk string is used by the show operators
/PATsstr 1 string def
/PATawidthshow { 	% cx cy cchar rx ry string
  % Loop over each character in the string
  {  % cx cy cchar rx ry char
    % Show the character
    dup				% cx cy cchar rx ry char char
    PATsstr dup 0 4 -1 roll put	% cx cy cchar rx ry char (char)
    false charpath		% cx cy cchar rx ry char
    /clip load PATdraw
    % Move past the character (charpath modified the
    % current point)
    currentpoint			% cx cy cchar rx ry char x y
    newpath
    moveto			% cx cy cchar rx ry char
    % Reposition by cx,cy if the character in the string is cchar
    3 index eq {			% cx cy cchar rx ry
      4 index 4 index rmoveto
    } if
    % Reposition all characters by rx ry
    2 copy rmoveto		% cx cy cchar rx ry
  } forall
  pop pop pop pop pop		% -
  currentpoint
  newpath
  moveto
} bind def
/PATcg {
  7 dict dup begin
    /lw currentlinewidth def
    /lc currentlinecap def
    /lj currentlinejoin def
    /ml currentmiterlimit def
    /ds [ currentdash ] def
    /cc [ currentrgbcolor ] def
    /cm matrix currentmatrix def
  end
} bind def
% PATdraw - calculates the boundaries of the object and
% fills it with the current pattern
/PATdraw {			% proc
  save exch
    PATpcalc			% proc nw nh px py
    5 -1 roll exec		% nw nh px py
    newpath
    PATfill			% -
  restore
} bind def
% PATfill - performs the tiling for the shape
/PATfill { % nw nh px py PATfill -
  PATDict /CurrentPattern get dup begin
    setfont
    % Set the coordinate system to Pattern Space
    PatternGState PATsg
    % Set the color for uncolored pattezns
    PaintType 2 eq { PATDict /PColor get PATsc } if
    % Create the string for showing
    3 index string		% nw nh px py str
    % Loop for each of the pattern sources
    0 1 Multi 1 sub {		% nw nh px py str source
	% Move to the starting location
	3 index 3 index		% nw nh px py str source px py
	moveto			% nw nh px py str source
	% For multiple sources, set the appropriate color
	Multi 1 ne { dup PC exch get PATsc } if
	% Set the appropriate string for the source
	0 1 7 index 1 sub { 2 index exch 2 index put } for pop
	% Loop over the number of vertical cells
	3 index 		% nw nh px py str nh
	{			% nw nh px py str
	  currentpoint		% nw nh px py str cx cy
	  2 index oldshow	% nw nh px py str cx cy
	  YStep add moveto	% nw nh px py str
	} repeat		% nw nh px py str
    } for
    5 { pop } repeat
  end
} bind def

% PATkshow - kshow with the current pattezn
/PATkshow {			% proc string
  exch bind			% string proc
  1 index 0 get			% string proc char
  % Loop over all but the last character in the string
  0 1 4 index length 2 sub {
				% string proc char idx
    % Find the n+1th character in the string
    3 index exch 1 add get	% string proc char char+1
    exch 2 copy			% strinq proc char+1 char char+1 char
    % Now show the nth character
    PATsstr dup 0 4 -1 roll put	% string proc chr+1 chr chr+1 (chr)
    false charpath		% string proc char+1 char char+1
    /clip load PATdraw
    % Move past the character (charpath modified the current point)
    currentpoint newpath moveto
    % Execute the user proc (should consume char and char+1)
    mark 3 1 roll		% string proc char+1 mark char char+1
    4 index exec		% string proc char+1 mark...
    cleartomark			% string proc char+1
  } for
  % Now display the last character
  PATsstr dup 0 4 -1 roll put	% string proc (char+1)
  false charpath		% string proc
  /clip load PATdraw
  neewath
  pop pop			% -
} bind def
% PATmp - the makepattern equivalent
/PATmp {			% patdict patmtx PATmp patinstance
  exch dup length 7 add		% We will add 6 new entries plus 1 FID
  dict copy			% Create a new dictionary
  begin
    % Matrix to install when painting the pattern
    TilingType PATtcalc
    /PatternGState PATcg def
    PatternGState /cm 3 -1 roll put
    % Check for multi pattern sources (Level 1 fast color patterns)
    currentdict /Multi known not { /Multi 1 def } if
    % Font dictionary definitions
    /FontType 3 def
    % Create a dummy encoding vector
    /Encoding 256 array def
    3 string 0 1 255 {
      Encoding exch dup 3 index cvs cvn put } for pop
    /FontMatrix matrix def
    /FontBBox BBox def
    /BuildChar {
	mark 3 1 roll		% mark dict char
	exch begin
	Multi 1 ne {PaintData exch get}{pop} ifelse  % mark [paintdata]
	  PaintType 2 eq Multi 1 ne or
	  { XStep 0 FontBBox aload pop setcachedevice }
	  { XStep 0 setcharwidth } ifelse
	  currentdict		% mark [paintdata] dict
	  /PaintProc load	% mark [paintdata] dict paintproc
	end
	gsave
	  false PATredef exec true PATredef
	grestore
	cleartomark		% -
    } bind def
    currentdict
  end				% newdict
  /foo exch			% /foo newlict
  definefont			% newfont
} bind def
% PATpcalc - calculates the starting point and width/height
% of the tile fill for the shape
/PATpcalc {	% - PATpcalc nw nh px py
  PATDict /CurrentPattern get begin
    gsave
	% Set up the coordinate system to Pattern Space
	% and lock down pattern
	PatternGState /cm get setmatrix
	BBox aload pop pop pop translate
	% Determine the bounding box of the shape
	pathbbox			% llx lly urx ury
    grestore
    % Determine (nw, nh) the # of cells to paint width and height
    PatHeight div ceiling		% llx lly urx qh
    4 1 roll				% qh llx lly urx
    PatWidth div ceiling		% qh llx lly qw
    4 1 roll				% qw qh llx lly
    PatHeight div floor			% qw qh llx ph
    4 1 roll				% ph qw qh llx
    PatWidth div floor			% ph qw qh pw
    4 1 roll				% pw ph qw qh
    2 index sub cvi abs			% pw ph qs qh-ph
    exch 3 index sub cvi abs exch	% pw ph nw=qw-pw nh=qh-ph
    % Determine the starting point of the pattern fill
    %(px, py)
    4 2 roll				% nw nh pw ph
    PatHeight mul			% nw nh pw py
    exch				% nw nh py pw
    PatWidth mul exch			% nw nh px py
  end
} bind def

% Save the original routines so that we can use them later on
/oldfill	/fill load def
/oldeofill	/eofill load def
/oldstroke	/stroke load def
/oldshow	/show load def
/oldashow	/ashow load def
/oldwidthshow	/widthshow load def
/oldawidthshow	/awidthshow load def
/oldkshow	/kshow load def

% These defs are necessary so that subsequent procs don't bind in
% the originals
/fill	   { oldfill } bind def
/eofill	   { oldeofill } bind def
/stroke	   { oldstroke } bind def
/show	   { oldshow } bind def
/ashow	   { oldashow } bind def
/widthshow { oldwidthshow } bind def
/awidthshow { oldawidthshow } bind def
/kshow 	   { oldkshow } bind def
/PATredef {
  MyAppDict begin
    {
    /fill { /clip load PATdraw newpath } bind def
    /eofill { /eoclip load PATdraw newpath } bind def
    /stroke { PATstroke } bind def
    /show { 0 0 null 0 0 6 -1 roll PATawidthshow } bind def
    /ashow { 0 0 null 6 3 roll PATawidthshow }
    bind def
    /widthshow { 0 0 3 -1 roll PATawidthshow }
    bind def
    /awidthshow { PATawidthshow } bind def
    /kshow { PATkshow } bind def
  } {
    /fill   { oldfill } bind def
    /eofill { oldeofill } bind def
    /stroke { oldstroke } bind def
    /show   { oldshow } bind def
    /ashow  { oldashow } bind def
    /widthshow { oldwidthshow } bind def
    /awidthshow { oldawidthshow } bind def
    /kshow  { oldkshow } bind def
    } ifelse
  end
} bind def
false PATredef
% Conditionally define setcmykcolor if not available
/setcmykcolor where { pop } {
  /setcmykcolor {
    1 sub 4 1 roll
    3 {
	3 index add neg dup 0 lt { pop 0 } if 3 1 roll
    } repeat
    setrgbcolor - pop
  } bind def
} ifelse
/PATsc {		% colorarray
  aload length		% c1 ... cn length
    dup 1 eq { pop setgray } { 3 eq { setrgbcolor } { setcmykcolor
  } ifelse } ifelse
} bind def
/PATsg {		% dict
  begin
    lw setlinewidth
    lc setlinecap
    lj setlinejoin
    ml setmiterlimit
    ds aload pop setdash
    cc aload pop setrgbcolor
    cm setmatrix
  end
} bind def

/PATDict 3 dict def
/PATsp {
  true PATredef
  PATDict begin
    /CurrentPattern exch def
    % If it's an uncolored pattern, save the color
    CurrentPattern /PaintType get 2 eq {
      /PColor exch def
    } if
    /CColor [ currentrgbcolor ] def
  end
} bind def
% PATstroke - stroke with the current pattern
/PATstroke {
  countdictstack
  save
  mark
  {
    currentpoint strokepath moveto
    PATpcalc				% proc nw nh px py
    clip newpath PATfill
    } stopped {
	(*** PATstroke Warning: Path is too complex, stroking
	  with gray) =
    cleartomark
    restore
    countdictstack exch sub dup 0 gt
	{ { end } repeat } { pop } ifelse
    gsave 0.5 setgray oldstroke grestore
  } { pop restore pop } ifelse
  newpath
} bind def
/PATtcalc {		% modmtx tilingtype PATtcalc tilematrix
  % Note: tiling types 2 and 3 are not supported
  gsave
    exch concat					% tilingtype
    matrix currentmatrix exch			% cmtx tilingtype
    % Tiling type 1 and 3: constant spacing
    2 ne {
	% Distort the pattern so that it occupies
	% an integral number of device pixels
	dup 4 get exch dup 5 get exch		% tx ty cmtx
	XStep 0 dtransform
	round exch round exch			% tx ty cmtx dx.x dx.y
	XStep div exch XStep div exch		% tx ty cmtx a b
	0 YStep dtransform
	round exch round exch			% tx ty cmtx a b dy.x dy.y
	YStep div exch YStep div exch		% tx ty cmtx a b c d
	7 -3 roll astore			% { a b c d tx ty }
    } if
  grestore
} bind def
/PATusp {
  false PATredef
  PATDict begin
    CColor PATsc
  end
} bind def

% right45
11 dict begin
/PaintType 1 def
/PatternType 1 def
/TilingType 1 def
/BBox [0 0 1 1] def
/XStep 1 def
/YStep 1 def
/PatWidth 1 def
/PatHeight 1 def
/Multi 2 def
/PaintData [
  { clippath } bind
  { 20 20 true [ 20 0 0 -20 0 20 ]
	{<0040100080200100400200800401000802001004
	0020080040100080200000401000802001004002
	0080040100080200100400200800401000802000>}
     imagemask } bind
] def
/PaintProc {
	pop
	exec fill
} def
currentdict
end
/P5 exch def

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
0 slj 0 slc
 0.06000 0.06000 sc
%
% Fig objects follow
%
% 
% here starts figure with depth 54
% Polyline
7.500 slw
n 5475 3000 m 7275 3000 l 7275 2625 l 5475 2625 l
 cp gs col43 1.00 shd ef gr gs col0 s gr 
% Polyline
n 5475 3450 m 7275 3450 l 7275 4200 l 5475 4200 l
 cp gs col44 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5475 4200 m 7275 4200 l 7275 4725 l 5475 4725 l
 cp gs col44 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5475 2100 m 5475 1575 l 7275 1575 l 7275 2100 l
 cp gs col44 1.00 shd ef gr gs col0 s gr 
% Polyline
n 5475 1575 m 7275 1575 l 7275 1200 l 5475 1200 l
 cp gs col44 1.00 shd ef gr gs col0 s gr 
% Polyline
n 5475 2625 m 7275 2625 l 7275 2100 l 5475 2100 l
 cp gs /PC [[0.80 0.80 0.80] [0.00 0.00 0.00]] def
15.00 15.00 sc P5 [16 0 0 -16 365.00 140.00] PATmp PATsp ef gr PATusp gs col0 s gr 
% Polyline
n 2775 1575 m 4575 1575 l 4575 1050 l 2775 1050 l
 cp gs /PC [[0.80 0.80 0.80] [0.00 0.00 0.00]] def
15.00 15.00 sc P5 [16 0 0 -16 185.00 70.00] PATmp PATsp ef gr PATusp gs col0 s gr 
% Polyline
n 300 1575 m 2100 1575 l 2100 1200 l 300 1200 l
 cp gs col44 1.00 shd ef gr gs col0 s gr 
% Polyline
n 300 2100 m 300 1575 l 2100 1575 l 2100 2100 l
 cp gs col44 1.00 shd ef gr gs col0 s gr 
% Polyline
n 300 2100 m 2100 2100 l 2100 2400 l 300 2400 l
 cp gs col44 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 300 2400 m 2100 2400 l 2100 3000 l 300 3000 l
 cp gs col44 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 300 3450 m 2100 3450 l 2100 4200 l 300 4200 l
 cp gs col44 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 300 4200 m 2100 4200 l 2100 4725 l 300 4725 l
 cp gs col44 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5475 1200 m 5475 600 l 7275 600 l 7275 1200 l
 cp gs col45 1.00 shd ef gr gs col0 s gr 
% Polyline
n 5475 3000 m 7275 3000 l 7275 3450 l 5475 3450 l
 cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 300 1200 m 300 600 l 2100 600 l 2100 1200 l
 cp gs col45 1.00 shd ef gr gs col0 s gr 
% Polyline
n 300 3000 m 2100 3000 l 2100 3450 l 300 3450 l
 cp gs col45 1.00 shd ef gr gs col-1 s gr 
% here ends figure;
% 
% here starts figure with depth 52
% Polyline
30.000 slw
n 300 600 m 2100 600 l 2100 4725 l 300 4725 l
 cp gs col0 s gr 
% Polyline
n 5475 600 m 7275 600 l 7275 4725 l 5475 4725 l
 cp gs col0 s gr 
% here ends figure;
% 
% here starts figure with depth 50
% Polyline
7.500 slw
gs  clippath
1170 615 m 1230 615 l 1230 464 l 1200 584 l 1170 464 l cp
eoclip
n 1200 4725 m 1200 5025 l 0 5025 l 0 300 l 1200 300 l
 1200 600 l gs col0 s gr gr

% arrowhead
n 1170 464 m 1200 584 l 1230 464 l 1170 464 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
6345 615 m 6405 615 l 6405 464 l 6375 584 l 6345 464 l cp
eoclip
n 6375 4725 m 6375 5025 l 5175 5025 l 5175 300 l 6375 300 l
 6375 600 l gs col0 s gr gr

% arrowhead
n 6345 464 m 6375 584 l 6405 464 l 6345 464 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
30.000 slw
gs  clippath
2085 2032 m 2085 2167 l 2380 2167 l 2155 2100 l 2380 2032 l cp
eoclip
n 2625 2100 m
 2100 2100 l gs col0 s gr gr

% arrowhead
n 2380 2032 m 2155 2100 l 2380 2167 l 2380 2032 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
7260 2557 m 7260 2692 l 7555 2692 l 7330 2625 l 7555 2557 l cp
eoclip
n 7800 2625 m
 7275 2625 l gs col0 s gr gr

% arrowhead
n 7555 2557 m 7330 2625 l 7555 2692 l 7555 2557 l  cp gs 0.00 setgray ef gr  col0 s
/Times-Roman ff 480.00 scf sf
2325 1425 m
gs 1 -1 sc (+) col0 sh gr
/Times-Roman ff 480.00 scf sf
4800 1425 m
gs 1 -1 sc (=) col0 sh gr
/Times-Roman ff 240.00 scf sf
675 975 m
gs 1 -1 sc (regenerated) col0 sh gr
/Times-Roman ff 240.00 scf sf
900 1425 m
gs 1 -1 sc (new) col0 sh gr
/Times-Roman ff 240.00 scf sf
900 1875 m
gs 1 -1 sc (new) col0 sh gr
/Times-Roman ff 240.00 scf sf
900 2325 m
gs 1 -1 sc (new) col0 sh gr
/Times-Roman ff 240.00 scf sf
675 3300 m
gs 1 -1 sc (regenerated) col0 sh gr
/Times-Roman ff 240.00 scf sf
900 4500 m
gs 1 -1 sc (new) col0 sh gr
/Times-Roman ff 240.00 scf sf
5850 2850 m
gs 1 -1 sc (empty slot) col0 sh gr
/Times-Roman ff 240.00 scf sf
5850 3300 m
gs 1 -1 sc (regenerated) col0 sh gr
/Times-Roman ff 240.00 scf sf
6075 4500 m
gs 1 -1 sc (new) col0 sh gr
/Times-Roman ff 240.00 scf sf
6075 2400 m
gs 1 -1 sc (new) col0 sh gr
/Times-Roman ff 240.00 scf sf
6075 1875 m
gs 1 -1 sc (new) col0 sh gr
/Times-Roman ff 240.00 scf sf
6075 1425 m
gs 1 -1 sc (new) col0 sh gr
/Times-Roman ff 240.00 scf sf
5850 975 m
gs 1 -1 sc (regenerated) col0 sh gr
/Times-Roman ff 240.00 scf sf
900 2775 m
gs 1 -1 sc (new) col0 sh gr
/Times-Roman ff 240.00 scf sf
900 3900 m
gs 1 -1 sc (new) col0 sh gr
/Times-Roman ff 240.00 scf sf
6075 3900 m
gs 1 -1 sc (new) col0 sh gr
% here ends figure;
$F2psEnd
rs
end
showpage

%%EndDocument
 @endspecial 2073 1419 a Fh(Figure)31 b(4.)h(Our)f(FIFO)f(fra)o(gment)h
(e)o(viction)f(polic)o(y)-7 b(,)2073 1528 y(whic)o(h)37
b(treats)h(the)f(cac)o(he)h(as)g(a)f(cir)n(cular)i(b)n(uff)o(er)-5
b(.)2073 1638 y(A)35 b(ne)o(w)f(fra)o(gment)g(displaces)h(enough)f(old)
g(fra)o(g\255)2073 1747 y(ments)21 b(at)g(the)g(current)g(head)g(to)f
(make)i(r)n(oom.)31 b(The)2073 1857 y(\002gure)17 b(also)g(sho)o(ws)f
(fra)o(gments)g(marked)i(as)f(either)2073 1967 y(reg)q(enerated)33
b(or)f(ne)o(w)m(,)i(whic)o(h)e(drives)g(our)h(adap\255)2073
2076 y(tive)27 b(w)n(orking\255set\255siz)q(e)e(algorithm)g(\(Section)h
(4.4.\))1974 2523 y Fi(cent)31 b(on)f(our)h(SPEC)h(CPU)g(suite.)57
b(DynamoRIO)30 b(uses)h(a)h(least-)1974 2623 y(recently-created,)15
b(or)h(\002rst-in-\002rst-out)g(\(FIFO\),)h(e)n(viction)f(polic)o(y)-5
b(,)1974 2722 y(which)25 b(allo)n(ws)h(it)g(to)g(treat)f(the)h(code)f
(cache)g(as)h(a)g(circular)f(b)n(uf)n(fer)1974 2822 y(and)34
b(a)n(v)n(oid)g(an)o(y)f(pro\002ling)g(o)o(v)o(erhead)e(from)j(trying)f
(to)h(identify)1974 2922 y(infrequently-used)25 b(fragments.)49
b(Furthermore,)29 b(a)g(FIFO)g(polic)o(y)1974 3021 y(has)24
b(been)f(sho)n(wn)f(to)i(be)g(comparable)d(to)j(other)f(policies)g
(such)g(as)1974 3121 y(LR)m(U)i(or)f(e)n(v)o(en)f
(least-frequently-used)e(\(LFU\))j(in)h(terms)f(of)g(miss)1974
3221 y(rate)c([17)o(].)2073 3326 y(Figure)37 b(4)h(illustrates)g(our)f
(FIFO)h(replacement.)75 b(T)-7 b(o)38 b(mak)o(e)1974
3426 y(room)15 b(for)h(a)g(ne)n(w)g(fragment)f(when)g(the)i(cache)e(is)
j(full,)e(one)g(or)g(more)1974 3526 y(contiguous)26 b(fragments)h(at)h
(the)g(current)f(point)g(in)i(the)f(FIFO)g(are)1974 3625
y(deleted.)33 b(If)23 b(there)f(is)i(empty)e(space)i(after)e(deleting)g
(fragments)g(to)1974 3725 y(mak)o(e)h(room)f(for)h(a)h(ne)n(w)f
(fragment)f(\(due)g(to)i(dif)n(ferences)e(in)h(frag-)1974
3824 y(ment)f(size\),)i(that)f(space)f(will)i(be)e(used)h(when)f(the)h
(ne)o(xt)f(fragment)1974 3924 y(is)c(added)f(\227)h(that)g(is,)h(the)e
(FIFO)h(pointer)f(points)g(at)h(the)g(start)g(of)f(the)1974
4024 y(empty)f(space.)24 b(By)17 b(deleting)f(adjacent)g(fragments)f
(and)h(mo)o(ving)f(in)1974 4123 y(a)26 b(sequential,)h(FIFO)f(order)m
(,)g(fragmentation)d(of)j(the)g(cache)f(from)1974 4223
y(capacity)19 b(e)n(viction)g(is)j(a)n(v)n(oided.)2073
4329 y(T)-7 b(w)o(o)21 b(remaining)e(sources)h(of)g(cache)g
(fragmentation)e(are)j(dele-)1974 4428 y(tion)h(of)h(trace)f(heads)g
(as)i(each)e(trace)g(is)i(b)n(uilt)f(\(since)f(the)h(trace)f(re-)1974
4528 y(places)30 b(the)g(basic)g(block)f(at)h(the)g(trace)g(entry)f
(point\))f(and)i(cache)1974 4628 y(consistenc)o(y)16
b(e)n(victions.)24 b(Both)17 b(of)h(these)g(cause)f(holes)h(in)g
(arbitrary)1974 4727 y(locations)g(in)i(the)f(cache.)24
b(T)-7 b(o)20 b(combat)e(these)h(types)g(of)g(fragmenta-)1974
4827 y(tion,)i(we)g(use)h Fj(empty)f(slot)g(pr)l(omotion)f
Fi([3)o(,)i(p.)f(161\226163].)k(When)c(a)1974 4926 y(fragment)i(is)j
(deleted)f(from)f(the)h(cache)f(for)h(a)g(non-capacity)e(rea-)1974
5026 y(son,)f(the)f(resulting)g(empty)g(slot)h(is)h Fj(pr)l(omoted)e
Fi(to)g(the)h(front)f(of)g(the)1974 5126 y(FIFO)g(list)h(and)e(will)i
(be)f(\002lled)g(with)g(the)g(ne)o(xt)f(fragment)f(added)h(to)1974
5225 y(the)28 b(cache.)49 b(T)-7 b(o)28 b(support)f(empty)g(slot)i
(promotion)d(we)j(must)f(use)1974 5325 y(a)e(le)n(v)o(el)g(of)g
(indirection)e(to)i(separate)g(the)g(FIFO)g(from)f(the)h(actual)1859
5574 y(7)p eop end
%%Page: 8 8
TeXDict begin 8 7 bop -101 1695 a @beginspecial 0 @llx
0 @lly 559 @urx 243 @ury 4680 @rwi @setspecial
%%BeginDocument: cacheshrink.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: 
%%Creator: fig2dev Version 3.2 Patchlevel 4
%%CreationDate: Fri Dec 10 13:39:40 2004
%%For: derek@dereksha (Derek Bruening)
%%BoundingBox: 0 0 559 243
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def
/col32 {0.000 0.000 0.000 srgb} bind def
/col33 {0.863 0.863 0.863 srgb} bind def
/col34 {0.996 0.996 0.000 srgb} bind def
/col35 {0.000 0.000 0.996 srgb} bind def
/col36 {0.398 0.398 0.996 srgb} bind def
/col37 {0.664 0.664 0.996 srgb} bind def
/col38 {0.000 0.996 0.996 srgb} bind def
/col39 {0.465 0.996 0.000 srgb} bind def
/col40 {0.000 0.664 0.000 srgb} bind def
/col41 {0.863 0.000 0.996 srgb} bind def
/col42 {0.996 0.000 0.000 srgb} bind def
/col43 {0.133 0.133 0.133 srgb} bind def
/col44 {0.266 0.266 0.266 srgb} bind def
/col45 {0.398 0.398 0.398 srgb} bind def
/col46 {0.531 0.531 0.531 srgb} bind def
/col47 {0.664 0.664 0.664 srgb} bind def
/col48 {0.797 0.797 0.797 srgb} bind def
/col49 {0.930 0.930 0.930 srgb} bind def

end
save
newpath 0 243 moveto 0 0 lineto 559 0 lineto 559 243 lineto closepath clip newpath
-77.1 304.6 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
0 slj 0 slc
 0.06000 0.06000 sc
%
% Fig objects follow
%
% 
% here starts figure with depth 50
/Times-Roman ff 135.00 scf sf
2425 1586 m
gs 1 -1 sc (1/2 Both Caches) col0 sh gr
/Times-Roman ff 135.00 scf sf
2425 1743 m
gs 1 -1 sc (1/8 Block, 1/2 Trace) col0 sh gr
/Times-Roman ff 135.00 scf sf
2425 1900 m
gs 1 -1 sc (1/2 Block, 1/8 Trace) col0 sh gr
/Times-Roman ff 135.00 scf sf
2425 2057 m
gs 1 -1 sc (1/8 Both Caches) col0 sh gr
% here ends figure;
% 
% here starts figure with depth 40
% Polyline
7.500 slw
 [15 60] 60 sd
n 1912 3912 m
 10587 3912 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 3912 m
 1987 3912 l gs col0 s gr 
% Polyline
n 10587 3912 m
 10512 3912 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 3485 m
 10587 3485 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 3485 m
 1987 3485 l gs col0 s gr 
% Polyline
n 10587 3485 m
 10512 3485 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 3058 m
 10587 3058 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 3058 m
 1987 3058 l gs col0 s gr 
% Polyline
n 10587 3058 m
 10512 3058 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 2631 m
 10587 2631 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 2631 m
 1987 2631 l gs col0 s gr 
% Polyline
n 10587 2631 m
 10512 2631 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 2204 m
 10587 2204 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 2204 m
 1987 2204 l gs col0 s gr 
% Polyline
n 10587 2204 m
 10512 2204 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 1777 m
 10587 1777 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 1777 m
 1987 1777 l gs col0 s gr 
% Polyline
n 10587 1777 m
 10512 1777 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 1350 m
 10587 1350 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 1350 m
 1987 1350 l gs col0 s gr 
% Polyline
n 10587 1350 m
 10512 1350 l gs col0 s gr 
% Polyline
n 2146 4125 m
 2146 4050 l gs col0 s gr 
% Polyline
n 2146 1350 m
 2146 1425 l gs col0 s gr 
% Polyline
n 2381 4125 m
 2381 4050 l gs col0 s gr 
% Polyline
n 2381 1350 m
 2381 1425 l gs col0 s gr 
% Polyline
n 2615 4125 m
 2615 4050 l gs col0 s gr 
% Polyline
n 2615 1350 m
 2615 1425 l gs col0 s gr 
% Polyline
n 2850 4125 m
 2850 4050 l gs col0 s gr 
% Polyline
n 2850 1350 m
 2850 1425 l gs col0 s gr 
% Polyline
n 3084 4125 m
 3084 4050 l gs col0 s gr 
% Polyline
n 3084 1350 m
 3084 1425 l gs col0 s gr 
% Polyline
n 3319 4125 m
 3319 4050 l gs col0 s gr 
% Polyline
n 3319 1350 m
 3319 1425 l gs col0 s gr 
% Polyline
n 3553 4125 m
 3553 4050 l gs col0 s gr 
% Polyline
n 3553 1350 m
 3553 1425 l gs col0 s gr 
% Polyline
n 3788 4125 m
 3788 4050 l gs col0 s gr 
% Polyline
n 3788 1350 m
 3788 1425 l gs col0 s gr 
% Polyline
n 4022 4125 m
 4022 4050 l gs col0 s gr 
% Polyline
n 4022 1350 m
 4022 1425 l gs col0 s gr 
% Polyline
n 4257 4125 m
 4257 4050 l gs col0 s gr 
% Polyline
n 4257 1350 m
 4257 1425 l gs col0 s gr 
% Polyline
n 4491 4125 m
 4491 4050 l gs col0 s gr 
% Polyline
n 4491 1350 m
 4491 1425 l gs col0 s gr 
% Polyline
n 4726 4125 m
 4726 4050 l gs col0 s gr 
% Polyline
n 4726 1350 m
 4726 1425 l gs col0 s gr 
% Polyline
n 4960 4125 m
 4960 4050 l gs col0 s gr 
% Polyline
n 4960 1350 m
 4960 1425 l gs col0 s gr 
% Polyline
n 5194 4125 m
 5194 4050 l gs col0 s gr 
% Polyline
n 5194 1350 m
 5194 1425 l gs col0 s gr 
% Polyline
n 5429 4125 m
 5429 4050 l gs col0 s gr 
% Polyline
n 5429 1350 m
 5429 1425 l gs col0 s gr 
% Polyline
n 5663 4125 m
 5663 4050 l gs col0 s gr 
% Polyline
n 5663 1350 m
 5663 1425 l gs col0 s gr 
% Polyline
n 5898 4125 m
 5898 4050 l gs col0 s gr 
% Polyline
n 5898 1350 m
 5898 1425 l gs col0 s gr 
% Polyline
n 6132 4125 m
 6132 4050 l gs col0 s gr 
% Polyline
n 6132 1350 m
 6132 1425 l gs col0 s gr 
% Polyline
n 6367 4125 m
 6367 4050 l gs col0 s gr 
% Polyline
n 6367 1350 m
 6367 1425 l gs col0 s gr 
% Polyline
n 6601 4125 m
 6601 4050 l gs col0 s gr 
% Polyline
n 6601 1350 m
 6601 1425 l gs col0 s gr 
% Polyline
n 6836 4125 m
 6836 4050 l gs col0 s gr 
% Polyline
n 6836 1350 m
 6836 1425 l gs col0 s gr 
% Polyline
n 7070 4125 m
 7070 4050 l gs col0 s gr 
% Polyline
n 7070 1350 m
 7070 1425 l gs col0 s gr 
% Polyline
n 7305 4125 m
 7305 4050 l gs col0 s gr 
% Polyline
n 7305 1350 m
 7305 1425 l gs col0 s gr 
% Polyline
n 7539 4125 m
 7539 4050 l gs col0 s gr 
% Polyline
n 7539 1350 m
 7539 1425 l gs col0 s gr 
% Polyline
n 7773 4125 m
 7773 4050 l gs col0 s gr 
% Polyline
n 7773 1350 m
 7773 1425 l gs col0 s gr 
% Polyline
n 8008 4125 m
 8008 4050 l gs col0 s gr 
% Polyline
n 8008 1350 m
 8008 1425 l gs col0 s gr 
% Polyline
n 8242 4125 m
 8242 4050 l gs col0 s gr 
% Polyline
n 8242 1350 m
 8242 1425 l gs col0 s gr 
% Polyline
n 8477 4125 m
 8477 4050 l gs col0 s gr 
% Polyline
n 8477 1350 m
 8477 1425 l gs col0 s gr 
% Polyline
n 8711 4125 m
 8711 4050 l gs col0 s gr 
% Polyline
n 8711 1350 m
 8711 1425 l gs col0 s gr 
% Polyline
n 8946 4125 m
 8946 4050 l gs col0 s gr 
% Polyline
n 8946 1350 m
 8946 1425 l gs col0 s gr 
% Polyline
n 9180 4125 m
 9180 4050 l gs col0 s gr 
% Polyline
n 9180 1350 m
 9180 1425 l gs col0 s gr 
% Polyline
n 9415 4125 m
 9415 4050 l gs col0 s gr 
% Polyline
n 9415 1350 m
 9415 1425 l gs col0 s gr 
% Polyline
n 9649 4125 m
 9649 4050 l gs col0 s gr 
% Polyline
n 9649 1350 m
 9649 1425 l gs col0 s gr 
% Polyline
n 9884 4125 m
 9884 4050 l gs col0 s gr 
% Polyline
n 9884 1350 m
 9884 1425 l gs col0 s gr 
% Polyline
n 10118 4125 m
 10118 4050 l gs col0 s gr 
% Polyline
n 10118 1350 m
 10118 1425 l gs col0 s gr 
% Polyline
n 10353 4125 m
 10353 4050 l gs col0 s gr 
% Polyline
n 10353 1350 m
 10353 1425 l gs col0 s gr 
% Polyline
n 1912 4125 m 10587 4125 l 10587 1350 l 1912 1350 l
 1912 4125 l  cp gs col0 s gr 
% here ends figure;
% 
% here starts figure with depth 38
% Polyline
7.500 slw
n 2053 4125 m 2053 4120 l 2100 4120 l 2100 4125 l
 2053 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2287 4125 m 2287 4124 l 2334 4124 l 2334 4125 l
 2287 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2522 4125 m 2522 4124 l 2568 4124 l 2568 4125 l
 2522 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2756 4125 m 2756 4124 l 2803 4124 l 2803 4125 l
 2756 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2991 4125 m 2991 4124 l 3037 4124 l 3037 4125 l
 2991 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3225 4125 m 3225 4112 l 3272 4112 l 3272 4125 l
 3225 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3459 4125 m 3459 4125 l 3506 4125 l 3506 4125 l
 3459 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3694 4125 m 3694 4124 l 3741 4124 l 3741 4125 l
 3694 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3928 4125 m 3928 4125 l 3975 4125 l 3975 4125 l
 3928 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4163 4125 m 4163 4125 l 4210 4125 l 4210 4125 l
 4163 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4397 4125 m 4397 4115 l 4444 4115 l 4444 4125 l
 4397 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4632 4125 m 4632 4104 l 4679 4104 l 4679 4125 l
 4632 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4866 4125 m 4866 4125 l 4913 4125 l 4913 4125 l
 4866 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5101 4125 m 5101 4120 l 5148 4120 l 5148 4125 l
 5101 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5335 4125 m 5335 3683 l 5382 3683 l 5382 4125 l
 5335 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5570 4125 m 5570 4122 l 5616 4122 l 5616 4125 l
 5570 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5804 4125 m 5804 4123 l 5851 4123 l 5851 4125 l
 5804 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6038 4125 m 6038 3948 l 6085 3948 l 6085 4125 l
 6038 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6273 4125 m 6273 4080 l 6320 4080 l 6320 4125 l
 6273 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6507 4125 m 6507 4121 l 6554 4121 l 6554 4125 l
 6507 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6742 4125 m 6742 4105 l 6789 4105 l 6789 4125 l
 6742 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6976 4125 m 6976 4125 l 7023 4125 l 7023 4125 l
 6976 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7211 4125 m 7211 4087 l 7258 4087 l 7258 4125 l
 7211 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7445 4125 m 7445 4108 l 7492 4108 l 7492 4125 l
 7445 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7680 4125 m 7680 4125 l 7727 4125 l 7727 4125 l
 7680 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7914 4125 m 7914 4063 l 7961 4063 l 7961 4125 l
 7914 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8149 4125 m 8149 4111 l 8196 4111 l 8196 4125 l
 8149 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8383 4125 m 8383 4092 l 8430 4092 l 8430 4125 l
 8383 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8618 4125 m 8618 4118 l 8664 4118 l 8664 4125 l
 8618 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8852 4125 m 8852 4123 l 8899 4123 l 8899 4125 l
 8852 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9086 4125 m 9086 4110 l 9133 4110 l 9133 4125 l
 9086 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9321 4125 m 9321 4101 l 9368 4101 l 9368 4125 l
 9321 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9555 4125 m 9555 4110 l 9602 4110 l 9602 4125 l
 9555 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9790 4125 m 9790 4125 l 9837 4125 l 9837 4125 l
 9790 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 10024 4125 m 10024 3904 l 10071 3904 l 10071 4125 l
 10024 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 10259 4125 m 10259 4098 l 10306 4098 l 10306 4125 l
 10259 4125 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% here ends figure;
% 
% here starts figure with depth 36
% Polyline
7.500 slw
n 2100 4125 m 2100 4120 l 2146 4120 l 2146 4125 l
 2100 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2334 4125 m 2334 4125 l 2381 4125 l 2381 4125 l
 2334 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2568 4125 m 2568 4123 l 2615 4123 l 2615 4125 l
 2568 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2803 4125 m 2803 4124 l 2850 4124 l 2850 4125 l
 2803 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3037 4125 m 3037 4123 l 3084 4123 l 3084 4125 l
 3037 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3272 4125 m 3272 4106 l 3319 4106 l 3319 4125 l
 3272 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3506 4125 m 3506 4122 l 3553 4122 l 3553 4125 l
 3506 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3741 4125 m 3741 4124 l 3788 4124 l 3788 4125 l
 3741 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3975 4125 m 3975 4124 l 4022 4124 l 4022 4125 l
 3975 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4210 4125 m 4210 4124 l 4257 4124 l 4257 4125 l
 4210 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4444 4125 m 4444 4108 l 4491 4108 l 4491 4125 l
 4444 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4679 4125 m 4679 4091 l 4726 4091 l 4726 4125 l
 4679 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4913 4125 m 4913 4125 l 4960 4125 l 4960 4125 l
 4913 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5148 4125 m 5148 4119 l 5194 4119 l 5194 4125 l
 5148 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5382 4125 m 5382 3616 l 5429 3616 l 5429 4125 l
 5382 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5616 4125 m 5616 4122 l 5663 4122 l 5663 4125 l
 5616 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5851 4125 m 5851 4124 l 5898 4124 l 5898 4125 l
 5851 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6085 4125 m 6085 3911 l 6132 3911 l 6132 4125 l
 6085 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6320 4125 m 6320 4031 l 6367 4031 l 6367 4125 l
 6320 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6554 4125 m 6554 4123 l 6601 4123 l 6601 4125 l
 6554 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6789 4125 m 6789 4065 l 6836 4065 l 6836 4125 l
 6789 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7023 4125 m 7023 4125 l 7070 4125 l 7070 4125 l
 7023 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7258 4125 m 7258 3799 l 7305 3799 l 7305 4125 l
 7258 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7492 4125 m 7492 3975 l 7539 3975 l 7539 4125 l
 7492 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7727 4125 m 7727 4038 l 7773 4038 l 7773 4125 l
 7727 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7961 4125 m 7961 3991 l 8008 3991 l 8008 4125 l
 7961 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8196 4125 m 8196 3992 l 8242 3992 l 8242 4125 l
 8196 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8430 4125 m 8430 3942 l 8477 3942 l 8477 4125 l
 8430 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8664 4125 m 8664 3980 l 8711 3980 l 8711 4125 l
 8664 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8899 4125 m 8899 4038 l 8946 4038 l 8946 4125 l
 8899 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9133 4125 m 9133 4035 l 9180 4035 l 9180 4125 l
 9133 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9368 4125 m 9368 3950 l 9415 3950 l 9415 4125 l
 9368 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9602 4125 m 9602 4101 l 9649 4101 l 9649 4125 l
 9602 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9837 4125 m 9837 4118 l 9884 4118 l 9884 4125 l
 9837 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 10071 4125 m 10071 3936 l 10118 3936 l 10118 4125 l
 10071 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 10306 4125 m 10306 4034 l 10353 4034 l 10353 4125 l
 10306 4125 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% here ends figure;
% 
% here starts figure with depth 34
% Polyline
7.500 slw
n 2146 4125 m 2146 4108 l 2193 4108 l 2193 4125 l
 2146 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2381 4125 m 2381 4122 l 2428 4122 l 2428 4125 l
 2381 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2615 4125 m 2615 3685 l 2662 3685 l 2662 4125 l
 2615 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2850 4125 m 2850 4122 l 2897 4122 l 2897 4125 l
 2850 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3084 4125 m 3084 4094 l 3131 4094 l 3131 4125 l
 3084 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3319 4125 m 3319 3705 l 3366 3705 l 3366 4125 l
 3319 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3553 4125 m 3553 4122 l 3600 4122 l 3600 4125 l
 3553 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3788 4125 m 3788 4121 l 3835 4121 l 3835 4125 l
 3788 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4022 4125 m 4022 4124 l 4069 4124 l 4069 4125 l
 4022 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4257 4125 m 4257 1350 l 4303 1350 l 4303 4125 l
 4257 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4491 4125 m 4491 4053 l 4538 4053 l 4538 4125 l
 4491 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4726 4125 m 4726 2115 l 4772 2115 l 4772 4125 l
 4726 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4960 4125 m 4960 2182 l 5007 2182 l 5007 4125 l
 4960 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5194 4125 m 5194 4071 l 5241 4071 l 5241 4125 l
 5194 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5429 4125 m 5429 3318 l 5476 3318 l 5476 4125 l
 5429 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5663 4125 m 5663 3615 l 5710 3615 l 5710 4125 l
 5663 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5898 4125 m 5898 4113 l 5945 4113 l 5945 4125 l
 5898 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6132 4125 m 6132 3457 l 6179 3457 l 6179 4125 l
 6132 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6367 4125 m 6367 2488 l 6414 2488 l 6414 4125 l
 6367 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6601 4125 m 6601 4104 l 6648 4104 l 6648 4125 l
 6601 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6836 4125 m 6836 3218 l 6883 3218 l 6883 4125 l
 6836 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7070 4125 m 7070 4019 l 7117 4019 l 7117 4125 l
 7070 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7305 4125 m 7305 3836 l 7351 3836 l 7351 4125 l
 7305 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7539 4125 m 7539 3923 l 7586 3923 l 7586 4125 l
 7539 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7773 4125 m 7773 4065 l 7820 4065 l 7820 4125 l
 7773 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8008 4125 m 8008 4047 l 8055 4047 l 8055 4125 l
 8008 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8242 4125 m 8242 4053 l 8289 4053 l 8289 4125 l
 8242 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8477 4125 m 8477 3951 l 8524 3951 l 8524 4125 l
 8477 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8711 4125 m 8711 4059 l 8758 4059 l 8758 4125 l
 8711 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8946 4125 m 8946 4093 l 8993 4093 l 8993 4125 l
 8946 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9180 4125 m 9180 4057 l 9227 4057 l 9227 4125 l
 9180 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9415 4125 m 9415 4035 l 9462 4035 l 9462 4125 l
 9415 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9649 4125 m 9649 4104 l 9696 4104 l 9696 4125 l
 9649 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9884 4125 m 9884 4065 l 9931 4065 l 9931 4125 l
 9884 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 10118 4125 m 10118 1662 l 10165 1662 l 10165 4125 l
 10118 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 10353 4125 m 10353 3930 l 10399 3930 l 10399 4125 l
 10353 4125 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% here ends figure;
% 
% here starts figure with depth 32
% Polyline
7.500 slw
n 2193 4125 m 2193 3972 l 2240 3972 l 2240 4125 l
 2193 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2428 4125 m 2428 4125 l 2475 4125 l 2475 4125 l
 2428 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2662 4125 m 2662 3081 l 2709 3081 l 2709 4125 l
 2662 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2897 4125 m 2897 4121 l 2944 4121 l 2944 4125 l
 2897 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3131 4125 m 3131 3788 l 3178 3788 l 3178 4125 l
 3131 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3366 4125 m 3366 2984 l 3413 2984 l 3413 4125 l
 3366 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3600 4125 m 3600 4110 l 3647 4110 l 3647 4125 l
 3600 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3835 4125 m 3835 4114 l 3881 4114 l 3881 4125 l
 3835 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4069 4125 m 4069 3986 l 4116 3986 l 4116 4125 l
 4069 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4303 4125 m 4303 1350 l 4350 1350 l 4350 4125 l
 4303 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4538 4125 m 4538 4044 l 4585 4044 l 4585 4125 l
 4538 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4772 4125 m 4772 1350 l 4819 1350 l 4819 4125 l
 4772 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5007 4125 m 5007 1350 l 5054 1350 l 5054 4125 l
 5007 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5241 4125 m 5241 4028 l 5288 4028 l 5288 4125 l
 5241 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5476 4125 m 5476 3296 l 5523 3296 l 5523 4125 l
 5476 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5710 4125 m 5710 3522 l 5757 3522 l 5757 4125 l
 5710 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5945 4125 m 5945 3645 l 5992 3645 l 5992 4125 l
 5945 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6179 4125 m 6179 3080 l 6226 3080 l 6226 4125 l
 6179 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6414 4125 m 6414 1350 l 6461 1350 l 6461 4125 l
 6414 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6648 4125 m 6648 4099 l 6695 4099 l 6695 4125 l
 6648 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6883 4125 m 6883 1350 l 6929 1350 l 6929 4125 l
 6883 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7117 4125 m 7117 3974 l 7164 3974 l 7164 4125 l
 7117 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7351 4125 m 7351 3434 l 7398 3434 l 7398 4125 l
 7351 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7586 4125 m 7586 3750 l 7633 3750 l 7633 4125 l
 7586 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7820 4125 m 7820 4067 l 7867 4067 l 7867 4125 l
 7820 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8055 4125 m 8055 4039 l 8102 4039 l 8102 4125 l
 8055 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8289 4125 m 8289 3914 l 8336 3914 l 8336 4125 l
 8289 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8524 4125 m 8524 3735 l 8571 3735 l 8571 4125 l
 8524 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8758 4125 m 8758 3796 l 8805 3796 l 8805 4125 l
 8758 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8993 4125 m 8993 4025 l 9040 4025 l 9040 4125 l
 8993 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9227 4125 m 9227 3986 l 9274 3986 l 9274 4125 l
 9227 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9462 4125 m 9462 3958 l 9508 3958 l 9508 4125 l
 9462 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9696 4125 m 9696 4086 l 9743 4086 l 9743 4125 l
 9696 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9931 4125 m 9931 4009 l 9977 4009 l 9977 4125 l
 9931 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 10165 4125 m 10165 2220 l 10212 2220 l 10212 4125 l
 10165 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 10399 4125 m 10399 3825 l 10446 3825 l 10446 4125 l
 10399 4125 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% here ends figure;
% 
% here starts figure with depth 10
% Polyline
7.500 slw
n 2200 1600 m 2200 1484 l 2321 1484 l 2321 1600 l
 2200 1600 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2200 1757 m 2200 1641 l 2321 1641 l 2321 1757 l
 2200 1757 l  cp gs col47 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2200 1914 m 2200 1798 l 2321 1798 l 2321 1914 l
 2200 1914 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2200 2071 m 2200 1955 l 2321 1955 l 2321 2071 l
 2200 2071 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% here ends figure;
% 
% here starts figure with depth 0
/Times-Roman ff 150.00 scf sf
1837 3974 m
gs 1 -1 sc (  2x) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
1837 3547 m
gs 1 -1 sc (  4x) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
1837 3120 m
gs 1 -1 sc (  6x) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
1837 2693 m
gs 1 -1 sc (  8x) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
1837 2266 m
gs 1 -1 sc (  10x) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
1837 1839 m
gs 1 -1 sc (  12x) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
1837 1412 m
gs 1 -1 sc (  14x) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
2208 4200 m
gs 1 -1 sc  90.0 rot (ammp) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
2443 4200 m
gs 1 -1 sc  90.0 rot (applu) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
2677 4200 m
gs 1 -1 sc  90.0 rot (apsi) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
2912 4200 m
gs 1 -1 sc  90.0 rot (art) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
3146 4200 m
gs 1 -1 sc  90.0 rot (equake) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
3381 4200 m
gs 1 -1 sc  90.0 rot (mesa) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
3615 4200 m
gs 1 -1 sc  90.0 rot (mgrid) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
3850 4200 m
gs 1 -1 sc  90.0 rot (sixtrack) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
4084 4200 m
gs 1 -1 sc  90.0 rot (swim) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
4319 4200 m
gs 1 -1 sc  90.0 rot (wupwise) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
4553 4200 m
gs 1 -1 sc  90.0 rot (bzip2) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
4788 4200 m
gs 1 -1 sc  90.0 rot (crafty) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
5022 4200 m
gs 1 -1 sc  90.0 rot (eon) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
5256 4200 m
gs 1 -1 sc  90.0 rot (gap) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
5491 4200 m
gs 1 -1 sc  90.0 rot (gcc) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
5725 4200 m
gs 1 -1 sc  90.0 rot (gzip) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
5960 4200 m
gs 1 -1 sc  90.0 rot (mcf) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
6194 4200 m
gs 1 -1 sc  90.0 rot (parser) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
6429 4200 m
gs 1 -1 sc  90.0 rot (perlbmk) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
6663 4200 m
gs 1 -1 sc  90.0 rot (twolf) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
6898 4200 m
gs 1 -1 sc  90.0 rot (vortex) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
7132 4200 m
gs 1 -1 sc  90.0 rot (vpr) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
7367 4200 m
gs 1 -1 sc  90.0 rot (check) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
7601 4200 m
gs 1 -1 sc  90.0 rot (checkit) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
7835 4200 m
gs 1 -1 sc  90.0 rot (compress) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
8070 4200 m
gs 1 -1 sc  90.0 rot (db) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
8304 4200 m
gs 1 -1 sc  90.0 rot (jack) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
8539 4200 m
gs 1 -1 sc  90.0 rot (javac) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
8773 4200 m
gs 1 -1 sc  90.0 rot (jess) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
9008 4200 m
gs 1 -1 sc  90.0 rot (mpegaudio) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
9242 4200 m
gs 1 -1 sc  90.0 rot (mtrt) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
9477 4200 m
gs 1 -1 sc  90.0 rot (raytrace) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
9711 4200 m
gs 1 -1 sc  90.0 rot (excel) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
9946 4200 m
gs 1 -1 sc  90.0 rot (photoshp) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
10180 4200 m
gs 1 -1 sc  90.0 rot (powerpnt) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
10415 4200 m
gs 1 -1 sc  90.0 rot (winword) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
1386 2738 m
gs 1 -1 sc  90.0 rot (Time impact versus infinite caches) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
3788 5040 m
gs 1 -1 sc (SPECFP) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
6132 5040 m
gs 1 -1 sc (SPECINT) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
8711 5040 m
gs 1 -1 sc (SPECJVM) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
10353 5040 m
gs 1 -1 sc (Desktop) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
4210 1284 m
gs 1 -1 sc (24) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
4538 1284 m
gs 1 -1 sc (33) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
4913 1156 m
gs 1 -1 sc (126) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
5194 1284 m
gs 1 -1 sc (23) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
6554 1284 m
gs 1 -1 sc (34) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
7023 1284 m
gs 1 -1 sc (28) dup sw pop neg 0 rm  col0 sh gr
% here ends figure;
$F2psEnd
rs
showpage

%%EndDocument
 @endspecial -83 1798 a Fh(Figure)21 b(5.)h(P)n(erf)n(ormance)f(impact)
g(of)g(shrinking)g(the)g(basic)g(b)o(loc)n(k)h(cac)o(he)f(and)g(the)g
(trace)h(cac)o(he)g(to)e(one\255half)g(and)-83 1908 y(one\255eighth)i
(of)g(their)h(lar)o(g)q(est)g(siz)q(es,)g(ver)o(sus)h(unlimited)e(cac)o
(he)h(siz)q(es.)-182 2251 y Fi(cache)c(address)h(order)-5
b(.)-83 2359 y(Examining)28 b(only)i(capacity)-5 b(,)31
b(batch)e(e)n(viction)g(of)h(contiguous)-182 2458 y(code)37
b(cache)i(space)f(is)i(more)d(ef)n(\002cient)i(than)f(single-fragment)
-182 2558 y(deletion)29 b(because)g(it)i(better)f(amortizes)f(costs)i
([16)n(].)55 b(Ho)n(we)n(v)o(er)m(,)-182 2658 y(consistenc)o(y)16
b(e)n(victions)h(tar)o(get)f(scattered)h(locations)g(in)h(the)g(cache,)
-182 2757 y(and)h(cannot)h(be)g(easily)g(batched.)25
b(Furthermore,)17 b(the)o(y)j(can)g(thw)o(art)-182 2857
y(batch)35 b(allocation)h(units)g(that)g(must)h(be)f(de-allocated)e
(together)-182 2957 y(to)h(achie)n(v)o(e)e(an)o(y)i(bene\002t.)68
b(Consistenc)o(y)35 b(e)n(v)o(ents)f(are)h(common)-182
3056 y(enough)30 b(in)i(modern)f(applications)g(that)h(their)g(impact)g
(must)g(be)-182 3156 y(designed)18 b(for)-5 b(.)-182
3389 y Ff(4.3)90 b(Cache)21 b(Size)h(Effects)-83 3623
y Fi(T)-7 b(o)27 b(study)g(the)g(performance)d(ef)n(fects)j(of)f
(limited)h(cache)f(size,)-182 3722 y(we)h(imposed)e(a)i(hard)f(upper)f
(bound)g(equal)h(to)h(a)g(fraction)f(of)g(the)-182 3822
y(space)17 b(used)g(by)h(each)f(benchmark)e(in)j(an)f(unbounded)d
(cache.)24 b(Per)n(-)-182 3922 y(formance)16 b(can)i(be)h
(signi\002cantly)e(impacted)g(by)h(an)h(order)e(of)h(mag-)-182
4021 y(nitude)g(or)h(more)f(\(Figure)h(5\).)24 b(While)c(a)f(dif)n
(ferent)f(polic)o(y)g(than)h(our)-182 4121 y(FIFO)f(that)f(uses)h
(pro\002ling)f(\(ignoring)e(the)i(o)o(v)o(erhead)e(of)j(such)f(pro-)
-182 4220 y(\002ling)f(that)h(mak)o(es)f(it)h(unsuitable)f(for)g
(runtime)f(use\),)i(such)f(as)i(LR)m(U)-182 4320 y(or)30
b(LFU,)h(may)f(perform)e(slightly)j(better)f(by)g(k)o(eeping)f(v)n
(aluable)-182 4420 y(fragments)23 b(longer)m(,)h(the)h(e)o(xtreme)f
(slo)n(wdo)n(wns)g(e)o(xhibited)f(at)j(lo)n(w)-182 4519
y(cache)31 b(sizes)i(will)g(be)e(present)h(re)o(gardless)e(of)i(the)g
(replacement)-182 4619 y(polic)o(y)24 b(due)h(to)h(capacity)f(misses)i
(from)e(not)g(\002tting)h(the)f(w)o(orking)-182 4719
y(set)c(of)f(the)g(application)e(in)j(the)f(cache.)-83
4827 y(The)30 b(results)g(indicate)f(that)h(the)g(trace)g(cache)f(is)i
(much)e(more)-182 4926 y(important)18 b(than)i(the)g(basic)h(block)e
(cache,)h(as)h(e)o(xpected.)i(Evicting)-182 5026 y(a)e(hot)f(trace)g
(is)i(more)e(detrimental)f(than)h(losing)g(a)h(basic)g(block,)e(as)-182
5126 y(it)27 b(tak)o(es)g(much)f(longer)f(to)i(reb)n(uild)e(the)i
(trace.)44 b(Restricting)27 b(both)-182 5225 y(caches)32
b(to)g(one-eighth)e(of)i(their)g(natural)f(sizes)i(results)g(in)f(pro-)
-182 5325 y(hibiti)n(v)o(e)c(slo)n(wdo)n(wns)h(for)g(se)n(v)o(eral)g
(of)g(the)g(benchmarks,)h(due)f(to)1974 2251 y(thrashing.)22
b(Shrinking)15 b(the)i(caches)f(af)n(fects)h(each)f(application)g(dif-)
1974 2350 y(ferently)h(because)g(of)h(dif)n(fering)f(nati)n(v)o(e)g
(beha)n(vior)-5 b(.)23 b(Some)18 b(of)g(these)1974 2450
y(applications)34 b(e)o(x)o(ecute)g(little)i(code)f(be)o(yond)e(the)i
(performance-)1974 2549 y(critical)21 b(k)o(ernel)f(of)h(the)g
(benchmark,)e(and)h(cannot)g(handle)g(limited)1974 2649
y(space)c(constraints.)23 b(Benchmarks)14 b(that)i(adapt)g(well)g(are)g
(those)g(that)1974 2749 y(contain)h(much)g(initialization)h(or)g(other)
g(code)f(that)i(adds)f(to)g(the)g(to-)1974 2848 y(tal)h(cache)g(usage)g
(b)n(ut)g(is)h(not)e(performance-critical.)j(Thus,)e(maxi-)1974
2948 y(mum)e(unbounded)d(cache)k(usage)f(is)i(not)e(a)i(good)d(metric)i
(to)g(use)g(for)1974 3048 y(sizing)i(the)g(cache.)1974
3240 y Ff(4.4)90 b(Adapti)o(v)o(e)22 b(W)-7 b(orking\255Set\255Size)22
b(Detection)2073 3432 y Fi(W)-7 b(e)18 b(de)n(v)o(eloped)c(a)j(no)o(v)o
(el)e(scheme)i(for)f(automatically)f(adapting)1974 3532
y(the)h(code)g(cache)g(to)g(the)g(current)f(w)o(orking)g(set)i(size)g
(of)f(the)g(applica-)1974 3631 y(tion,)i(to)h(reduce)f(memory)f(usage)h
(b)n(ut)h(a)n(v)n(oid)f(thrashing.)23 b(Not)c(only)1974
3731 y(are)31 b(user)n(-supplied)f(cache)h(size)h(requirements)d
(eliminated,)k(b)n(ut)1974 3831 y(our)c(dynamically)f(adjusted)i(limit)
g(supports)f(applications)g(with)1974 3930 y(phased)17
b(beha)n(vior)f(that)i(will)g(not)g(w)o(ork)f(well)h(with)g(an)o(y)f
(hardcoded)1974 4030 y(limit.)24 b(The)18 b(insight)g(of)f(our)g
(algorithm)f(is)j(that)f(non-performance-)1974 4129 y(critical)24
b(code)f(such)g(as)h(initialization)f(sequences)g(are)g(good)g(can-)
1974 4229 y(didates)e(for)g(e)n(viction)g(since)h(the)o(y)f(may)g(only)
g(be)h(used)g(once.)29 b(Op-)1974 4329 y(erating)21 b(at)h(runtime,)e
(we)j(do)e(not)g(ha)n(v)o(e)g(the)h(luxury)e(of)h(e)o(xamining)1974
4428 y(future)f(application)g(beha)n(vior)g(or)h(of)g(performing)d(e)o
(xtensi)n(v)o(e)i(pro-)1974 4528 y(\002ling)h(\227)h(we)g(require)f(an)
g(incremental,)f(lo)n(w-o)o(v)o(erhead,)e(reacti)n(v)o(e)1974
4628 y(algorithm.)46 b(Our)27 b(solution)g(is)i(a)f(simple)f(method)g
(for)g(determin-)1974 4727 y(ing)21 b(when)f(to)h(resize)h(a)f(cache,)g
(and)f(could)h(be)g(applied)f(either)g(to)i(a)1974 4827
y(simple)d(cache)h(or)f(to)h(each)f(component)e(in)j(a)g(generational)e
(cache.)2073 4926 y(Our)f(sizing)g(technique)e(is)j(dri)n(v)o(en)d(by)h
(the)h(ratio)f(of)h Fj(r)m(e)m(g)o(ener)o(ated)1974 5026
y Fi(fragments)29 b(to)i Fj(r)m(eplaced)f Fi(fragments.)54
b(W)-7 b(e)32 b(be)o(gin)e(with)h(a)g(small)1974 5126
y(cache,)g(and)e(once)g(it)h(\002lls)h(up,)g(we)f(e)n(vict)g(old)f
(fragments)f(\(using)1974 5225 y(our)g(FIFO)h(polic)o(y\))e(to)i(mak)o
(e)f(room)g(for)g(ne)n(w)h(ones.)50 b(The)28 b(num-)1974
5325 y(ber)18 b(of)h(fragments)f(e)n(victed)g(is)i(the)f
Fj(r)m(eplaced)f Fi(portion)g(of)h(the)g(ratio.)1859
5574 y(8)p eop end
%%Page: 9 9
TeXDict begin 9 8 bop -101 1782 a @beginspecial 0 @llx
0 @lly 523 @urx 239 @ury 4680 @rwi @setspecial
%%BeginDocument: wset-50.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: 
%%Creator: fig2dev Version 3.2 Patchlevel 4
%%CreationDate: Fri Dec 10 13:39:40 2004
%%For: derek@dereksha (Derek Bruening)
%%BoundingBox: 0 0 523 239
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def
/col32 {0.000 0.000 0.000 srgb} bind def
/col33 {0.863 0.863 0.863 srgb} bind def
/col34 {0.996 0.996 0.000 srgb} bind def
/col35 {0.000 0.000 0.996 srgb} bind def
/col36 {0.398 0.398 0.996 srgb} bind def
/col37 {0.664 0.664 0.996 srgb} bind def
/col38 {0.000 0.996 0.996 srgb} bind def
/col39 {0.465 0.996 0.000 srgb} bind def
/col40 {0.000 0.664 0.000 srgb} bind def
/col41 {0.863 0.000 0.996 srgb} bind def
/col42 {0.996 0.000 0.000 srgb} bind def
/col43 {0.133 0.133 0.133 srgb} bind def
/col44 {0.266 0.266 0.266 srgb} bind def
/col45 {0.398 0.398 0.398 srgb} bind def
/col46 {0.531 0.531 0.531 srgb} bind def
/col47 {0.664 0.664 0.664 srgb} bind def
/col48 {0.797 0.797 0.797 srgb} bind def
/col49 {0.930 0.930 0.930 srgb} bind def

end
save
newpath 0 239 moveto 0 0 lineto 523 0 lineto 523 239 lineto closepath clip newpath
-77.1 299.5 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
0 slj 0 slc
 0.06000 0.06000 sc
%
% Fig objects follow
%
% 
% here starts figure with depth 50
/Times-Roman ff 135.00 scf sf
2825 1586 m
gs 1 -1 sc (10 regenerated per 50 replaced) col0 sh gr
/Times-Roman ff 135.00 scf sf
2825 1743 m
gs 1 -1 sc (20 regenerated per 50 replaced) col0 sh gr
/Times-Roman ff 135.00 scf sf
2825 1900 m
gs 1 -1 sc (30 regenerated per 50 replaced) col0 sh gr
/Times-Roman ff 135.00 scf sf
2825 2057 m
gs 1 -1 sc (40 regenerated per 50 replaced) col0 sh gr
/Times-Roman ff 135.00 scf sf
2825 2214 m
gs 1 -1 sc (45 regenerated per 50 replaced) col0 sh gr
% here ends figure;
% 
% here starts figure with depth 40
% Polyline
7.500 slw
 [15 60] 60 sd
n 1912 4007 m
 9987 4007 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 4007 m
 1987 4007 l gs col0 s gr 
% Polyline
n 9987 4007 m
 9912 4007 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 3712 m
 9987 3712 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 3712 m
 1987 3712 l gs col0 s gr 
% Polyline
n 9987 3712 m
 9912 3712 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 3416 m
 9987 3416 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 3416 m
 1987 3416 l gs col0 s gr 
% Polyline
n 9987 3416 m
 9912 3416 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 3121 m
 9987 3121 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 3121 m
 1987 3121 l gs col0 s gr 
% Polyline
n 9987 3121 m
 9912 3121 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 2826 m
 9987 2826 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 2826 m
 1987 2826 l gs col0 s gr 
% Polyline
n 9987 2826 m
 9912 2826 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 2531 m
 9987 2531 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 2531 m
 1987 2531 l gs col0 s gr 
% Polyline
n 9987 2531 m
 9912 2531 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 2236 m
 9987 2236 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 2236 m
 1987 2236 l gs col0 s gr 
% Polyline
n 9987 2236 m
 9912 2236 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 1940 m
 9987 1940 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 1940 m
 1987 1940 l gs col0 s gr 
% Polyline
n 9987 1940 m
 9912 1940 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 1645 m
 9987 1645 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 1645 m
 1987 1645 l gs col0 s gr 
% Polyline
n 9987 1645 m
 9912 1645 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 1350 m
 9987 1350 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 1350 m
 1987 1350 l gs col0 s gr 
% Polyline
n 9987 1350 m
 9912 1350 l gs col0 s gr 
% Polyline
n 2125 4125 m
 2125 4050 l gs col0 s gr 
% Polyline
n 2125 1350 m
 2125 1425 l gs col0 s gr 
% Polyline
n 2337 4125 m
 2337 4050 l gs col0 s gr 
% Polyline
n 2337 1350 m
 2337 1425 l gs col0 s gr 
% Polyline
n 2550 4125 m
 2550 4050 l gs col0 s gr 
% Polyline
n 2550 1350 m
 2550 1425 l gs col0 s gr 
% Polyline
n 2762 4125 m
 2762 4050 l gs col0 s gr 
% Polyline
n 2762 1350 m
 2762 1425 l gs col0 s gr 
% Polyline
n 2975 4125 m
 2975 4050 l gs col0 s gr 
% Polyline
n 2975 1350 m
 2975 1425 l gs col0 s gr 
% Polyline
n 3187 4125 m
 3187 4050 l gs col0 s gr 
% Polyline
n 3187 1350 m
 3187 1425 l gs col0 s gr 
% Polyline
n 3400 4125 m
 3400 4050 l gs col0 s gr 
% Polyline
n 3400 1350 m
 3400 1425 l gs col0 s gr 
% Polyline
n 3612 4125 m
 3612 4050 l gs col0 s gr 
% Polyline
n 3612 1350 m
 3612 1425 l gs col0 s gr 
% Polyline
n 3825 4125 m
 3825 4050 l gs col0 s gr 
% Polyline
n 3825 1350 m
 3825 1425 l gs col0 s gr 
% Polyline
n 4037 4125 m
 4037 4050 l gs col0 s gr 
% Polyline
n 4037 1350 m
 4037 1425 l gs col0 s gr 
% Polyline
n 4250 4125 m
 4250 4050 l gs col0 s gr 
% Polyline
n 4250 1350 m
 4250 1425 l gs col0 s gr 
% Polyline
n 4462 4125 m
 4462 4050 l gs col0 s gr 
% Polyline
n 4462 1350 m
 4462 1425 l gs col0 s gr 
% Polyline
n 4675 4125 m
 4675 4050 l gs col0 s gr 
% Polyline
n 4675 1350 m
 4675 1425 l gs col0 s gr 
% Polyline
n 4887 4125 m
 4887 4050 l gs col0 s gr 
% Polyline
n 4887 1350 m
 4887 1425 l gs col0 s gr 
% Polyline
n 5100 4125 m
 5100 4050 l gs col0 s gr 
% Polyline
n 5100 1350 m
 5100 1425 l gs col0 s gr 
% Polyline
n 5312 4125 m
 5312 4050 l gs col0 s gr 
% Polyline
n 5312 1350 m
 5312 1425 l gs col0 s gr 
% Polyline
n 5525 4125 m
 5525 4050 l gs col0 s gr 
% Polyline
n 5525 1350 m
 5525 1425 l gs col0 s gr 
% Polyline
n 5737 4125 m
 5737 4050 l gs col0 s gr 
% Polyline
n 5737 1350 m
 5737 1425 l gs col0 s gr 
% Polyline
n 5950 4125 m
 5950 4050 l gs col0 s gr 
% Polyline
n 5950 1350 m
 5950 1425 l gs col0 s gr 
% Polyline
n 6162 4125 m
 6162 4050 l gs col0 s gr 
% Polyline
n 6162 1350 m
 6162 1425 l gs col0 s gr 
% Polyline
n 6375 4125 m
 6375 4050 l gs col0 s gr 
% Polyline
n 6375 1350 m
 6375 1425 l gs col0 s gr 
% Polyline
n 6587 4125 m
 6587 4050 l gs col0 s gr 
% Polyline
n 6587 1350 m
 6587 1425 l gs col0 s gr 
% Polyline
n 6800 4125 m
 6800 4050 l gs col0 s gr 
% Polyline
n 6800 1350 m
 6800 1425 l gs col0 s gr 
% Polyline
n 7012 4125 m
 7012 4050 l gs col0 s gr 
% Polyline
n 7012 1350 m
 7012 1425 l gs col0 s gr 
% Polyline
n 7225 4125 m
 7225 4050 l gs col0 s gr 
% Polyline
n 7225 1350 m
 7225 1425 l gs col0 s gr 
% Polyline
n 7437 4125 m
 7437 4050 l gs col0 s gr 
% Polyline
n 7437 1350 m
 7437 1425 l gs col0 s gr 
% Polyline
n 7650 4125 m
 7650 4050 l gs col0 s gr 
% Polyline
n 7650 1350 m
 7650 1425 l gs col0 s gr 
% Polyline
n 7862 4125 m
 7862 4050 l gs col0 s gr 
% Polyline
n 7862 1350 m
 7862 1425 l gs col0 s gr 
% Polyline
n 8075 4125 m
 8075 4050 l gs col0 s gr 
% Polyline
n 8075 1350 m
 8075 1425 l gs col0 s gr 
% Polyline
n 8287 4125 m
 8287 4050 l gs col0 s gr 
% Polyline
n 8287 1350 m
 8287 1425 l gs col0 s gr 
% Polyline
n 8500 4125 m
 8500 4050 l gs col0 s gr 
% Polyline
n 8500 1350 m
 8500 1425 l gs col0 s gr 
% Polyline
n 8712 4125 m
 8712 4050 l gs col0 s gr 
% Polyline
n 8712 1350 m
 8712 1425 l gs col0 s gr 
% Polyline
n 8925 4125 m
 8925 4050 l gs col0 s gr 
% Polyline
n 8925 1350 m
 8925 1425 l gs col0 s gr 
% Polyline
n 9137 4125 m
 9137 4050 l gs col0 s gr 
% Polyline
n 9137 1350 m
 9137 1425 l gs col0 s gr 
% Polyline
n 9350 4125 m
 9350 4050 l gs col0 s gr 
% Polyline
n 9350 1350 m
 9350 1425 l gs col0 s gr 
% Polyline
n 9562 4125 m
 9562 4050 l gs col0 s gr 
% Polyline
n 9562 1350 m
 9562 1425 l gs col0 s gr 
% Polyline
n 9775 4125 m
 9775 4050 l gs col0 s gr 
% Polyline
n 9775 1350 m
 9775 1425 l gs col0 s gr 
% Polyline
n 1912 4125 m 9987 4125 l 9987 1350 l 1912 1350 l
 1912 4125 l  cp gs col0 s gr 
% Polyline
n 1912 4007 m 1912 4007 l 1994 4007 l 2075 4007 l 2157 4007 l 2238 4007 l
 2320 4007 l 2401 4007 l 2483 4007 l 2565 4007 l 2646 4007 l
 2728 4007 l 2809 4007 l 2891 4007 l 2972 4007 l 3054 4007 l
 3135 4007 l 3217 4007 l 3299 4007 l 3380 4007 l 3462 4007 l
 3543 4007 l 3625 4007 l 3706 4007 l 3788 4007 l 3870 4007 l
 3951 4007 l 4033 4007 l 4114 4007 l 4196 4007 l 4277 4007 l
 4359 4007 l 4441 4007 l 4522 4007 l 4604 4007 l 4685 4007 l
 4767 4007 l 4848 4007 l 4930 4007 l 5011 4007 l 5093 4007 l
 5175 4007 l 5256 4007 l 5338 4007 l 5419 4007 l 5501 4007 l
 5582 4007 l 5664 4007 l 5746 4007 l 5827 4007 l 5909 4007 l
 5990 4007 l 6072 4007 l 6153 4007 l 6235 4007 l 6317 4007 l
 6398 4007 l 6480 4007 l 6561 4007 l 6643 4007 l 6724 4007 l
 6806 4007 l 6888 4007 l 6969 4007 l 7051 4007 l 7132 4007 l
 7214 4007 l 7295 4007 l 7377 4007 l 7458 4007 l 7540 4007 l
 7622 4007 l 7703 4007 l 7785 4007 l 7866 4007 l 7948 4007 l
 8029 4007 l 8111 4007 l 8193 4007 l 8274 4007 l 8356 4007 l
 8437 4007 l 8519 4007 l 8600 4007 l 8682 4007 l 8764 4007 l
 8845 4007 l 8927 4007 l 9008 4007 l 9090 4007 l 9171 4007 l
 9253 4007 l 9334 4007 l 9416 4007 l 9498 4007 l 9579 4007 l
 9661 4007 l 9742 4007 l 9824 4007 l 9905 4007 l
 9987 4007 l gs col0 s gr 
% here ends figure;
% 
% here starts figure with depth 38
% Polyline
7.500 slw
n 2040 4007 m 2040 4001 l 2074 4001 l 2074 4007 l
 2040 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2252 4007 m 2252 4013 l 2286 4013 l 2286 4007 l
 2252 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2465 4007 m 2465 4013 l 2499 4013 l 2499 4007 l
 2465 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2677 4007 m 2677 3924 l 2711 3924 l 2711 4007 l
 2677 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2889 4007 m 2889 4007 l 2923 4007 l 2923 4007 l
 2889 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3102 4007 m 3102 3877 l 3136 3877 l 3136 4007 l
 3102 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3314 4007 m 3314 4001 l 3348 4001 l 3348 4007 l
 3314 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3527 4007 m 3527 3971 l 3561 3971 l 3561 4007 l
 3527 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3739 4007 m 3739 3954 l 3773 3954 l 3773 4007 l
 3739 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3952 4007 m 3952 4036 l 3986 4036 l 3986 4007 l
 3952 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4164 4007 m 4164 4072 l 4198 4072 l 4198 4007 l
 4164 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4377 4007 m 4377 3924 l 4411 3924 l 4411 4007 l
 4377 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4589 4007 m 4589 4019 l 4623 4019 l 4623 4007 l
 4589 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4802 4007 m 4802 3735 l 4836 3735 l 4836 4007 l
 4802 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5014 4007 m 5014 3960 l 5048 3960 l 5048 4007 l
 5014 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5227 4007 m 5227 3995 l 5261 3995 l 5261 4007 l
 5227 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5440 4007 m 5440 4095 l 5473 4095 l 5473 4007 l
 5440 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5652 4007 m 5652 4019 l 5686 4019 l 5686 4007 l
 5652 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5865 4007 m 5865 4007 l 5898 4007 l 5898 4007 l
 5865 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6077 4007 m 6077 3977 l 6111 3977 l 6111 4007 l
 6077 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6290 4007 m 6290 3977 l 6323 3977 l 6323 4007 l
 6290 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6502 4007 m 6502 3966 l 6536 3966 l 6536 4007 l
 6502 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6715 4007 m 6715 3659 l 6748 3659 l 6748 4007 l
 6715 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6927 4007 m 6927 3848 l 6961 3848 l 6961 4007 l
 6927 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7140 4007 m 7140 3511 l 7173 3511 l 7173 4007 l
 7140 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7352 4007 m 7352 2932 l 7386 2932 l 7386 4007 l
 7352 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7565 4007 m 7565 4007 l 7598 4007 l 7598 4007 l
 7565 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7777 4007 m 7777 3464 l 7811 3464 l 7811 4007 l
 7777 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7990 4007 m 7990 4007 l 8023 4007 l 8023 4007 l
 7990 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8202 4007 m 8202 3753 l 8236 3753 l 8236 4007 l
 8202 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8415 4007 m 8415 3889 l 8448 3889 l 8448 4007 l
 8415 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8627 4007 m 8627 3204 l 8661 3204 l 8661 4007 l
 8627 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8840 4007 m 8840 3924 l 8873 3924 l 8873 4007 l
 8840 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9052 4007 m 9052 3552 l 9086 3552 l 9086 4007 l
 9052 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9265 4007 m 9265 3983 l 9298 3983 l 9298 4007 l
 9265 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9477 4007 m 9477 3942 l 9511 3942 l 9511 4007 l
 9477 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9690 4007 m 9690 3877 l 9723 3877 l 9723 4007 l
 9690 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% here ends figure;
% 
% here starts figure with depth 36
% Polyline
7.500 slw
n 2074 4007 m 2074 3983 l 2107 3983 l 2107 4007 l
 2074 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2286 4007 m 2286 4013 l 2320 4013 l 2320 4007 l
 2286 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2498 4007 m 2498 4007 l 2532 4007 l 2532 4007 l
 2498 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2711 4007 m 2711 3895 l 2745 3895 l 2745 4007 l
 2711 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2923 4007 m 2923 3983 l 2957 3983 l 2957 4007 l
 2923 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3136 4007 m 3136 3883 l 3170 3883 l 3170 4007 l
 3136 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3348 4007 m 3348 4019 l 3382 4019 l 3382 4007 l
 3348 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3561 4007 m 3561 3989 l 3595 3989 l 3595 4007 l
 3561 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3773 4007 m 3773 3989 l 3807 3989 l 3807 4007 l
 3773 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3986 4007 m 3986 4054 l 4020 4054 l 4020 4007 l
 3986 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4198 4007 m 4198 4066 l 4232 4066 l 4232 4007 l
 4198 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4411 4007 m 4411 3853 l 4445 3853 l 4445 4007 l
 4411 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4623 4007 m 4623 3871 l 4657 3871 l 4657 4007 l
 4623 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4836 4007 m 4836 3871 l 4870 3871 l 4870 4007 l
 4836 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5048 4007 m 5048 3971 l 5082 3971 l 5082 4007 l
 5048 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5261 4007 m 5261 4019 l 5295 4019 l 5295 4007 l
 5261 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5474 4007 m 5474 4036 l 5507 4036 l 5507 4007 l
 5474 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5686 4007 m 5686 4036 l 5720 4036 l 5720 4007 l
 5686 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5899 4007 m 5899 3977 l 5932 3977 l 5932 4007 l
 5899 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6111 4007 m 6111 3971 l 6145 3971 l 6145 4007 l
 6111 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6324 4007 m 6324 3954 l 6357 3954 l 6357 4007 l
 6324 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6536 4007 m 6536 3824 l 6570 3824 l 6570 4007 l
 6536 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6749 4007 m 6749 3659 l 6782 3659 l 6782 4007 l
 6749 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6961 4007 m 6961 3529 l 6995 3529 l 6995 4007 l
 6961 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7174 4007 m 7174 3416 l 7207 3416 l 7207 4007 l
 7174 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7386 4007 m 7386 2932 l 7420 2932 l 7420 4007 l
 7386 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7599 4007 m 7599 3777 l 7632 3777 l 7632 4007 l
 7599 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7811 4007 m 7811 2501 l 7845 2501 l 7845 4007 l
 7811 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8024 4007 m 8024 3275 l 8057 3275 l 8057 4007 l
 8024 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8236 4007 m 8236 3458 l 8270 3458 l 8270 4007 l
 8236 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8449 4007 m 8449 3712 l 8482 3712 l 8482 4007 l
 8449 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8661 4007 m 8661 3003 l 8695 3003 l 8695 4007 l
 8661 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8874 4007 m 8874 3842 l 8908 3842 l 8908 4007 l
 8874 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9086 4007 m 9086 3966 l 9120 3966 l 9120 4007 l
 9086 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9299 4007 m 9299 3942 l 9333 3942 l 9333 4007 l
 9299 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9511 4007 m 9511 3877 l 9545 3877 l 9545 4007 l
 9511 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9724 4007 m 9724 3800 l 9758 3800 l 9758 4007 l
 9724 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% here ends figure;
% 
% here starts figure with depth 34
% Polyline
7.500 slw
n 2108 4007 m 2108 4001 l 2142 4001 l 2142 4007 l
 2108 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2320 4007 m 2320 4007 l 2354 4007 l 2354 4007 l
 2320 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2532 4007 m 2532 4001 l 2567 4001 l 2567 4007 l
 2532 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2745 4007 m 2745 3989 l 2779 3989 l 2779 4007 l
 2745 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2957 4007 m 2957 3983 l 2992 3983 l 2992 4007 l
 2957 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3170 4007 m 3170 3877 l 3204 3877 l 3204 4007 l
 3170 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3382 4007 m 3382 4025 l 3417 4025 l 3417 4007 l
 3382 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3595 4007 m 3595 3983 l 3629 3983 l 3629 4007 l
 3595 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3807 4007 m 3807 3995 l 3842 3995 l 3842 4007 l
 3807 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4020 4007 m 4020 4042 l 4054 4042 l 4054 4007 l
 4020 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4232 4007 m 4232 4054 l 4267 4054 l 4267 4007 l
 4232 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4445 4007 m 4445 3966 l 4479 3966 l 4479 4007 l
 4445 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4657 4007 m 4657 3871 l 4692 3871 l 4692 4007 l
 4657 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4870 4007 m 4870 3924 l 4904 3924 l 4904 4007 l
 4870 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5082 4007 m 5082 3942 l 5117 3942 l 5117 4007 l
 5082 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5295 4007 m 5295 4019 l 5329 4019 l 5329 4007 l
 5295 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5508 4007 m 5508 3995 l 5541 3995 l 5541 4007 l
 5508 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5720 4007 m 5720 4031 l 5754 4031 l 5754 4007 l
 5720 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5933 4007 m 5933 3930 l 5966 3930 l 5966 4007 l
 5933 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6145 4007 m 6145 3901 l 6179 3901 l 6179 4007 l
 6145 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6358 4007 m 6358 3918 l 6391 3918 l 6391 4007 l
 6358 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6570 4007 m 6570 3942 l 6604 3942 l 6604 4007 l
 6570 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6783 4007 m 6783 2271 l 6816 2271 l 6816 4007 l
 6783 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6995 4007 m 6995 3210 l 7029 3210 l 7029 4007 l
 6995 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7208 4007 m 7208 3493 l 7241 3493 l 7241 4007 l
 7208 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7420 4007 m 7420 2932 l 7454 2932 l 7454 4007 l
 7420 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7633 4007 m 7633 3163 l 7666 3163 l 7666 4007 l
 7633 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7845 4007 m 7845 3104 l 7879 3104 l 7879 4007 l
 7845 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8058 4007 m 8058 3222 l 8091 3222 l 8091 4007 l
 8058 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8270 4007 m 8270 3653 l 8304 3653 l 8304 4007 l
 8270 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8483 4007 m 8483 1527 l 8516 1527 l 8516 4007 l
 8483 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8695 4007 m 8695 3405 l 8729 3405 l 8729 4007 l
 8695 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8908 4007 m 8908 3676 l 8941 3676 l 8941 4007 l
 8908 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9120 4007 m 9120 3871 l 9154 3871 l 9154 4007 l
 9120 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9333 4007 m 9333 3842 l 9366 3842 l 9366 4007 l
 9333 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9545 4007 m 9545 3682 l 9579 3682 l 9579 4007 l
 9545 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9758 4007 m 9758 3718 l 9791 3718 l 9791 4007 l
 9758 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% here ends figure;
% 
% here starts figure with depth 32
% Polyline
7.500 slw
n 2141 4007 m 2141 4001 l 2175 4001 l 2175 4007 l
 2141 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2354 4007 m 2354 3989 l 2388 3989 l 2388 4007 l
 2354 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2567 4007 m 2567 4007 l 2601 4007 l 2601 4007 l
 2567 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2779 4007 m 2779 3895 l 2813 3895 l 2813 4007 l
 2779 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2992 4007 m 2992 3966 l 3026 3966 l 3026 4007 l
 2992 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3204 4007 m 3204 3877 l 3238 3877 l 3238 4007 l
 3204 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3417 4007 m 3417 4019 l 3451 4019 l 3451 4007 l
 3417 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3629 4007 m 3629 3983 l 3663 3983 l 3663 4007 l
 3629 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3842 4007 m 3842 3977 l 3876 3977 l 3876 4007 l
 3842 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4054 4007 m 4054 4048 l 4088 4048 l 4088 4007 l
 4054 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4267 4007 m 4267 4019 l 4301 4019 l 4301 4007 l
 4267 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4479 4007 m 4479 4036 l 4513 4036 l 4513 4007 l
 4479 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4692 4007 m 4692 3853 l 4726 3853 l 4726 4007 l
 4692 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4904 4007 m 4904 3889 l 4938 3889 l 4938 4007 l
 4904 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5117 4007 m 5117 3794 l 5151 3794 l 5151 4007 l
 5117 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5329 4007 m 5329 4007 l 5363 4007 l 5363 4007 l
 5329 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5542 4007 m 5542 4025 l 5575 4025 l 5575 4007 l
 5542 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5754 4007 m 5754 4031 l 5788 4031 l 5788 4007 l
 5754 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5967 4007 m 5967 3971 l 6000 3971 l 6000 4007 l
 5967 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6179 4007 m 6179 3960 l 6213 3960 l 6213 4007 l
 6179 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6392 4007 m 6392 3960 l 6425 3960 l 6425 4007 l
 6392 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6604 4007 m 6604 3942 l 6638 3942 l 6638 4007 l
 6604 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6817 4007 m 6817 1350 l 6850 1350 l 6850 4007 l
 6817 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7029 4007 m 7029 1935 l 7063 1935 l 7063 4007 l
 7029 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7242 4007 m 7242 3452 l 7275 3452 l 7275 4007 l
 7242 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7454 4007 m 7454 2802 l 7488 2802 l 7488 4007 l
 7454 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7667 4007 m 7667 2856 l 7700 2856 l 7700 4007 l
 7667 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7879 4007 m 7879 2861 l 7913 2861 l 7913 4007 l
 7879 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8092 4007 m 8092 3747 l 8125 3747 l 8125 4007 l
 8092 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8304 4007 m 8304 3517 l 8338 3517 l 8338 4007 l
 8304 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8517 4007 m 8517 3298 l 8550 3298 l 8550 4007 l
 8517 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8729 4007 m 8729 2330 l 8763 2330 l 8763 4007 l
 8729 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8941 4007 m 8941 3021 l 8975 3021 l 8975 4007 l
 8941 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9154 4007 m 9154 3080 l 9188 3080 l 9188 4007 l
 9154 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9366 4007 m 9366 3653 l 9400 3653 l 9400 4007 l
 9366 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9579 4007 m 9579 3422 l 9613 3422 l 9613 4007 l
 9579 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9791 4007 m 9791 3616 l 9825 3616 l 9825 4007 l
 9791 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% here ends figure;
% 
% here starts figure with depth 30
% Polyline
7.500 slw
n 2175 4007 m 2175 4036 l 2210 4036 l 2210 4007 l
 2175 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2388 4007 m 2388 3877 l 2422 3877 l 2422 4007 l
 2388 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2600 4007 m 2600 4042 l 2634 4042 l 2634 4007 l
 2600 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2813 4007 m 2813 4025 l 2847 4025 l 2847 4007 l
 2813 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3026 4007 m 3026 4007 l 3060 4007 l 3060 4007 l
 3026 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3238 4007 m 3238 3989 l 3272 3989 l 3272 4007 l
 3238 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3451 4007 m 3451 4013 l 3485 4013 l 3485 4007 l
 3451 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3663 4007 m 3663 4013 l 3697 4013 l 3697 4007 l
 3663 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3876 4007 m 3876 4048 l 3910 4048 l 3910 4007 l
 3876 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4088 4007 m 4088 3977 l 4122 3977 l 4122 4007 l
 4088 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4301 4007 m 4301 3924 l 4335 3924 l 4335 4007 l
 4301 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4513 4007 m 4513 3989 l 4547 3989 l 4547 4007 l
 4513 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4726 4007 m 4726 3936 l 4760 3936 l 4760 4007 l
 4726 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4938 4007 m 4938 3712 l 4972 3712 l 4972 4007 l
 4938 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5151 4007 m 5151 2165 l 5185 2165 l 5185 4007 l
 5151 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5363 4007 m 5363 3918 l 5397 3918 l 5397 4007 l
 5363 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5576 4007 m 5576 4036 l 5609 4036 l 5609 4007 l
 5576 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5788 4007 m 5788 3954 l 5822 3954 l 5822 4007 l
 5788 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6001 4007 m 6001 3859 l 6034 3859 l 6034 4007 l
 6001 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6213 4007 m 6213 3977 l 6247 3977 l 6247 4007 l
 6213 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6426 4007 m 6426 3871 l 6459 3871 l 6459 4007 l
 6426 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6638 4007 m 6638 4019 l 6672 4019 l 6672 4007 l
 6638 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6851 4007 m 6851 1350 l 6884 1350 l 6884 4007 l
 6851 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7063 4007 m 7063 1350 l 7097 1350 l 7097 4007 l
 7063 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7276 4007 m 7276 2495 l 7309 2495 l 7309 4007 l
 7276 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7488 4007 m 7488 2153 l 7522 2153 l 7522 4007 l
 7488 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7701 4007 m 7701 1628 l 7734 1628 l 7734 4007 l
 7701 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7913 4007 m 7913 1958 l 7947 1958 l 7947 4007 l
 7913 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8126 4007 m 8126 1917 l 8159 1917 l 8159 4007 l
 8126 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8338 4007 m 8338 3281 l 8372 3281 l 8372 4007 l
 8338 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8551 4007 m 8551 2059 l 8584 2059 l 8584 4007 l
 8551 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8763 4007 m 8763 1858 l 8797 1858 l 8797 4007 l
 8763 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8976 4007 m 8976 2507 l 9009 2507 l 9009 4007 l
 8976 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9188 4007 m 9188 2950 l 9222 2950 l 9222 4007 l
 9188 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9401 4007 m 9401 2047 l 9434 2047 l 9434 4007 l
 9401 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9613 4007 m 9613 1350 l 9647 1350 l 9647 4007 l
 9613 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9826 4007 m 9826 3216 l 9859 3216 l 9859 4007 l
 9826 4007 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% here ends figure;
% 
% here starts figure with depth 10
% Polyline
7.500 slw
n 2600 1600 m 2600 1484 l 2721 1484 l 2721 1600 l
 2600 1600 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2600 1757 m 2600 1641 l 2721 1641 l 2721 1757 l
 2600 1757 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2600 1914 m 2600 1798 l 2721 1798 l 2721 1914 l
 2600 1914 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2600 2071 m 2600 1955 l 2721 1955 l 2721 2071 l
 2600 2071 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2600 2228 m 2600 2112 l 2721 2112 l 2721 2228 l
 2600 2228 l  cp gs col45 1.00 shd ef gr gs col-1 s gr 
% here ends figure;
% 
% here starts figure with depth 0
/Times-Roman ff 150.00 scf sf
1837 4069 m
gs 1 -1 sc (  0%) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
1837 3774 m
gs 1 -1 sc (  5%) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
1837 3478 m
gs 1 -1 sc (  10%) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
1837 3183 m
gs 1 -1 sc (  15%) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
1837 2888 m
gs 1 -1 sc (  20%) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
1837 2593 m
gs 1 -1 sc (  25%) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
1837 2298 m
gs 1 -1 sc (  30%) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
1837 2002 m
gs 1 -1 sc (  35%) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
1837 1707 m
gs 1 -1 sc (  40%) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
1837 1412 m
gs 1 -1 sc (  45%) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
2187 4200 m
gs 1 -1 sc  90.0 rot (ammp) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
2399 4200 m
gs 1 -1 sc  90.0 rot (applu) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
2612 4200 m
gs 1 -1 sc  90.0 rot (apsi) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
2824 4200 m
gs 1 -1 sc  90.0 rot (art) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
3037 4200 m
gs 1 -1 sc  90.0 rot (equake) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
3249 4200 m
gs 1 -1 sc  90.0 rot (mesa) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
3462 4200 m
gs 1 -1 sc  90.0 rot (mgrid) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
3674 4200 m
gs 1 -1 sc  90.0 rot (sixtrack) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
3887 4200 m
gs 1 -1 sc  90.0 rot (swim) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
4099 4200 m
gs 1 -1 sc  90.0 rot (wupwise) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
4312 4200 m
gs 1 -1 sc  90.0 rot (bzip2) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
4524 4200 m
gs 1 -1 sc  90.0 rot (crafty) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
4737 4200 m
gs 1 -1 sc  90.0 rot (eon) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
4949 4200 m
gs 1 -1 sc  90.0 rot (gap) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
5162 4200 m
gs 1 -1 sc  90.0 rot (gcc) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
5374 4200 m
gs 1 -1 sc  90.0 rot (gzip) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
5587 4200 m
gs 1 -1 sc  90.0 rot (mcf) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
5799 4200 m
gs 1 -1 sc  90.0 rot (parser) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
6012 4200 m
gs 1 -1 sc  90.0 rot (perlbmk) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
6224 4200 m
gs 1 -1 sc  90.0 rot (twolf) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
6437 4200 m
gs 1 -1 sc  90.0 rot (vortex) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
6649 4200 m
gs 1 -1 sc  90.0 rot (vpr) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
6862 4200 m
gs 1 -1 sc  90.0 rot (check) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
7074 4200 m
gs 1 -1 sc  90.0 rot (checkit) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
7287 4200 m
gs 1 -1 sc  90.0 rot (compress) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
7499 4200 m
gs 1 -1 sc  90.0 rot (db) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
7712 4200 m
gs 1 -1 sc  90.0 rot (jack) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
7924 4200 m
gs 1 -1 sc  90.0 rot (javac) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
8137 4200 m
gs 1 -1 sc  90.0 rot (jess) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
8349 4200 m
gs 1 -1 sc  90.0 rot (mpegaudio) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
8562 4200 m
gs 1 -1 sc  90.0 rot (mtrt) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
8774 4200 m
gs 1 -1 sc  90.0 rot (raytrace) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
8987 4200 m
gs 1 -1 sc  90.0 rot (excel) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
9199 4200 m
gs 1 -1 sc  90.0 rot (photoshp) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
9412 4200 m
gs 1 -1 sc  90.0 rot (powerpnt) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
9624 4200 m
gs 1 -1 sc  90.0 rot (winword) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
9837 4200 m
gs 1 -1 sc  90.0 rot (AVERAGE) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
1386 2738 m
gs 1 -1 sc  90.0 rot (Time impact versus infinite caches) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
3612 4954 m
gs 1 -1 sc (SPECFP) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
5737 4954 m
gs 1 -1 sc (SPECINT) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
8075 4954 m
gs 1 -1 sc (SPECJVM) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
9562 4954 m
gs 1 -1 sc (Desktop) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
6842 1294 m
gs 1 -1 sc (59) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
6948 1146 m
gs 1 -1 sc (124) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
7161 1294 m
gs 1 -1 sc (84) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
9711 1294 m
gs 1 -1 sc (61) dup sw pop neg 0 rm  col0 sh gr
% here ends figure;
$F2psEnd
rs
showpage

%%EndDocument
 @endspecial -83 1885 a Fh(Figure)23 b(6.)g(P)n(erf)n(ormance)g(impact)
g(of)f(our)h(adaptive)f(w)n(orking)h(set)g(with)f(v)n(ar)q(ying)h
(ratio)g(thresholds:)31 b(10)24 b(reg)q(ener)n(\255)-83
1994 y(ated)f(/)g(50)h(replaced,)f(20/50,)h(30/50,)g(40/50,)g(and)f
(45/50,)g(ver)o(sus)h(an)f(unbounded)e(cac)o(he)r(.)-182
2337 y Fi(W)-7 b(e)32 b(record)d(in)j(a)f(hashtable)f(e)n(v)o(ery)g
(fragment)f(that)i(we)h(remo)o(v)o(e)-182 2437 y(from)19
b(the)h(cache.)k(When)c(we)h(add)e(a)i(ne)n(w)f(fragment,)e(we)i(check)
g(to)-182 2536 y(see)g(whether)f(it)h(w)o(as)h(pre)n(viously)d(in)h
(the)h(cache)g(\(a)f(capacity)g(miss,)-182 2636 y(as)28
b(opposed)e(to)i(a)g(cold)f(miss\).)47 b(F)o(or)28 b(ef)n(\002cienc)o
(y)e(we)i(check)f(only)-182 2735 y(the)h(starting)g(address)g(for)g(re)
o(generation,)f(potentially)g(consider)n(-)-182 2835
y(ing)19 b(tw)o(o)i(traces)f(with)h(dif)n(ferent)d(tails)j(to)f(be)h
(identical.)j(If)c(the)g(ne)n(w)-182 2935 y(fragment)15
b(w)o(as)i(pre)n(viously)e(present,)h(we)h(increment)f(our)f(count)h
(of)-182 3034 y Fj(r)m(e)m(g)o(ener)o(ated)23 b Fi(fragments.)38
b(Figure)25 b(4)g(illustrates)h(the)f(marking)e(of)-182
3134 y(fragments)e(as)i(ne)n(w)g(or)f(re)o(generated.)30
b(Only)22 b(if)h(a)g(signi\002cant)g(por)n(-)-182 3234
y(tion)h(of)g(ne)n(w)g(fragments)f(are)h(re)o(generated)e(should)i(the)
g(cache)g(be)-182 3333 y(lar)o(ger)19 b(than)i(it)g(is,)h(in)f(which)f
(case)i(we)f(double)e(its)j(size.)28 b(The)21 b(peri-)-182
3433 y(odic)15 b(ratio)h(checks)f(allo)n(w)h(us)g(to)g(adapt)g(to)g
(program)d(beha)n(vior)i(only)-182 3532 y(when)23 b(it)h(changes)f
(\227)i(our)e(checks)g(are)h(in)g(runtime)f(system)h(code)-182
3632 y(and)h(incur)h(no)g(cost)h(while)f(e)o(x)o(ecution)e(is)k(in)e
(the)g(code)g(cache.)43 b(If)-182 3732 y(the)22 b(w)o(orking)f(set)i
(changes,)e(we)i(will)g(replace)e(the)h(old)g(fragments)-182
3831 y(with)e(ne)n(w)g(fragments.)-83 4030 y(T)-7 b(o)21
b(e)n(v)n(aluate)f(ho)n(w)g(the)g(ratio)h(threshold)e(af)n(fects)h
(performance,)-182 4129 y(we)32 b(k)o(ept)g(the)h(replaced)e(fragments)
g(parameter)g(constant)g(at)i(50)-182 4229 y(and)e(v)n(aried)g(the)g
(re)o(generated)f(component)f(from)i(10)g(up)h(to)g(45.)-182
4329 y(As)20 b(Figure)f(6)h(sho)n(ws,)g(most)g(of)g(our)f(benchmarks)e
(see)k(little)f(ef)n(fect)-182 4428 y(at)k(the)g(smaller)g(parameters,)
g(with)g(a)g(harmonic)e(mean)i(of)f(only)g(a)-182 4528
y(3.5\045)17 b(slo)n(wdo)n(wn)f(at)i(10)g(re)o(generated)d(fragments.)
23 b(The)17 b(impact)g(of)-182 4628 y(higher)25 b(ratios)i(is)h
(signi\002cant)f(in)g(some)g(cases,)i(due)e(to)g(the)g(o)o(v)o(er)n(-)
-182 4727 y(head)17 b(of)i(freeing)e(fragments)g(and)h(of)g(re)o
(generating)e(those)i(that)h(are)-182 4827 y(re-used)f(b)n(ut)i
(deleted,)f(with)h(an)g(a)n(v)o(erage)f(13.4\045)f(slo)n(wdo)n(wn)h(at)
h(45)-182 4926 y(re)o(generated)j(fragments.)39 b(The)25
b(applications)f(most)i(af)n(fected)e(are)-182 5026 y(those)29
b(that)h(e)o(x)o(ecute)e(lar)o(ge)g(amounts)h(of)g(code)g(with)h
(little)g(reuse)-182 5126 y(that)19 b(will)g(not)g(amortize)f(e)o(xtra)
g(time)h(spent)g(in)g(DynamoRIO)e(\()p Fe(gcc)-182 5225
y Fi(and)27 b(our)f(desktop)h(benchmarks\))e(as)j(well)g(as)g(those)g
(that)f(are)h(al-)-182 5325 y(ready)d(e)o(xperiencing)e(code)i(cache)h
(churn)f(due)g(to)i(cache)e(consis-)1974 2337 y(tenc)o(y)35
b(\003ushes)g(\()p Fe(SPECJVM)p Fi(\),)f(where)h(restricting)g(cache)g
(e)o(xpan-)1974 2437 y(sion)16 b(e)o(xacerbates)f(DynamoRIO')-5
b(s)15 b(performance)e(problems)i(with)1974 2536 y(such)20
b(dynamically)e(generated)g(code.)2073 2669 y(The)43
b(resulting)e(cache)h(sizes)i(from)d(these)i(parameters)e(are)1974
2768 y(sho)n(wn)30 b(in)g(T)-7 b(able)30 b(4.)56 b(The)30
b(most)h(striking)e(result)i(is)g(ho)n(w)f(much)1974
2868 y(more)d(resistant)h(the)g(trace)g(cache)g(is)h(to)f(shrinking)e
(than)i(the)g(ba-)1974 2968 y(sic)36 b(block)e(cache:)55
b(for)34 b(man)o(y)g(of)h(the)g(benchmarks,)h(the)f(trace)1974
3067 y(cache)16 b(quickly)g(reaches)g(the)h(core)g(w)o(orking)e(set)j
(size)f(and)g(remains)1974 3167 y(the)24 b(same)h(with)f(successi)n(v)o
(ely)g(higher)f(re)o(generation)f(thresholds.)1974 3267
y(Con)m(v)o(ersely)-5 b(,)39 b(since)e(re-used)g(code)f(is)i(promoted)e
(to)h(the)g(trace)1974 3366 y(cache,)23 b(the)g(basic)h(block)e(cache)g
(can)h(be)g(shrunk)o(en)f(signi\002cantly)-5 b(,)1974
3466 y(an)39 b(a)n(v)o(erage)f(of)g(one-third)f(and)i(one-half)e(at)i
(our)g(tw)o(o)g(lo)n(west)1974 3565 y(thresholds,)19
b(and)g(up)h(to)g(97\045)g(\(for)f Fe(excel)h Fi(and)f
Fe(winword)p Fi(\))g(at)i(our)1974 3665 y(highest)f(threshold.)26
b(There)20 b(is)i(a)g(tradeof)n(f)d(between)h(memory)g(and)1974
3765 y(performance,)13 b(and)i(the)h(lo)n(wer)f(ratio)h(thresholds)e
(should)h(typically)1974 3864 y(be)20 b(chosen,)e(since)i(the)o(y)g
(achie)n(v)o(e)e(sizable)i(memory)e(reductions)h(at)1974
3964 y(lo)n(w)h(performance)d(cost.)2073 4097 y(W)-7
b(e)23 b(ne)o(xt)d(e)o(xplored)e(the)j(frequenc)o(y)e(for)h(resize)h
(checks)f(by)h(e)o(x-)1974 4196 y(ecuting)f(our)h(benchmark)d(suite)k
(with)g(a)f(constant)g(ratio)g(b)n(ut)g(v)n(ary-)1974
4296 y(ing)h(the)g(replaced-fragment)c(denominator)-5
b(.)29 b(The)21 b(results)i(in)f(Fig-)1974 4395 y(ure)j(7)g(sho)n(w)g
(that)g(while)g(less)h(frequent)e(checks)g(do)h(af)n(fect)g(a)g(fe)n(w)
1974 4495 y(benchmarks)j(ne)o(gati)n(v)o(ely)-5 b(,)29
b(o)o(v)o(erall)g(there)h(is)h(no)f(signi\002cant)f(im-)1974
4595 y(pact.)d(Checking)20 b(too)h(frequently)d(may)i(be)h(too)g
(easily)g(in\003uenced)1974 4694 y(by)g(temporary)f(spik)o(es,)i(and)f
(rarely)g(not)g(reacti)n(v)o(e)g(enough.)27 b(Thus,)1974
4794 y(we)19 b(chose)g(our)f(v)n(alue)h(of)f(50)h(from)f(the)h(center)f
(of)h(this)h(range.)j(Fur)n(-)1974 4894 y(ther)d(e)o(xploring)d(the)k
(parameter)d(space)i(is)i(left)e(as)h(future)e(w)o(ork.)2073
5026 y(Another)c(area)h(of)f(future)g(w)o(ork)g(for)g(our)g(algorithm)f
(is)j(to)f(shrink)1974 5126 y(the)35 b(cache)g(when)f(the)i(w)o(orking)
d(set)j(shrinks,)i(which)d(is)h(much)1974 5225 y(more)22
b(dif)n(\002cult)h(to)h(detect)f(than)g(when)g(it)h(gro)n(ws.)34
b(Explicit)23 b(appli-)1974 5325 y(cation)c(actions)g(lik)o(e)g
(unloading)e(libraries)i(that)g(imply)g(reductions)1859
5574 y(9)p eop end
%%Page: 10 10
TeXDict begin 10 9 bop -101 1663 a @beginspecial 0 @llx
0 @lly 523 @urx 223 @ury 4680 @rwi @setspecial
%%BeginDocument: wset-params.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: 
%%Creator: fig2dev Version 3.2 Patchlevel 4
%%CreationDate: Fri Dec 10 13:39:40 2004
%%For: derek@dereksha (Derek Bruening)
%%BoundingBox: 0 0 523 223
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def
/col32 {0.000 0.000 0.000 srgb} bind def
/col33 {0.863 0.863 0.863 srgb} bind def
/col34 {0.996 0.996 0.000 srgb} bind def
/col35 {0.000 0.000 0.996 srgb} bind def
/col36 {0.398 0.398 0.996 srgb} bind def
/col37 {0.664 0.664 0.996 srgb} bind def
/col38 {0.000 0.996 0.996 srgb} bind def
/col39 {0.465 0.996 0.000 srgb} bind def
/col40 {0.000 0.664 0.000 srgb} bind def
/col41 {0.863 0.000 0.996 srgb} bind def
/col42 {0.996 0.000 0.000 srgb} bind def
/col43 {0.133 0.133 0.133 srgb} bind def
/col44 {0.266 0.266 0.266 srgb} bind def
/col45 {0.398 0.398 0.398 srgb} bind def
/col46 {0.531 0.531 0.531 srgb} bind def
/col47 {0.664 0.664 0.664 srgb} bind def
/col48 {0.797 0.797 0.797 srgb} bind def
/col49 {0.930 0.930 0.930 srgb} bind def

end
save
newpath 0 223 moveto 0 0 lineto 523 0 lineto 523 223 lineto closepath clip newpath
-77.1 299.5 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
0 slj 0 slc
 0.06000 0.06000 sc
%
% Fig objects follow
%
% 
% here starts figure with depth 50
/Times-Roman ff 135.00 scf sf
2825 1586 m
gs 1 -1 sc (15 regenerated per 25 replaced) col0 sh gr
/Times-Roman ff 135.00 scf sf
2825 1743 m
gs 1 -1 sc (30 regenerated per 50 replaced) col0 sh gr
/Times-Roman ff 135.00 scf sf
2825 1900 m
gs 1 -1 sc (60 regenerated per 100 replaced) col0 sh gr
/Times-Roman ff 135.00 scf sf
2825 2057 m
gs 1 -1 sc (120 regenerated per 200 replaced) col0 sh gr
% here ends figure;
% 
% here starts figure with depth 40
% Polyline
7.500 slw
 [15 60] 60 sd
n 1912 4007 m
 9987 4007 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 4007 m
 1987 4007 l gs col0 s gr 
% Polyline
n 9987 4007 m
 9912 4007 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 3712 m
 9987 3712 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 3712 m
 1987 3712 l gs col0 s gr 
% Polyline
n 9987 3712 m
 9912 3712 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 3416 m
 9987 3416 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 3416 m
 1987 3416 l gs col0 s gr 
% Polyline
n 9987 3416 m
 9912 3416 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 3121 m
 9987 3121 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 3121 m
 1987 3121 l gs col0 s gr 
% Polyline
n 9987 3121 m
 9912 3121 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 2826 m
 9987 2826 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 2826 m
 1987 2826 l gs col0 s gr 
% Polyline
n 9987 2826 m
 9912 2826 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 2531 m
 9987 2531 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 2531 m
 1987 2531 l gs col0 s gr 
% Polyline
n 9987 2531 m
 9912 2531 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 2236 m
 9987 2236 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 2236 m
 1987 2236 l gs col0 s gr 
% Polyline
n 9987 2236 m
 9912 2236 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 1940 m
 9987 1940 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 1940 m
 1987 1940 l gs col0 s gr 
% Polyline
n 9987 1940 m
 9912 1940 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 1645 m
 9987 1645 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 1645 m
 1987 1645 l gs col0 s gr 
% Polyline
n 9987 1645 m
 9912 1645 l gs col0 s gr 
% Polyline
 [15 60] 60 sd
n 1912 1350 m
 9987 1350 l gs col0 s gr  [] 0 sd
% Polyline
n 1912 1350 m
 1987 1350 l gs col0 s gr 
% Polyline
n 9987 1350 m
 9912 1350 l gs col0 s gr 
% Polyline
n 2125 4125 m
 2125 4050 l gs col0 s gr 
% Polyline
n 2125 1350 m
 2125 1425 l gs col0 s gr 
% Polyline
n 2337 4125 m
 2337 4050 l gs col0 s gr 
% Polyline
n 2337 1350 m
 2337 1425 l gs col0 s gr 
% Polyline
n 2550 4125 m
 2550 4050 l gs col0 s gr 
% Polyline
n 2550 1350 m
 2550 1425 l gs col0 s gr 
% Polyline
n 2762 4125 m
 2762 4050 l gs col0 s gr 
% Polyline
n 2762 1350 m
 2762 1425 l gs col0 s gr 
% Polyline
n 2975 4125 m
 2975 4050 l gs col0 s gr 
% Polyline
n 2975 1350 m
 2975 1425 l gs col0 s gr 
% Polyline
n 3187 4125 m
 3187 4050 l gs col0 s gr 
% Polyline
n 3187 1350 m
 3187 1425 l gs col0 s gr 
% Polyline
n 3400 4125 m
 3400 4050 l gs col0 s gr 
% Polyline
n 3400 1350 m
 3400 1425 l gs col0 s gr 
% Polyline
n 3612 4125 m
 3612 4050 l gs col0 s gr 
% Polyline
n 3612 1350 m
 3612 1425 l gs col0 s gr 
% Polyline
n 3825 4125 m
 3825 4050 l gs col0 s gr 
% Polyline
n 3825 1350 m
 3825 1425 l gs col0 s gr 
% Polyline
n 4037 4125 m
 4037 4050 l gs col0 s gr 
% Polyline
n 4037 1350 m
 4037 1425 l gs col0 s gr 
% Polyline
n 4250 4125 m
 4250 4050 l gs col0 s gr 
% Polyline
n 4250 1350 m
 4250 1425 l gs col0 s gr 
% Polyline
n 4462 4125 m
 4462 4050 l gs col0 s gr 
% Polyline
n 4462 1350 m
 4462 1425 l gs col0 s gr 
% Polyline
n 4675 4125 m
 4675 4050 l gs col0 s gr 
% Polyline
n 4675 1350 m
 4675 1425 l gs col0 s gr 
% Polyline
n 4887 4125 m
 4887 4050 l gs col0 s gr 
% Polyline
n 4887 1350 m
 4887 1425 l gs col0 s gr 
% Polyline
n 5100 4125 m
 5100 4050 l gs col0 s gr 
% Polyline
n 5100 1350 m
 5100 1425 l gs col0 s gr 
% Polyline
n 5312 4125 m
 5312 4050 l gs col0 s gr 
% Polyline
n 5312 1350 m
 5312 1425 l gs col0 s gr 
% Polyline
n 5525 4125 m
 5525 4050 l gs col0 s gr 
% Polyline
n 5525 1350 m
 5525 1425 l gs col0 s gr 
% Polyline
n 5737 4125 m
 5737 4050 l gs col0 s gr 
% Polyline
n 5737 1350 m
 5737 1425 l gs col0 s gr 
% Polyline
n 5950 4125 m
 5950 4050 l gs col0 s gr 
% Polyline
n 5950 1350 m
 5950 1425 l gs col0 s gr 
% Polyline
n 6162 4125 m
 6162 4050 l gs col0 s gr 
% Polyline
n 6162 1350 m
 6162 1425 l gs col0 s gr 
% Polyline
n 6375 4125 m
 6375 4050 l gs col0 s gr 
% Polyline
n 6375 1350 m
 6375 1425 l gs col0 s gr 
% Polyline
n 6587 4125 m
 6587 4050 l gs col0 s gr 
% Polyline
n 6587 1350 m
 6587 1425 l gs col0 s gr 
% Polyline
n 6800 4125 m
 6800 4050 l gs col0 s gr 
% Polyline
n 6800 1350 m
 6800 1425 l gs col0 s gr 
% Polyline
n 7012 4125 m
 7012 4050 l gs col0 s gr 
% Polyline
n 7012 1350 m
 7012 1425 l gs col0 s gr 
% Polyline
n 7225 4125 m
 7225 4050 l gs col0 s gr 
% Polyline
n 7225 1350 m
 7225 1425 l gs col0 s gr 
% Polyline
n 7437 4125 m
 7437 4050 l gs col0 s gr 
% Polyline
n 7437 1350 m
 7437 1425 l gs col0 s gr 
% Polyline
n 7650 4125 m
 7650 4050 l gs col0 s gr 
% Polyline
n 7650 1350 m
 7650 1425 l gs col0 s gr 
% Polyline
n 7862 4125 m
 7862 4050 l gs col0 s gr 
% Polyline
n 7862 1350 m
 7862 1425 l gs col0 s gr 
% Polyline
n 8075 4125 m
 8075 4050 l gs col0 s gr 
% Polyline
n 8075 1350 m
 8075 1425 l gs col0 s gr 
% Polyline
n 8287 4125 m
 8287 4050 l gs col0 s gr 
% Polyline
n 8287 1350 m
 8287 1425 l gs col0 s gr 
% Polyline
n 8500 4125 m
 8500 4050 l gs col0 s gr 
% Polyline
n 8500 1350 m
 8500 1425 l gs col0 s gr 
% Polyline
n 8712 4125 m
 8712 4050 l gs col0 s gr 
% Polyline
n 8712 1350 m
 8712 1425 l gs col0 s gr 
% Polyline
n 8925 4125 m
 8925 4050 l gs col0 s gr 
% Polyline
n 8925 1350 m
 8925 1425 l gs col0 s gr 
% Polyline
n 9137 4125 m
 9137 4050 l gs col0 s gr 
% Polyline
n 9137 1350 m
 9137 1425 l gs col0 s gr 
% Polyline
n 9350 4125 m
 9350 4050 l gs col0 s gr 
% Polyline
n 9350 1350 m
 9350 1425 l gs col0 s gr 
% Polyline
n 9562 4125 m
 9562 4050 l gs col0 s gr 
% Polyline
n 9562 1350 m
 9562 1425 l gs col0 s gr 
% Polyline
n 9775 4125 m
 9775 4050 l gs col0 s gr 
% Polyline
n 9775 1350 m
 9775 1425 l gs col0 s gr 
% Polyline
n 1912 4125 m 9987 4125 l 9987 1350 l 1912 1350 l
 1912 4125 l  cp gs col0 s gr 
% Polyline
n 1912 4007 m 1912 4007 l 1994 4007 l 2075 4007 l 2157 4007 l 2238 4007 l
 2320 4007 l 2401 4007 l 2483 4007 l 2565 4007 l 2646 4007 l
 2728 4007 l 2809 4007 l 2891 4007 l 2972 4007 l 3054 4007 l
 3135 4007 l 3217 4007 l 3299 4007 l 3380 4007 l 3462 4007 l
 3543 4007 l 3625 4007 l 3706 4007 l 3788 4007 l 3870 4007 l
 3951 4007 l 4033 4007 l 4114 4007 l 4196 4007 l 4277 4007 l
 4359 4007 l 4441 4007 l 4522 4007 l 4604 4007 l 4685 4007 l
 4767 4007 l 4848 4007 l 4930 4007 l 5011 4007 l 5093 4007 l
 5175 4007 l 5256 4007 l 5338 4007 l 5419 4007 l 5501 4007 l
 5582 4007 l 5664 4007 l 5746 4007 l 5827 4007 l 5909 4007 l
 5990 4007 l 6072 4007 l 6153 4007 l 6235 4007 l 6317 4007 l
 6398 4007 l 6480 4007 l 6561 4007 l 6643 4007 l 6724 4007 l
 6806 4007 l 6888 4007 l 6969 4007 l 7051 4007 l 7132 4007 l
 7214 4007 l 7295 4007 l 7377 4007 l 7458 4007 l 7540 4007 l
 7622 4007 l 7703 4007 l 7785 4007 l 7866 4007 l 7948 4007 l
 8029 4007 l 8111 4007 l 8193 4007 l 8274 4007 l 8356 4007 l
 8437 4007 l 8519 4007 l 8600 4007 l 8682 4007 l 8764 4007 l
 8845 4007 l 8927 4007 l 9008 4007 l 9090 4007 l 9171 4007 l
 9253 4007 l 9334 4007 l 9416 4007 l 9498 4007 l 9579 4007 l
 9661 4007 l 9742 4007 l 9824 4007 l 9905 4007 l
 9987 4007 l gs col0 s gr 
% here ends figure;
% 
% here starts figure with depth 38
% Polyline
7.500 slw
n 2039 4007 m 2039 4001 l 2082 4001 l 2082 4007 l
 2039 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2252 4007 m 2252 4031 l 2295 4031 l 2295 4007 l
 2252 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2465 4007 m 2465 4007 l 2507 4007 l 2507 4007 l
 2465 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2677 4007 m 2677 3924 l 2720 3924 l 2720 4007 l
 2677 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2890 4007 m 2890 3983 l 2932 3983 l 2932 4007 l
 2890 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3102 4007 m 3102 3883 l 3144 3883 l 3144 4007 l
 3102 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3315 4007 m 3315 4019 l 3357 4019 l 3357 4007 l
 3315 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3527 4007 m 3527 4001 l 3569 4001 l 3569 4007 l
 3527 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3739 4007 m 3739 3912 l 3782 3912 l 3782 4007 l
 3739 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3952 4007 m 3952 4060 l 3994 4060 l 3994 4007 l
 3952 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4164 4007 m 4164 4066 l 4207 4066 l 4207 4007 l
 4164 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4377 4007 m 4377 4048 l 4419 4048 l 4419 4007 l
 4377 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4589 4007 m 4589 3930 l 4632 3930 l 4632 4007 l
 4589 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4802 4007 m 4802 3954 l 4844 3954 l 4844 4007 l
 4802 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5014 4007 m 5014 3942 l 5057 3942 l 5057 4007 l
 5014 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5227 4007 m 5227 4007 l 5269 4007 l 5269 4007 l
 5227 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5439 4007 m 5439 4007 l 5482 4007 l 5482 4007 l
 5439 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5652 4007 m 5652 3954 l 5695 3954 l 5695 4007 l
 5652 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5864 4007 m 5864 3948 l 5907 3948 l 5907 4007 l
 5864 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6077 4007 m 6077 3912 l 6120 3912 l 6120 4007 l
 6077 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6289 4007 m 6289 3966 l 6332 3966 l 6332 4007 l
 6289 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6502 4007 m 6502 3948 l 6545 3948 l 6545 4007 l
 6502 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6714 4007 m 6714 2968 l 6757 2968 l 6757 4007 l
 6714 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6927 4007 m 6927 2732 l 6970 2732 l 6970 4007 l
 6927 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7139 4007 m 7139 2678 l 7182 2678 l 7182 4007 l
 7139 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7352 4007 m 7352 2242 l 7395 2242 l 7395 4007 l
 7352 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7564 4007 m 7564 3393 l 7607 3393 l 7607 4007 l
 7564 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7777 4007 m 7777 2802 l 7820 2802 l 7820 4007 l
 7777 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7989 4007 m 7989 3121 l 8032 3121 l 8032 4007 l
 7989 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8202 4007 m 8202 2767 l 8245 2767 l 8245 4007 l
 8202 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8414 4007 m 8414 3298 l 8457 3298 l 8457 4007 l
 8414 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8627 4007 m 8627 2732 l 8670 2732 l 8670 4007 l
 8627 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8840 4007 m 8840 3676 l 8882 3676 l 8882 4007 l
 8840 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9052 4007 m 9052 3871 l 9095 3871 l 9095 4007 l
 9052 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9265 4007 m 9265 3818 l 9307 3818 l 9307 4007 l
 9265 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9477 4007 m 9477 3682 l 9520 3682 l 9520 4007 l
 9477 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9690 4007 m 9690 3685 l 9732 3685 l 9732 4007 l
 9690 4007 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% here ends figure;
% 
% here starts figure with depth 36
% Polyline
7.500 slw
n 2082 4007 m 2082 4001 l 2125 4001 l 2125 4007 l
 2082 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2294 4007 m 2294 4007 l 2337 4007 l 2337 4007 l
 2294 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2507 4007 m 2507 4001 l 2550 4001 l 2550 4007 l
 2507 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2719 4007 m 2719 3989 l 2762 3989 l 2762 4007 l
 2719 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2932 4007 m 2932 3983 l 2975 3983 l 2975 4007 l
 2932 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3145 4007 m 3145 3877 l 3187 3877 l 3187 4007 l
 3145 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3357 4007 m 3357 4025 l 3400 4025 l 3400 4007 l
 3357 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3570 4007 m 3570 3983 l 3612 3983 l 3612 4007 l
 3570 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3782 4007 m 3782 3995 l 3825 3995 l 3825 4007 l
 3782 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3995 4007 m 3995 4042 l 4037 4042 l 4037 4007 l
 3995 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4207 4007 m 4207 4054 l 4250 4054 l 4250 4007 l
 4207 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4420 4007 m 4420 3966 l 4462 3966 l 4462 4007 l
 4420 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4632 4007 m 4632 3871 l 4675 3871 l 4675 4007 l
 4632 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4845 4007 m 4845 3924 l 4887 3924 l 4887 4007 l
 4845 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5057 4007 m 5057 3942 l 5100 3942 l 5100 4007 l
 5057 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5270 4007 m 5270 4019 l 5312 4019 l 5312 4007 l
 5270 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5482 4007 m 5482 3995 l 5525 3995 l 5525 4007 l
 5482 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5694 4007 m 5694 4031 l 5737 4031 l 5737 4007 l
 5694 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5907 4007 m 5907 3930 l 5950 3930 l 5950 4007 l
 5907 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6119 4007 m 6119 3901 l 6162 3901 l 6162 4007 l
 6119 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6332 4007 m 6332 3918 l 6375 3918 l 6375 4007 l
 6332 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6544 4007 m 6544 3942 l 6587 3942 l 6587 4007 l
 6544 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6757 4007 m 6757 2271 l 6800 2271 l 6800 4007 l
 6757 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6969 4007 m 6969 3210 l 7012 3210 l 7012 4007 l
 6969 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7182 4007 m 7182 3493 l 7225 3493 l 7225 4007 l
 7182 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7394 4007 m 7394 2932 l 7437 2932 l 7437 4007 l
 7394 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7607 4007 m 7607 3163 l 7650 3163 l 7650 4007 l
 7607 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7819 4007 m 7819 3104 l 7862 3104 l 7862 4007 l
 7819 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8032 4007 m 8032 3222 l 8075 3222 l 8075 4007 l
 8032 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8244 4007 m 8244 3653 l 8287 3653 l 8287 4007 l
 8244 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8457 4007 m 8457 1527 l 8500 1527 l 8500 4007 l
 8457 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8669 4007 m 8669 3405 l 8712 3405 l 8712 4007 l
 8669 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8882 4007 m 8882 3676 l 8925 3676 l 8925 4007 l
 8882 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9094 4007 m 9094 3871 l 9137 3871 l 9137 4007 l
 9094 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9307 4007 m 9307 3842 l 9350 3842 l 9350 4007 l
 9307 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9519 4007 m 9519 3682 l 9562 3682 l 9562 4007 l
 9519 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9732 4007 m 9732 3718 l 9775 3718 l 9775 4007 l
 9732 4007 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% here ends figure;
% 
% here starts figure with depth 34
% Polyline
7.500 slw
n 2125 4007 m 2125 3977 l 2167 3977 l 2167 4007 l
 2125 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2337 4007 m 2337 4013 l 2380 4013 l 2380 4007 l
 2337 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2550 4007 m 2550 4007 l 2592 4007 l 2592 4007 l
 2550 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2762 4007 m 2762 3889 l 2804 3889 l 2804 4007 l
 2762 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2975 4007 m 2975 3942 l 3017 3942 l 3017 4007 l
 2975 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3187 4007 m 3187 3883 l 3229 3883 l 3229 4007 l
 3187 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3400 4007 m 3400 4019 l 3442 4019 l 3442 4007 l
 3400 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3612 4007 m 3612 3977 l 3654 3977 l 3654 4007 l
 3612 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3825 4007 m 3825 3977 l 3867 3977 l 3867 4007 l
 3825 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4037 4007 m 4037 4048 l 4079 4048 l 4079 4007 l
 4037 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4250 4007 m 4250 4042 l 4292 4042 l 4292 4007 l
 4250 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4462 4007 m 4462 3853 l 4504 3853 l 4504 4007 l
 4462 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4675 4007 m 4675 3977 l 4717 3977 l 4717 4007 l
 4675 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4887 4007 m 4887 4007 l 4929 4007 l 4929 4007 l
 4887 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5100 4007 m 5100 3747 l 5142 3747 l 5142 4007 l
 5100 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5312 4007 m 5312 4007 l 5355 4007 l 5355 4007 l
 5312 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5525 4007 m 5525 4019 l 5567 4019 l 5567 4007 l
 5525 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5737 4007 m 5737 4048 l 5780 4048 l 5780 4007 l
 5737 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5950 4007 m 5950 4007 l 5992 4007 l 5992 4007 l
 5950 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6162 4007 m 6162 3895 l 6205 3895 l 6205 4007 l
 6162 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6375 4007 m 6375 3842 l 6417 3842 l 6417 4007 l
 6375 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6587 4007 m 6587 3942 l 6630 3942 l 6630 4007 l
 6587 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6800 4007 m 6800 2271 l 6842 2271 l 6842 4007 l
 6800 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7012 4007 m 7012 2732 l 7055 2732 l 7055 4007 l
 7012 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7225 4007 m 7225 3788 l 7267 3788 l 7267 4007 l
 7225 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7437 4007 m 7437 3316 l 7480 3316 l 7480 4007 l
 7437 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7650 4007 m 7650 3546 l 7692 3546 l 7692 4007 l
 7650 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7862 4007 m 7862 2861 l 7905 2861 l 7905 4007 l
 7862 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8075 4007 m 8075 3641 l 8117 3641 l 8117 4007 l
 8075 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8287 4007 m 8287 3357 l 8330 3357 l 8330 4007 l
 8287 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8500 4007 m 8500 3416 l 8542 3416 l 8542 4007 l
 8500 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8712 4007 m 8712 1391 l 8755 1391 l 8755 4007 l
 8712 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8925 4007 m 8925 3676 l 8967 3676 l 8967 4007 l
 8925 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9137 4007 m 9137 3517 l 9180 3517 l 9180 4007 l
 9137 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9350 4007 m 9350 3842 l 9392 3842 l 9392 4007 l
 9350 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9562 4007 m 9562 3617 l 9605 3617 l 9605 4007 l
 9562 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9775 4007 m 9775 3710 l 9817 3710 l 9817 4007 l
 9775 4007 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% here ends figure;
% 
% here starts figure with depth 32
% Polyline
7.500 slw
n 2167 4007 m 2167 3995 l 2210 3995 l 2210 4007 l
 2167 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2379 4007 m 2379 3989 l 2422 3989 l 2422 4007 l
 2379 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2592 4007 m 2592 4007 l 2634 4007 l 2634 4007 l
 2592 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2805 4007 m 2805 3971 l 2847 3971 l 2847 4007 l
 2805 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3017 4007 m 3017 4007 l 3059 4007 l 3059 4007 l
 3017 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3230 4007 m 3230 3877 l 3272 3877 l 3272 4007 l
 3230 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3442 4007 m 3442 4025 l 3484 4025 l 3484 4007 l
 3442 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3655 4007 m 3655 3977 l 3697 3977 l 3697 4007 l
 3655 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 3867 4007 m 3867 4001 l 3910 4001 l 3910 4007 l
 3867 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4080 4007 m 4080 4042 l 4122 4042 l 4122 4007 l
 4080 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4292 4007 m 4292 4072 l 4335 4072 l 4335 4007 l
 4292 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4505 4007 m 4505 3936 l 4547 3936 l 4547 4007 l
 4505 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4717 4007 m 4717 3853 l 4760 3853 l 4760 4007 l
 4717 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 4930 4007 m 4930 3907 l 4972 3907 l 4972 4007 l
 4930 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5142 4007 m 5142 3535 l 5185 3535 l 5185 4007 l
 5142 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5354 4007 m 5354 4019 l 5397 4019 l 5397 4007 l
 5354 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5567 4007 m 5567 4025 l 5610 4025 l 5610 4007 l
 5567 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5779 4007 m 5779 4036 l 5822 4036 l 5822 4007 l
 5779 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 5992 4007 m 5992 3977 l 6035 3977 l 6035 4007 l
 5992 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6204 4007 m 6204 3871 l 6247 3871 l 6247 4007 l
 6204 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6417 4007 m 6417 3936 l 6460 3936 l 6460 4007 l
 6417 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6629 4007 m 6629 3960 l 6672 3960 l 6672 4007 l
 6629 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 6842 4007 m 6842 1923 l 6885 1923 l 6885 4007 l
 6842 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7054 4007 m 7054 2413 l 7097 2413 l 7097 4007 l
 7054 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7267 4007 m 7267 2991 l 7310 2991 l 7310 4007 l
 7267 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7479 4007 m 7479 2932 l 7522 2932 l 7522 4007 l
 7479 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7692 4007 m 7692 2856 l 7735 2856 l 7735 4007 l
 7692 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 7904 4007 m 7904 2501 l 7947 2501 l 7947 4007 l
 7904 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8117 4007 m 8117 2856 l 8160 2856 l 8160 4007 l
 8117 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8329 4007 m 8329 3080 l 8372 3080 l 8372 4007 l
 8329 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8542 4007 m 8542 1822 l 8585 1822 l 8585 4007 l
 8542 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8754 4007 m 8754 2667 l 8797 2667 l 8797 4007 l
 8754 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 8967 4007 m 8967 3676 l 9009 3676 l 9009 4007 l
 8967 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9179 4007 m 9179 3416 l 9222 3416 l 9222 4007 l
 9179 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9392 4007 m 9392 3777 l 9434 3777 l 9434 4007 l
 9392 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9604 4007 m 9604 3747 l 9647 3747 l 9647 4007 l
 9604 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 9817 4007 m 9817 3604 l 9859 3604 l 9859 4007 l
 9817 4007 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% here ends figure;
% 
% here starts figure with depth 10
% Polyline
7.500 slw
n 2600 1600 m 2600 1484 l 2721 1484 l 2721 1600 l
 2600 1600 l  cp gs col32 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2600 1757 m 2600 1641 l 2721 1641 l 2721 1757 l
 2600 1757 l  cp gs col48 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2600 1914 m 2600 1798 l 2721 1798 l 2721 1914 l
 2600 1914 l  cp gs col46 1.00 shd ef gr gs col-1 s gr 
% Polyline
n 2600 2071 m 2600 1955 l 2721 1955 l 2721 2071 l
 2600 2071 l  cp gs col49 1.00 shd ef gr gs col-1 s gr 
% here ends figure;
% 
% here starts figure with depth 0
/Times-Roman ff 150.00 scf sf
1837 4069 m
gs 1 -1 sc (  0%) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
1837 3774 m
gs 1 -1 sc (  5%) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
1837 3478 m
gs 1 -1 sc (  10%) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
1837 3183 m
gs 1 -1 sc (  15%) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
1837 2888 m
gs 1 -1 sc (  20%) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
1837 2593 m
gs 1 -1 sc (  25%) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
1837 2298 m
gs 1 -1 sc (  30%) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
1837 2002 m
gs 1 -1 sc (  35%) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
1837 1707 m
gs 1 -1 sc (  40%) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
1837 1412 m
gs 1 -1 sc (  45%) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
2187 4200 m
gs 1 -1 sc  90.0 rot (ammp) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
2399 4200 m
gs 1 -1 sc  90.0 rot (applu) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
2612 4200 m
gs 1 -1 sc  90.0 rot (apsi) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
2824 4200 m
gs 1 -1 sc  90.0 rot (art) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
3037 4200 m
gs 1 -1 sc  90.0 rot (equake) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
3249 4200 m
gs 1 -1 sc  90.0 rot (mesa) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
3462 4200 m
gs 1 -1 sc  90.0 rot (mgrid) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
3674 4200 m
gs 1 -1 sc  90.0 rot (sixtrack) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
3887 4200 m
gs 1 -1 sc  90.0 rot (swim) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
4099 4200 m
gs 1 -1 sc  90.0 rot (wupwise) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
4312 4200 m
gs 1 -1 sc  90.0 rot (bzip2) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
4524 4200 m
gs 1 -1 sc  90.0 rot (crafty) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
4737 4200 m
gs 1 -1 sc  90.0 rot (eon) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
4949 4200 m
gs 1 -1 sc  90.0 rot (gap) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
5162 4200 m
gs 1 -1 sc  90.0 rot (gcc) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
5374 4200 m
gs 1 -1 sc  90.0 rot (gzip) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
5587 4200 m
gs 1 -1 sc  90.0 rot (mcf) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
5799 4200 m
gs 1 -1 sc  90.0 rot (parser) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
6012 4200 m
gs 1 -1 sc  90.0 rot (perlbmk) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
6224 4200 m
gs 1 -1 sc  90.0 rot (twolf) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
6437 4200 m
gs 1 -1 sc  90.0 rot (vortex) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
6649 4200 m
gs 1 -1 sc  90.0 rot (vpr) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
6862 4200 m
gs 1 -1 sc  90.0 rot (check) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
7074 4200 m
gs 1 -1 sc  90.0 rot (checkit) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
7287 4200 m
gs 1 -1 sc  90.0 rot (compress) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
7499 4200 m
gs 1 -1 sc  90.0 rot (db) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
7712 4200 m
gs 1 -1 sc  90.0 rot (jack) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
7924 4200 m
gs 1 -1 sc  90.0 rot (javac) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
8137 4200 m
gs 1 -1 sc  90.0 rot (jess) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
8349 4200 m
gs 1 -1 sc  90.0 rot (mpegaudio) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
8562 4200 m
gs 1 -1 sc  90.0 rot (mtrt) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
8774 4200 m
gs 1 -1 sc  90.0 rot (raytrace) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
8987 4200 m
gs 1 -1 sc  90.0 rot (excel) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
9199 4200 m
gs 1 -1 sc  90.0 rot (photoshp) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
9412 4200 m
gs 1 -1 sc  90.0 rot (powerpnt) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
9624 4200 m
gs 1 -1 sc  90.0 rot (winword) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
9837 4200 m
gs 1 -1 sc  90.0 rot (AVERAGE) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
1386 2738 m
gs 1 -1 sc  90.0 rot (Time impact versus infinite caches) dup sw pop 2 div neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
3612 4954 m
gs 1 -1 sc (SPECFP) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
5737 4954 m
gs 1 -1 sc (SPECINT) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
8075 4954 m
gs 1 -1 sc (SPECJVM) dup sw pop neg 0 rm  col0 sh gr
/Times-Roman ff 150.00 scf sf
9562 4954 m
gs 1 -1 sc (Desktop) dup sw pop neg 0 rm  col0 sh gr
% here ends figure;
$F2psEnd
rs
showpage

%%EndDocument
 @endspecial -83 1766 a Fh(Figure)28 b(7.)f(P)n(erf)n(ormance)h(impact)
g(of)f(our)g(adaptive)h(w)n(orking)f(set)g(with)g(v)n(ar)q(ying)h
(resiz)q(e)g(c)o(hec)n(k)h(frequenc)o(y:)41 b(15)-83
1875 y(reg)q(enerated)23 b(/)h(25)f(replaced,)h(30/50,)f(60/100,)h(and)
f(120/200,)h(ver)o(sus)g(an)f(unbounded)e(cac)o(he)r(.)p
-182 2404 1996 4 v -184 2495 4 92 v -133 2468 a Fg(P)o(arameters:)p
267 2495 V 172 w Fd(1)p 504 2495 V 187 w Fg(10)p 765
2495 V 187 w(20)p 1027 2495 V 188 w(30)p 1288 2495 V
187 w(40)p 1550 2495 V 188 w(45)p 1811 2495 V -182 2499
1996 4 v -182 2515 V -184 2606 4 92 v -133 2579 a(Benchmark)p
267 2606 V 267 2606 V 475 w(Basic)e(block)g(cache)h(\(KB\))p
1811 2606 V -182 2610 1996 4 v -184 2701 4 92 v -133
2674 a(SPECFP)p 267 2701 V 262 w(77)p 504 2701 V 188
w(67)p 765 2701 V 187 w(66)p 1027 2701 V 188 w(65)p 1288
2701 V 187 w(58)p 1550 2701 V 188 w(58)p 1811 2701 V
-182 2704 1996 4 v -184 2796 4 92 v -133 2768 a(SPECINT)p
267 2796 V 184 w(198)p 504 2796 V 151 w(157)p 765 2796
V 150 w(149)p 1027 2796 V 151 w(137)p 1288 2796 V 150
w(124)p 1550 2796 V 150 w(111)p 1811 2796 V -182 2799
1996 4 v -184 2890 4 92 v -133 2863 a(SPECJVM)p 267 2890
V 123 w(1512)p 504 2890 V 151 w(896)p 765 2890 V 150
w(734)p 1027 2890 V 151 w(728)p 1288 2890 V 150 w(665)p
1550 2890 V 150 w(677)p 1811 2890 V -182 2894 1996 4
v -184 2985 4 92 v -133 2958 a(e)o(xcel)p 267 2985 V
296 w(2618)p 504 2985 V 113 w(1632)p 765 2985 V 114 w(1312)p
1027 2985 V 113 w(1024)p 1288 2985 V 188 w(64)p 1550
2985 V 188 w(64)p 1811 2985 V -182 2988 1996 4 v -184
3080 4 92 v -133 3052 a(photoshp)p 267 3080 V 180 w(5521)p
504 3080 V 113 w(3360)p 765 3080 V 114 w(1856)p 1027
3080 V 113 w(1472)p 1288 3080 V 114 w(1184)p 1550 3080
V 113 w(1216)p 1811 3080 V -182 3083 1996 4 v -184 3174
4 92 v -133 3147 a(po)n(werpnt)p 267 3174 V 173 w(4242)p
504 3174 V 113 w(2592)p 765 3174 V 114 w(1632)p 1027
3174 V 151 w(992)p 1288 3174 V 150 w(736)p 1550 3174
V 150 w(480)p 1811 3174 V -182 3178 1996 4 v -184 3269
4 92 v -133 3242 a(winw)o(ord)p 267 3269 V 188 w(3135)p
504 3269 V 113 w(2240)p 765 3269 V 114 w(1664)p 1027
3269 V 113 w(1248)p 1288 3269 V 114 w(1024)p 1550 3269
V 188 w(64)p 1811 3269 V -182 3272 1996 4 v -184 3364
4 92 v -133 3336 a Fc(a)n(v)o(e)g(impact)p 267 3364 V
182 w Fg(\227)p 504 3364 V 87 w Fc(-33\045)p 765 3364
V 88 w(-49\045)p 1027 3364 V 87 w(-58\045)p 1288 3364
V 88 w(-69\045)p 1550 3364 V 87 w(-76\045)p 1811 3364
V -182 3367 1996 4 v -182 3370 V -184 3462 4 92 v -133
3434 a Fg(Benchmark)p 267 3462 V 267 3462 V 567 w(T)m(race)f(cache)h
(\(KB\))p 1811 3462 V -182 3465 1996 4 v -184 3556 4
92 v -133 3529 a(SPECFP)p 267 3556 V 225 w(127)p 504
3556 V 151 w(109)p 765 3556 V 150 w(109)p 1027 3556 V
151 w(109)p 1288 3556 V 150 w(109)p 1550 3556 V 150 w(105)p
1811 3556 V -182 3560 1996 4 v -184 3651 4 92 v -133
3624 a(SPECINT)p 267 3651 V 184 w(350)p 504 3651 V 151
w(305)p 765 3651 V 150 w(307)p 1027 3651 V 151 w(306)p
1288 3651 V 150 w(300)p 1550 3651 V 150 w(292)p 1811
3651 V -182 3654 1996 4 v -184 3746 4 92 v -133 3718
a(SPECJVM)p 267 3746 V 160 w(889)p 504 3746 V 151 w(655)p
765 3746 V 150 w(659)p 1027 3746 V 151 w(647)p 1288 3746
V 150 w(634)p 1550 3746 V 150 w(571)p 1811 3746 V -182
3749 1996 4 v -184 3840 4 92 v -133 3813 a(e)o(xcel)p
267 3840 V 333 w(608)p 504 3840 V 151 w(430)p 765 3840
V 150 w(416)p 1027 3840 V 151 w(404)p 1288 3840 V 150
w(366)p 1550 3840 V 150 w(347)p 1811 3840 V -182 3844
1996 4 v -184 3935 4 92 v -133 3907 a(photoshp)p 267
3935 V 180 w(3371)p 504 3935 V 113 w(2336)p 765 3935
V 114 w(2336)p 1027 3935 V 113 w(2304)p 1288 3935 V 114
w(2114)p 1550 3935 V 113 w(1992)p 1811 3935 V -182 3938
1996 4 v -184 4029 4 92 v -133 4002 a(po)n(werpnt)p 267
4029 V 173 w(2259)p 504 4029 V 113 w(1520)p 765 4029
V 114 w(1536)p 1027 4029 V 113 w(1504)p 1288 4029 V 114
w(1487)p 1550 4029 V 113 w(1440)p 1811 4029 V -182 4033
1996 4 v -184 4124 4 92 v -133 4097 a(winw)o(ord)p 267
4124 V 188 w(1126)p 504 4124 V 151 w(915)p 765 4124 V
150 w(909)p 1027 4124 V 151 w(896)p 1288 4124 V 150 w(832)p
1550 4124 V 150 w(640)p 1811 4124 V -182 4127 1996 4
v -184 4219 4 92 v -133 4191 a Fc(a)n(v)o(e)g(impact)p
267 4219 V 182 w Fg(\227)p 504 4219 V 87 w Fc(-23\045)p
765 4219 V 88 w(-23\045)p 1027 4219 V 87 w(-24\045)p
1288 4219 V 88 w(-27\045)p 1550 4219 V 87 w(-32\045)p
1811 4219 V -182 4222 1996 4 v -83 4416 a Fh(T)-7 b(ab)o(le)40
b(4.)g(Code)f(cac)o(he)i(siz)q(es)e(when)g(using)g(our)-83
4526 y(adaptive)g(w)n(orking)h(set)f(algorithm)g(with)f(reg)q(en\255)
-83 4635 y(eration)50 b(thresholds)g(of)g(10,)58 b(20,)g(30,)f(40,)h
(and)-83 4745 y(45,)51 b(per)45 b(50)g(replaced)g(fra)o(gments.)97
b(The)44 b(main)-83 4854 y(thread')-5 b(s)57 b(cac)o(he)f(siz)q(es)h
(are)g(given)f(f)n(or)g(m)n(ulti\255)-83 4964 y(threaded)42
b(benc)o(hmarks,)47 b(and)41 b(the)g(a)o(vera)o(g)q(e)i(f)n(or)-83
5074 y(suites.)1974 2218 y Fi(in)21 b(code)f(are)h(the)g(best)g
(candidates)f(for)g(dri)n(ving)g(cache)g(shrinkage.)1974
2318 y(Ef)n(\002ciently)k(identifying)f(whether)i(the)g(application)f
(is)i(using)f(the)1974 2417 y(full)17 b(code)g(cache)g(or)g(not)g(is)h
(challenging.)k(Detecting)17 b(true)g(idle)h(pe-)1974
2517 y(riods)h(requires)f(periodic)g(interrupts,)h(which)g(are)g
(problematic)f(on)1974 2617 y(W)m(indo)n(ws)k(without)g(either)g(a)h
(dedicated)e(runtime)g(system)i(thread)1974 2716 y(or)d(a)g(runtime)f
(system)i(component)d(that)i(li)n(v)o(es)g(in)g(k)o(ernel)g(space.)1974
2962 y Fk(5)99 b(Related)26 b(W)-7 b(ork)2073 3190 y
Fi(Man)o(y)36 b(code)g(caching)g(techniques)f(were)i(pioneered)d(in)j
(in-)1974 3290 y(struction)54 b(set)h(emulators)f([8)o(])h(and)f
(whole-system)g(simula-)1974 3390 y(tors)20 b([36)n(].)25
b(Softw)o(are)19 b(code)g(caches)h(are)f(also)h(coupled)f(with)g(hard-)
1974 3489 y(w)o(are)29 b(support)f(for)g(ISA)i(compatibility)e([14)n(,)
i(10)o(,)f(11)o(])h(and)e(used)1974 3589 y(to)20 b(virtualize)e(hardw)o
(are)g([4,)i(9)o(].)25 b(Recent)20 b(runtime)e(tool)h(platforms)1974
3689 y(ha)n(v)o(e)29 b(turned)f(to)h(code)g(caches)h(to)f(a)n(v)n(oid)g
(the)h(transparenc)o(y)d(and)1974 3788 y(granularity)j(limitations)i
(of)g(traditional)g(methods)f(of)h(inserting)1974 3888
y(trampolines)19 b(directly)g(into)h(application)f(code)h([30)o(,)g(26)
o(,)h(19)o(].)26 b(Dy-)1974 3987 y(namic)c(translation)g(systems)i(use)
f(code)g(caches)g(to)g(reduce)f(trans-)1974 4087 y(lation)29
b(o)o(v)o(erhead)e([29)o(,)j(37)o(,)g(7)o(],)i(while)e(dynamic)e
(optimizers)h(at-)1974 4187 y(tempt)g(to)g(e)o(xceed)f(nati)n(v)o(e)g
(performance)e(by)j(placing)f(optimized)1974 4286 y(v)o(ersions)18
b(of)h(application)f(code)g(into)h(code)g(caches)g([2)o(,)h(5)o(].)25
b(A)20 b(\002nal)1974 4386 y(cate)o(gory)f(of)i(systems)g(with)g(code)f
(caches)h(are)g(just-in-time)f(\(JIT\))1974 4486 y(compilers)f(that)h
(store)g(generated)f(code)g([1].)1974 4706 y Ff(5.1)90
b(Code)22 b(Cache)f(Consistency)2073 4926 y Fi(An)o(y)h(system)g(with)g
(a)g(softw)o(are)g(code)f(cache)g(is)i(subject)f(to)g(the)1974
5026 y(problem)d(of)j(cache)e(consistenc)o(y)-5 b(.)27
b(Most)22 b(RISC)g(architectures)e(re-)1974 5126 y(quire)25
b(an)g(e)o(xplicit)g(instruction)g(cache)g(\003ush)h(request)f(by)g
(the)h(ap-)1974 5225 y(plication)c(to)h(correctly)f(e)o(x)o(ecute)f
(modi\002ed)h(code,)h(usually)f(in)h(the)1974 5325 y(form)g(of)h(a)g
(special)h(instruction)e([20)n(].)37 b(Systems)25 b(lik)o(e)f(Shade)g
([8)o(],)1839 5574 y(10)p eop end
%%Page: 11 11
TeXDict begin 11 10 bop -182 83 a Fi(Embra)20 b([36)o(],)j(Dynamo)d([2)
o(],)j(and)e(Strata)h([30)o(])g(w)o(atch)g(for)g(this)g(in-)-182
183 y(struction)e(and)g(in)m(v)n(alidate)f(their)i(entire)f(code)g
(cache)h(upon)e(seeing)-182 282 y(it.)25 b(DELI)20 b([11)n(])h(states)g
(that)f(it)h(handles)e(self-modifying)e(code,)i(b)n(ut)-182
382 y(gi)n(v)o(es)g(no)h(details)h(on)e(ho)n(w)h(this)h(is)g(achie)n(v)
o(ed.)-83 487 y(The)29 b(IA-32)e(architecture)g(requires)h(no)g
(special)h(action)f(from)-182 587 y(applications)42 b(to)h(e)o(x)o
(ecute)f(modi\002ed)g(code,)49 b(making)42 b(it)i(more)-182
686 y(challenging)39 b(to)j(detect)g(code)f(changes.)89
b(Due)41 b(to)h(this)g(dif)n(\002-)-182 786 y(culty)-5
b(,)29 b(and)e(because)h(some)g(programs)e(do)i(not)g(require)f(the)h
(fea-)-182 886 y(ture,)21 b(man)o(y)f(systems)h(tar)o(geting)f(IA-32)g
(do)h(not)g(handle)f(modi\002ed)-182 985 y(code)31 b([5)o(,)i(7,)f(30)o
(,)h(31)o(,)g(19)o(].)61 b(Other)32 b(systems)h(that)g(tar)o(get)e
(IA-32)-182 1085 y(must,)19 b(lik)o(e)h(DynamoRIO,)f(turn)g(to)h(page)f
(protection.)k(Daisy)d([14)o(])-182 1185 y(uses)35 b(hardw)o
(are-assisted)e(page)i(protection,)h(making)e(use)h(of)f(a)-182
1284 y(page)27 b(table)i(bit)f(that)h(is)g(inaccessible)g(to)f(the)h
(application)e(to)h(in-)-182 1384 y(dicate)c(whether)g(a)h(page)e(has)i
(been)f(modi\002ed.)37 b(When)24 b(a)h(write)g(is)-182
1483 y(detected)g(on)h(a)h(code)e(page,)i(that)g(whole)e(page)h(is)h
(in)m(v)n(alidated)e(in)-182 1583 y(the)k(code)g(cache.)53
b(Similarly)-5 b(,)31 b(Crusoe)f([10)n(])g(uses)g(page)f(protec-)-182
1683 y(tion,)d(with)f(hardw)o(are)f(assistance)i(in)f(the)g(form)f(of)h
(\002ner)n(-grained)-182 1782 y(protection)i(re)o(gions)g(than)i(IA-32)
f(pages.)50 b(Although)27 b(the)o(y)i(ha)n(v)o(e)-182
1882 y(an)19 b(IA-32)f(emulator)m(,)f(the)o(y)i(augment)f(their)h(page)
f(protection)g(with)-182 1982 y(similar)31 b(mechanisms)f(to)h(our)f
(sandboxing)f(for)h(detecting)g(self-)-182 2081 y(modifying)24
b(code)i(on)h(writable)g(pages)f([10)o(].)46 b(VMW)-7
b(are)27 b([4)o(])g(and)-182 2181 y(Connectix)33 b([9)o(])i
(purportedly)d(use)j(page)f(protection)f(combined)-182
2280 y(with)28 b(sandboxing)e(as)j(well,)i(though)26
b(details)j(are)g(not)f(a)n(v)n(ailable.)-182 2380 y(Since)f(most)h(of)
f(these)h(systems)g(e)o(x)o(ecute)e(underneath)f(the)j(oper)n(-)-182
2480 y(ating)d(system,)i(the)o(y)e(a)n(v)n(oid)g(the)h(problems)e(of)i
(multiple)f(threads.)-182 2579 y(The)c(e)o(xception)f(is)j(VMW)-7
b(are')i(s)22 b(multiprocessor)e(support,)g(which)-182
2679 y(should)28 b(ha)n(v)o(e)g(similar)h(consistenc)o(y)f(problems)f
(to)i(ours,)i(b)n(ut)e(for)-182 2779 y(which)j(no)h(technical)f
(information)f(is)j(a)n(v)n(ailable.)64 b(Ours)33 b(is)h(the)-182
2878 y(only)22 b(softw)o(are)i(code)f(cache)g(that)h(we)g(kno)n(w)e(of)
i(that)g(has)g(tackled)-182 2978 y(the)i(combination)e(of)i(multiple)g
(application)f(threads)h(and)f(cache)-182 3077 y(consistenc)o(y)18
b(on)i(IA-32.)-182 3302 y Ff(5.2)90 b(Code)22 b(Cache)f(Capacity)-83
3526 y Fi(There)30 b(is)i(little)g(prior)e(w)o(ork)g(on)h(optimally)e
(sizing)i(softw)o(are)-182 3626 y(code)22 b(caches.)32
b(Nearly)23 b(e)n(v)o(ery)e(system)i(kno)n(wn)f(to)h(us)g(\(the)f(e)o
(xcep-)-182 3725 y(tions)f(are)g(virtual)f(machines)h([4)o(,)g(9]\))g
(sizes)h(its)g(cache)f(generously)-182 3825 y(and)f(assumes)g(that)h
(limit)g(will)h(rarely)d(be)i(reached.)k(Furthermore,)-182
3925 y(cache)f(management)e(is)k(usually)e(limited)h(to)g(\003ushing)f
(the)g(entire)-182 4024 y(cache,)31 b(or)e(splitting)h(it)g(into)g(tw)o
(o)g(sections)f(that)h(are)g(alternately)-182 4124 y(\003ushed)c([5)o
(],)i(although)c(V)-9 b(algrind)25 b([31)o(])i(performs)d(FIFO)j
(single-)-182 4224 y(fragment)21 b(replacement)g(when)h(its)i(cache)e
(\002lls)i(up.)33 b(F)o(or)23 b(man)o(y)e(of)-182 4323
y(these)h(systems,)g(the)g(cache)f(is)i(an)f(optimization)e(that,)i
(while)g(crit-)-182 4423 y(ical)27 b(for)f(performance,)f(is)j(not)e
(critical)h(to)g(the)g(w)o(orkings)e(of)i(the)-182 4522
y(system)d(\227)g(the)o(y)g(can)g(f)o(all)g(back)f(on)h(their)g
(emulation)f(or)g(transla-)-182 4622 y(tion)17 b(core.)23
b(And)17 b(for)g(systems)h(whose)g(goal)f(is)h(performance,)d(their)
-182 4722 y(benchmark)i(tar)o(gets)i(\(lik)o(e)g(SPEC)i(CPU)g([35)n
(]\))f(e)o(x)o(ecute)e(relati)n(v)o(ely)-182 4821 y(small)i(amounts)f
(of)h(code.)-83 4926 y(Cache)k(e)n(viction)f(studies)h(ha)n(v)o(e)f
(concluded)f(that)i(a)g(FIFO)h(pol-)-182 5026 y(ic)o(y)37
b(w)o(orks)g(as)h(well)g(as)h(an)o(y)d(other)h(polic)o(y)g(in)g(terms)h
(of)f(miss)-182 5126 y(rate,)27 b(including)d(LFU)i(or)g(LR)m(U)g([17)o
(].)42 b(The)26 b(conclusion)e(of)i(later)-182 5225 y(w)o(ork)19
b([16)o(])i(is)g(that)f(the)h(best)g(scheme)f(is)h(to)f(di)n(vide)g
(the)g(cache)g(into)-182 5325 y(eight)c(or)g(so)h(units,)g(each)f
(\003ushed)g(in)g(its)i(entirety)-5 b(.)22 b(Multi-fragment)1974
83 y(deletion)16 b(can)h(certainly)f(be)i(cheaper)d(than)i
(single-fragment)e(dele-)1974 183 y(tion.)26 b(Ho)n(we)n(v)o(er)m(,)19
b(these)i(cache)f(studies)h(do)g(not)f(tak)o(e)h(into)f(account)1974
282 y(cache)f(consistenc)o(y)f(e)n(v)o(ents)g(in)i(real)f(systems,)h
(which)e(could)h(dras-)1974 382 y(tically)28 b(change)f(all)i(of)e
(their)h(equations)f(by)h(increasing)f(the)h(fre-)1974
482 y(quenc)o(y)c(of)i(e)n(victions,)h(and)f(pre)n(v)o(ent)f(forw)o
(ard)g(progress)g(when)h(a)1974 581 y(\003ush)e(unit)h(contains)e(both)
h(an)g(instruction)g(writing)f(code)h(and)g(its)1974
681 y(tar)o(get.)2073 780 y(Dynamo)j([2)o(])i(attempted)e(to)h
(identify)f(w)o(orking)f(set)j(changes)1974 880 y(by)19
b(pre-empti)n(v)o(ely)e(\003ushing)h(its)j(cache)e(when)g(fragment)f
(creation)1974 980 y(rates)23 b(rose)g(signi\002cantly)-5
b(.)31 b(Other)23 b(w)o(ork)f(on)g(identifying)f(applica-)1974
1079 y(tion)k(w)o(orking)f(sets)j(has)f(focused)e(on)h(data)h
(references,)f(attempt-)1974 1179 y(ing)32 b(to)g(impro)o(v)o(e)e
(prefetching)g(and)h(cache)h(locality)g([6)o(,)g(32)o(],)j(or)1974
1279 y(on)g(reducing)f(windo)n(ws)h(of)h(simulation)f(while)h(still)h
(capturing)1974 1378 y(whole-program)21 b(beha)n(vior)j([33)n(].)40
b(Man)o(y)24 b(of)h(these)g(schemes)g(are)1974 1478 y
(computation-intensi)n(v)o(e)34 b(and)39 b(require)e(post-processing,)k
(mak-)1974 1577 y(ing)29 b(them)f(un-realizable)f(in)j(a)f(runtime)f
(system)i(that)f(needs)f(ef-)1974 1677 y(\002cient,)34
b(incremental)d(detection.)59 b(Some)31 b(schemes)h(do)f(operate)1974
1777 y(completely)19 b(at)h(runtime,)f(b)n(ut)h(require)f(hardw)o(are)g
(support)g([12)n(].)1974 2002 y Fk(6)99 b(Conclusions)2073
2210 y Fi(While)24 b(code)f(caching)f(technology)f(is)j(relati)n(v)o
(ely)f(mature,)g(lit-)1974 2310 y(tle)c(w)o(ork)e(has)h(been)g(done)f
(on)g(maintaining)g(cache)g(consistenc)o(y)g(in)1974
2409 y(the)26 b(presence)f(of)i(multiple)e(threads)h(or)g(on)g(sizing)g
(code)g(caches.)1974 2509 y(These)f(are)g(tw)o(o)g(important)f
(milestones)g(to)n(w)o(ard)h(deplo)o(yment)d(of)1974
2608 y(dynamic)j(translators)g(and)h(optimizers)f(on)h(production)e
(systems)1974 2708 y(running)k(lar)o(ge,)j(modern,)f(comple)o(x)e
(applications.)53 b(This)30 b(paper)1974 2808 y(contrib)n(utes)22
b(in)h(both)f(of)h(these)g(areas,)h(with)f(an)g(ef)n(\002cient)g
(scheme)1974 2907 y(for)29 b(k)o(eeping)g(a)i(softw)o(are)f(code)f
(cache)h(consistent)g(across)g(mul-)1974 3007 y(tiple)d(threads)f
(without)h(hardw)o(are)e(support,)i(as)h(well)f(as)h(a)g(no)o(v)o(el)
1974 3107 y(runtime)35 b(algorithm)g(for)g(dynamically)g(bounding)e
(code)j(cache)1974 3206 y(size)e(to)g(match)f(the)g(current)g(w)o
(orking)f(set)i(of)f(the)h(application.)1974 3306 y(W)-7
b(e)29 b(e)n(v)n(aluate)e(these)i(algorithms)d(in)j(DynamoRIO,)d(a)j
(real)f(code)1974 3405 y(caching)36 b(system)i(running)e(on)h(stock)h
(IA-32)e(hardw)o(are)h(under)1974 3505 y(both)20 b(W)m(indo)n(ws)h(and)
f(Linux,)g(on)h(modern)e(applications)h(with)h(dy-)1974
3605 y(namic)28 b(beha)n(vior)m(,)h(including)e(dynamically-loaded,)g
(generated,)1974 3704 y(and)19 b(e)n(v)o(en)h(modi\002ed)f(code.)2073
3804 y(While)24 b(our)e(cache)h(consistenc)o(y)e(algorithm)h(w)o(orks)g
(well)i(with)1974 3904 y(both)16 b(thread-pri)n(v)n(ate)f(and)i
(thread-shared)e(caches,)i(our)g(cache)g(siz-)1974 4003
y(ing)29 b(algorithm)e(tak)o(es)i(adv)n(antage)e(of)i(the)g(ef)n
(\002cienc)o(y)f(of)g(thread-)1974 4103 y(pri)n(v)n(ate)d
(single-fragment)f(deletion.)43 b(W)-7 b(e)27 b(lea)n(v)o(e)f(ef)n
(\002cient)g(sizing)1974 4202 y(of)h(thread-shared)e(caches)i(as)h
(future)e(w)o(ork.)46 b(A)28 b(second)e(area)h(of)1974
4302 y(future)21 b(w)o(ork)h(for)g(our)g(sizing)h(scheme)f(is)i(e)o
(xtending)c(it)k(to)e(reduce)1974 4402 y(cache)e(sizes)h(during)d(idle)
j(periods.)1974 4617 y Fk(Refer)n(ences)2025 4810 y Fg([1])42
b(A.)21 b(Adl-T)-6 b(abatabai,)23 b(M.)e(Cierniak,)i(G.)e(Lueh,)h(V)-10
b(.)22 b(M.)g(P)o(arikh,)g(and)2154 4894 y(J.)k(M.)i(Stichnoth.)53
b(F)o(ast,)28 b(ef)n(fecti)n(v)o(e)g(code)g(generation)g(in)g(a)f
(just-)2154 4978 y(in-time)h(Ja)o(v)n(a)h(compiler)l(.)59
b(In)29 b Fb(A)n(CM)f(SIGPLAN)g(Confer)m(ence)i(on)2154
5062 y(Pr)m(o)o(gr)o(amming)19 b(Langua)o(g)o(e)j(Design)d(and)h
(Implementation)g(\(PLDI)2154 5146 y('98\))p Fg(,)f(pages)g
(280\226290,)i(June)f(1998.)2025 5241 y([2])42 b(V)-10
b(.)33 b(Bala,)38 b(E.)33 b(Duesterw)o(ald,)38 b(and)c(S.)f(Banerjia.)
75 b(Dynamo:)55 b(A)2154 5325 y(transparent)17 b(runtime)g
(optimization)g(system.)22 b(In)17 b Fb(A)n(CM)f(SIGPLAN)1839
5574 y Fi(11)p eop end
%%Page: 12 12
TeXDict begin 12 11 bop -3 83 a Fb(Confer)m(ence)26 b(on)e(Pr)m(o)o(gr)
o(amming)h(Langua)o(g)o(e)h(Design)f(and)f(Imple-)-3
167 y(mentation)c(\(PLDI)e('00\))p Fg(,)g(pages)i(1\22612,)g(June)g
(2000.)-131 264 y([3])41 b(D.)31 b(Bruening.)68 b Fb(Ef)o(\002cient,)34
b(T)l(r)o(anspar)m(ent,)i(and)c(Compr)m(ehensive)-3 348
y(Runtime)15 b(Code)h(Manipulation)p Fg(.)k(PhD)15 b(thesis,)g(M.I.T)-6
b(.,)15 b(Sept.)f(2004.)-131 444 y([4])41 b(E.)17 b(Bugnion,)i(S.)d(De)
n(vine,)j(and)f(M.)f(Rosenblum.)25 b(Disco:)e(Running)-3
528 y(commodity)j(operating)g(systems)f(on)g(scalable)g
(multiprocessors.)-3 612 y(In)30 b Fb(16th)f(A)n(CM)g(Symposium)h(on)g
(Oper)o(ating)g(System)f(Principles)-3 696 y(\(SOSP)19
b('97\))p Fg(,)g(pages)h(143\226156,)h(Oct.)d(1997.)-131
793 y([5])41 b(W)-7 b(.)23 b(Chen,)i(S.)d(Lerner)m(,)i(R.)f(Chaik)o
(en,)i(and)f(D.)f(M.)g(Gillies.)41 b(Mojo:)-3 877 y(A)22
b(dynamic)g(optimization)g(system.)36 b(In)21 b Fb(3r)m(d)h(A)n(CM)f(W)
-7 b(orkshop)24 b(on)-3 961 y(F)-6 b(eedbac)o(k-Dir)m(ected)30
b(and)f(Dynamic)g(Optimization)f(\(FDDO-3\))p Fg(,)-3
1045 y(pages)20 b(81\22690,)g(Dec.)f(2000.)-131 1141
y([6])41 b(T)-6 b(.)27 b(M.)g(Chilimbi.)53 b(Ef)n(\002cient)26
b(representations)j(and)e(abstractions)-3 1225 y(for)k(quantifying)g
(and)h(e)o(xploiting)f(data)f(reference)h(locality)-5
b(.)64 b(In)-3 1309 y Fb(A)n(CM)16 b(SIGPLAN)e(Confer)m(ence)k(on)e(Pr)
m(o)o(gr)o(amming)h(Langua)o(g)o(e)h(De-)-3 1394 y(sign)24
b(and)g(Implementation)g(\(PLDI)d('01\))p Fg(,)j(pages)g(191\226202,)i
(June)-3 1478 y(2001.)-131 1574 y([7])41 b(C.)21 b(Cifuentes,)h(B.)f
(Le)n(wis,)h(and)g(D.)f(Ung.)36 b(W)-6 b(alkabout)22
b(\227)g(a)f(retar)o(-)-3 1658 y(getable)e(dynamic)f(binary)g
(translation)g(frame)n(w)o(ork.)25 b(In)18 b Fb(4th)g(W)-7
b(ork-)-3 1742 y(shop)20 b(on)g(Binary)f(T)l(r)o(anslation)p
Fg(,)g(Sept.)f(2002.)-131 1839 y([8])41 b(R.)24 b(F)-6
b(.)22 b(Cmelik)i(and)h(D.)e(K)n(eppel.)43 b(Shade:)33
b(A)24 b(f)o(ast)g(instruction-set)-3 1923 y(simulator)f(for)g(e)o(x)o
(ecution)g(pro\002ling.)39 b Fb(A)n(CM)22 b(SIGMETRICS)g(P)-6
b(er)o(-)-3 2007 y(formance)20 b(Evaluation)g(Re)o(vie)o(w)p
Fg(,)e(22\(1\):128\226137,)j(May)f(1994.)-131 2103 y([9])41
b(Connectix.)28 b(V)l(irtual)18 b(PC.)26 b Fa
(http://www.microsoft.com/)-3 2187 y(windows/virtualpc/default.mspx)p
Fg(.)-169 2284 y([10])42 b(J.)37 b(C.)f(Dehnert,)41 b(B.)c(K.)f(Grant,)
41 b(J.)36 b(P)-8 b(.)36 b(Banning,)42 b(R.)36 b(Johnson,)-3
2368 y(T)-6 b(.)22 b(Kistler)m(,)f(A.)g(Klaiber)m(,)h(and)h(J.)e
(Mattson.)36 b(The)22 b(T)m(ransmeta)g(code)-3 2452 y(morphing)h(softw)
o(are:)29 b(Using)22 b(speculation,)h(reco)o(v)o(ery)-5
b(,)23 b(and)f(adap-)-3 2536 y(ti)n(v)o(e)28 b(retranslation)h(to)e
(address)i(real-life)f(challenges.)57 b(In)28 b Fb(Inter)o(-)-3
2620 y(national)22 b(Symposium)h(on)e(Code)h(Gener)o(ation)g(and)g
(Optimization)-3 2704 y(\(CGO)d('03\))p Fg(,)g(pages)g(15\22624,)i(Mar)
l(.)d(2003.)-169 2801 y([11])42 b(G.)28 b(Desoli,)h(N.)e(Matee)n(v)-5
b(,)31 b(E.)c(Duesterw)o(ald,)j(P)-8 b(.)26 b(F)o(araboschi,)k(and)-3
2885 y(J.)15 b(A.)g(Fisher)l(.)k(DELI:)14 b(A)h(ne)n(w)h(run-time)g
(control)g(point.)k(In)15 b Fb(35th)h(In-)-3 2969 y(ternational)22
b(Symposium)g(on)f(Micr)m(oar)m(c)o(hitectur)m(e)h(\(MICR)m(O)e('02\))p
Fg(,)-3 3053 y(pages)g(257\226268,)h(No)o(v)-5 b(.)19
b(2002.)-169 3149 y([12])42 b(A.)j(S.)e(Dhodapkar)k(and)e(J.)f(E.)g
(Smith.)109 b(Managing)47 b(multi-)-3 3233 y(con\002guration)31
b(hardw)o(are)f(via)f(dynamic)i(w)o(orking)f(set)f(analysis.)-3
3317 y(In)20 b Fb(29th)h(International)g(Symposium)g(on)g(Computer)f
(Ar)m(c)o(hitectur)m(e)-3 3401 y(\(ISCA)f('02\))p Fg(,)g(pages)g
(233\226244,)i(June)f(2002.)-169 3498 y([13])42 b(M.)28
b(Dubois,)j(C.)c(Scheurich,)k(and)d(F)-6 b(.)27 b(Briggs.)56
b(Memory)30 b(access)-3 3582 y(b)o(uf)n(fering)23 b(in)g
(multiprocessors.)40 b(In)22 b Fb(13th)i(International)f(Sympo-)-3
3666 y(sium)c(on)h(Computer)f(Ar)m(c)o(hitectur)m(e)h(\(ISCA)e('86\))p
Fg(,)h(pages)h(434\226442,)-3 3750 y(June)g(1986.)-169
3846 y([14])42 b(K.)30 b(Ebcioglu)h(and)h(E.)d(Altman.)64
b(D)m(AISY:)30 b(Dynamic)h(compila-)-3 3930 y(tion)i(for)f(100\045)h
(architectural)g(compatibility)-5 b(.)70 b(In)32 b Fb(24th)h(Inter)o(-)
-3 4015 y(national)24 b(Symposium)f(on)g(Computer)g(Ar)m(c)o(hitectur)m
(e)g(\(ISCA)f('97\))p Fg(,)-3 4099 y(pages)e(26\22637,)g(June)g(1997.)
-169 4195 y([15])42 b(GNU)f(Compiler)f(Connection)i(Internals.)97
b(T)m(rampolines)41 b(for)-3 4279 y(Nested)20 b(Functions.)27
b Fa(http://gcc.gnu.org/)-3 4363 y(onlinedocs/gccint/Trampolines.html)p
Fg(.)-169 4460 y([16])42 b(K.)21 b(Hazel)o(w)o(ood)i(and)f(J.)f(E.)f
(Smith.)34 b(Exploring)22 b(code)g(cache)g(e)n(vic-)-3
4544 y(tion)17 b(granularities)g(in)f(dynamic)i(optimization)f
(systems.)22 b(In)17 b Fb(Inter)o(-)-3 4628 y(national)22
b(Symposium)h(on)e(Code)h(Gener)o(ation)g(and)g(Optimization)-3
4712 y(\(CGO)d('04\))p Fg(,)g(pages)g(89\22699,)i(Mar)l(.)d(2004.)-169
4808 y([17])42 b(K.)36 b(Hazel)o(w)o(ood)h(and)f(M.)g(D.)f(Smith.)80
b(Code)36 b(cache)h(manage-)-3 4892 y(ment)d(schemes)h(for)e(dynamic)i
(optimizers.)74 b(In)34 b Fb(W)-7 b(orkshop)36 b(on)-3
4976 y(Inter)o(action)26 b(between)g(Compiler)o(s)g(and)g(Computer)f
(Ar)m(c)o(hitectur)m(e)-3 5060 y(\(Inter)o(act-6\))p
Fg(,)19 b(pages)h(102\226110,)h(Feb)m(.)d(2002.)-169
5157 y([18])42 b(Intel)21 b(Corporation.)34 b Fb(IA-32)21
b(Intel)g(Ar)m(c)o(hitectur)m(e)h(Softwar)m(e)f(De)o(vel-)-3
5241 y(oper')m(s)h(Manual)p Fg(,)g(v)o(olume)f(1\2263.)32
b(2001.)i(Order)20 b(Number)i(245470,)-3 5325 y(245471,)f(245472.)1988
83 y([19])42 b(Intel)26 b(Corporation.)54 b(Pin)26 b(\227)h(A)g(Binary)
g(Instrumentation)h(T)-6 b(ool,)2154 167 y(2003.)28 b
Fa(http://rogue.colorado.edu/Pin/)p Fg(.)1988 259 y([20])42
b(D.)27 b(K)n(eppel.)57 b(A)27 b(portable)i(interf)o(ace)g(for)e
(on-the-\003y)i(instruction)2154 343 y(space)22 b(modi\002cation.)34
b(In)21 b Fb(4th)h(International)g(Confer)m(ence)h(on)e(Ar)o(-)2154
427 y(c)o(hitectur)o(al)e(Support)i(for)e(Pr)m(o)o(gr)o(amming)h
(Langua)o(g)o(es)i(and)e(Oper)o(-)2154 511 y(ating)f(Systems)g
(\(ASPLOS)f('91\))p Fg(,)h(pages)h(86\22695,)g(Apr)l(.)f(1991.)1988
604 y([21])42 b(L.)23 b(Lamport.)45 b(Ho)n(w)25 b(to)f(mak)o(e)h(a)g
(multiprocessor)g(computer)h(that)2154 688 y(correctly)h(e)o(x)o
(ecutes)h(multiprocess)f(programs.)54 b Fb(IEEE)25 b(T)l(r)o(ansac-)
2154 772 y(tions)19 b(on)g(Computer)o(s)p Fg(,)h(28\(9\):241\226248,)h
(Sept.)d(1979.)1988 864 y([22])42 b(D.)19 b(C.)h(Lee,)g(P)-8
b(.)19 b(J.)h(Cro)n(wle)o(y)-5 b(,)21 b(J.)f(Baer)m(,)g(T)-6
b(.)20 b(E.)g(Anderson,)h(and)g(B.)f(N.)2154 948 y(Bershad.)44
b(Ex)o(ecution)25 b(characteristics)g(of)f(desktop)h(applications)2154
1032 y(on)18 b(W)m(indo)n(ws)f(NT.)23 b(In)18 b Fb(25th)g
(International)g(Symposium)h(on)f(Com-)2154 1116 y(puter)h(Ar)m(c)o
(hitectur)m(e)h(\(ISCA)e('98\))p Fg(,)h(pages)h(27\22638,)g(June)f
(1998.)1988 1208 y([23])42 b(J.)21 b(R.)g(Le)n(vine.)37
b Fb(Link)o(er)o(s)22 b(and)h(Loader)o(s)p Fg(.)38 b(Mor)o
(gan-Kaufman,)24 b(San)2154 1292 y(Francisco,)19 b(CA,)f(1999.)1988
1384 y([24])42 b(K.)26 b(Li)g(and)h(P)-8 b(.)25 b(Hudak.)53
b(Memory)28 b(coherence)g(in)f(shared)h(virtual)2154
1469 y(memory)19 b(systems.)25 b Fb(A)n(CM)18 b(T)l(r)o(ansactions)h
(on)g(Computer)f(Systems)p Fg(,)2154 1553 y(7\(4\):321\226359,)j(No)o
(v)-5 b(.)19 b(1989.)1988 1645 y([25])42 b(G.)e(Nebbett.)99
b Fb(W)l(indows)42 b(NT/2000)g(Native)f(API)f(Refer)m(ence)p
Fg(.)2154 1729 y(Macmillan)19 b(T)-5 b(echnical)19 b(Publishing,)g
(Indianapolis,)h(IN,)e(2000.)1988 1821 y([26])42 b(N.)23
b(Nethercote)i(and)g(J.)f(Se)n(w)o(ard.)44 b(V)-8 b(algrind:)34
b(A)24 b(program)h(super)o(-)2154 1905 y(vision)19 b(frame)n(w)o(ork.)
26 b(In)19 b Fb(3r)m(d)g(W)-7 b(orkshop)20 b(on)f(Runtime)f(V)-8
b(eri\002cation)2154 1989 y(\(R)o(V)17 b('03\))p Fg(,)i(Boulder)m(,)g
(Colorado,)h(USA,)d(July)j(2003.)1988 2081 y([27])42
b(M.)21 b(Pietrek.)34 b(An)21 b(in-depth)h(look)g(into)g(the)f(W)m
(in32)h(Portable)f(Ex)o(e-)2154 2165 y(cutable)e(\002le)f(format.)27
b Fb(MSDN)19 b(Ma)o(gazine)p Fg(,)h(17\(2\),)g(Feb)m(.)e(2002.)1988
2258 y([28])42 b(psbench@yahoo.com.)101 b(PS6bench)42
b(Photoshop)h(benchmark)2154 2342 y(\(Adv)n(anced\).)28
b Fa(http://www.geocities.com/Paris/)2154 2426 y
(Cafe/4363/download.html#ps6bench/)p Fg(.)1988 2518 y([29])42
b(A.)111 b(Robinson.)326 b(Why)112 b(dynamic)h(translation?)2154
2602 y(T)m(ransiti)n(v)o(e)154 b(T)-5 b(echnologies)155
b(Ltd.,)186 b(May)154 b(2001.)2154 2686 y Fa
(http://www.transitive.com/documents/)2154 2770 y
(Why_Dynamic_Translation1.pdf)p Fg(.)1988 2862 y([30])42
b(K.)20 b(Scott,)h(N.)f(K)o(umar)m(,)h(S.)f(V)-8 b(elusamy)j(,)22
b(B.)e(Childers,)i(J.)e(Da)o(vidson,)2154 2946 y(and)k(M.)f(L.)g(Sof)n
(f)o(a.)41 b(Recon\002gurable)25 b(and)f(retar)o(getable)g(softw)o(are)
2154 3030 y(dynamic)i(translation.)45 b(In)25 b Fb(International)h
(Symposium)g(on)f(Code)2154 3114 y(Gener)o(ation)16 b(and)g
(Optimization)f(\(CGO)g('03\))p Fg(,)h(pages)g(36\22647,)i(Mar)l(.)2154
3198 y(2003.)1988 3291 y([31])42 b(J.)16 b(Se)n(w)o(ard.)21
b(The)c(design)g(and)g(implementation)g(of)g(V)-8 b(algrind,)17
b(Mar)l(.)2154 3375 y(2002.)28 b Fa(http://valgrind.kde.org/)p
Fg(.)1988 3467 y([32])42 b(X.)19 b(Shen,)h(Y)-10 b(.)19
b(Zhong,)i(and)f(C.)f(Ding.)30 b(Locality)19 b(phase)i(prediction.)2154
3551 y(In)k Fb(14th)i(International)g(Confer)m(ence)g(on)f(Ar)m(c)o
(hitectur)o(al)g(Support)2154 3635 y(for)21 b(Pr)m(o)o(gr)o(amming)i
(Langua)o(g)o(es)g(and)g(Oper)o(ating)f(Systems)g(\(ASP-)2154
3719 y(LOS)c('04\))p Fg(,)h(Oct.)f(2004.)1988 3811 y([33])42
b(T)-6 b(.)19 b(Sherw)o(ood,)i(E.)e(Perelman,)h(G.)g(Hamerly)-5
b(,)20 b(and)h(B.)e(Calder)l(.)30 b(Au-)2154 3895 y(tomatically)21
b(characterizing)i(lar)o(ge)e(scale)h(program)g(beha)o(vior)l(.)36
b(In)2154 3979 y Fb(13th)22 b(International)h(Confer)m(ence)g(on)f(Ar)m
(c)o(hitectur)o(al)f(Support)i(for)2154 4063 y(Pr)m(o)o(gr)o(amming)f
(Langua)o(g)o(es)i(and)f(Oper)o(ating)f(Systems)g(\(ASPLOS)2154
4147 y('02\))p Fg(,)d(pages)g(45\22657,)h(Oct.)f(2002.)1988
4239 y([34])42 b(Standard)203 b(Performance)g(Ev)n(aluation)h(Corpo-)
2154 4323 y(ration.)324 b(SPEC)111 b(JVM)h(Client98)g(benchmark.)2154
4407 y Fa(http://www.spec.org/osg/jvm98)p Fg(.)1988 4500
y([35])42 b(Standard)184 b(Performance)g(Ev)n(aluation)g(Corpora-)2154
4584 y(tion.)207 b(SPEC)73 b(CPU2000)j(benchmark)h(suite,)88
b(2000.)2154 4668 y Fa(http://www.spec.org/osg/cpu2000/)p
Fg(.)1988 4760 y([36])42 b(E.)14 b(W)m(itchel)h(and)h(M.)g(Rosenblum.)
21 b(Embra:)g(F)o(ast)15 b(and)h(\003e)o(xible)f(ma-)2154
4844 y(chine)24 b(simulation.)43 b(In)24 b Fb(1996)h(A)n(CM)e
(SIGMETRICS)g(Confer)m(ence)2154 4928 y(on)c(Measur)m(ement)h(and)g
(Modeling)g(of)e(Computer)i(Systems)p Fg(,)e(pages)2154
5012 y(68\22679,)i(May)f(1996.)1988 5104 y([37])42 b(C.)13
b(Zheng)j(and)f(C.)e(Thompson.)19 b(P)-7 b(A-RISC)13
b(to)h(IA-64:)21 b(T)m(ransparent)2154 5188 y(e)o(x)o(ecution,)f(no)g
(recompilation.)29 b Fb(IEEE)19 b(Computer)p Fg(,)h(33\(3\):47\22653,)
2154 5272 y(Mar)l(.)e(2000.)1839 5574 y Fi(12)p eop end
%%Trailer

userdict /end-hook known{end-hook}if
%%EOF
